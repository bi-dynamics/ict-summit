"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-infinite-scroll_2_entry_js"],{

/***/ 3025:
/*!**************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-infinite-scroll_2.entry.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_infinite_scroll: () => (/* binding */ InfiniteScroll),
/* harmony export */   ion_infinite_scroll_content: () => (/* binding */ InfiniteScrollContent)
/* harmony export */ });
/* harmony import */ var C_Users_Blessing_Kunaka_Desktop_mining_expo_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-36a5fd75.js */ 78705);
/* harmony import */ var _index_7373924f_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-7373924f.js */ 68873);
/* harmony import */ var _ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ionic-global-a9abd569.js */ 74771);
/* harmony import */ var _config_80c044f2_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config-80c044f2.js */ 45783);
/* harmony import */ var _helpers_f586db1c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers-f586db1c.js */ 75272);
/* harmony import */ var _index_e86f0117_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-e86f0117.js */ 50123);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */






const infiniteScrollCss = "ion-infinite-scroll{display:none;width:100%}.infinite-scroll-enabled{display:block}";
const InfiniteScroll = class {
  constructor(hostRef) {
    (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionInfinite = (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionInfinite", 7);
    this.thrPx = 0;
    this.thrPc = 0;
    this.didFire = false;
    this.isBusy = false;
    this.onScroll = () => {
      const scrollEl = this.scrollEl;
      if (!scrollEl || !this.canStart()) {
        return 1;
      }
      const infiniteHeight = this.el.offsetHeight;
      if (infiniteHeight === 0) {
        // if there is no height of this element then do nothing
        return 2;
      }
      const scrollTop = scrollEl.scrollTop;
      const scrollHeight = scrollEl.scrollHeight;
      const height = scrollEl.offsetHeight;
      const threshold = this.thrPc !== 0 ? height * this.thrPc : this.thrPx;
      const distanceFromInfinite = this.position === 'bottom' ? scrollHeight - infiniteHeight - scrollTop - threshold - height : scrollTop - infiniteHeight - threshold;
      if (distanceFromInfinite < 0) {
        if (!this.didFire) {
          this.isLoading = true;
          this.didFire = true;
          this.ionInfinite.emit();
          return 3;
        }
      } else {
        this.didFire = false;
      }
      return 4;
    };
    this.isLoading = false;
    this.threshold = '15%';
    this.disabled = false;
    this.position = 'bottom';
  }
  thresholdChanged() {
    const val = this.threshold;
    if (val.lastIndexOf('%') > -1) {
      this.thrPx = 0;
      this.thrPc = parseFloat(val) / 100;
    } else {
      this.thrPx = parseFloat(val);
      this.thrPc = 0;
    }
  }
  disabledChanged() {
    const disabled = this.disabled;
    if (disabled) {
      this.isLoading = false;
      this.isBusy = false;
    }
    this.enableScrollEvents(!disabled);
  }
  connectedCallback() {
    var _this = this;
    return (0,C_Users_Blessing_Kunaka_Desktop_mining_expo_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const contentEl = (0,_index_7373924f_js__WEBPACK_IMPORTED_MODULE_2__.f)(_this.el);
      if (!contentEl) {
        (0,_index_7373924f_js__WEBPACK_IMPORTED_MODULE_2__.p)(_this.el);
        return;
      }
      _this.scrollEl = yield (0,_index_7373924f_js__WEBPACK_IMPORTED_MODULE_2__.g)(contentEl);
      _this.thresholdChanged();
      _this.disabledChanged();
      if (_this.position === 'top') {
        (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => {
          if (_this.scrollEl) {
            _this.scrollEl.scrollTop = _this.scrollEl.scrollHeight - _this.scrollEl.clientHeight;
          }
        });
      }
    })();
  }
  disconnectedCallback() {
    this.enableScrollEvents(false);
    this.scrollEl = undefined;
  }
  /**
   * Call `complete()` within the `ionInfinite` output event handler when
   * your async operation has completed. For example, the `loading`
   * state is while the app is performing an asynchronous operation,
   * such as receiving more data from an AJAX request to add more items
   * to a data list. Once the data has been received and UI updated, you
   * then call this method to signify that the loading has completed.
   * This method will change the infinite scroll's state from `loading`
   * to `enabled`.
   */
  complete() {
    var _this2 = this;
    return (0,C_Users_Blessing_Kunaka_Desktop_mining_expo_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const scrollEl = _this2.scrollEl;
      if (!_this2.isLoading || !scrollEl) {
        return;
      }
      _this2.isLoading = false;
      if (_this2.position === 'top') {
        /**
         * New content is being added at the top, but the scrollTop position stays the same,
         * which causes a scroll jump visually. This algorithm makes sure to prevent this.
         * (Frame 1)
         *    - complete() is called, but the UI hasn't had time to update yet.
         *    - Save the current content dimensions.
         *    - Wait for the next frame using _dom.read, so the UI will be updated.
         * (Frame 2)
         *    - Read the new content dimensions.
         *    - Calculate the height difference and the new scroll position.
         *    - Delay the scroll position change until other possible dom reads are done using _dom.write to be performant.
         * (Still frame 2, if I'm correct)
         *    - Change the scroll position (= visually maintain the scroll position).
         *    - Change the state to re-enable the InfiniteScroll.
         *    - This should be after changing the scroll position, or it could
         *    cause the InfiniteScroll to be triggered again immediately.
         * (Frame 3)
         *    Done.
         */
        _this2.isBusy = true;
        // ******** DOM READ ****************
        // Save the current content dimensions before the UI updates
        const prev = scrollEl.scrollHeight - scrollEl.scrollTop;
        // ******** DOM READ ****************
        requestAnimationFrame(() => {
          (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.e)(() => {
            // UI has updated, save the new content dimensions
            const scrollHeight = scrollEl.scrollHeight;
            // New content was added on top, so the scroll position should be changed immediately to prevent it from jumping around
            const newScrollTop = scrollHeight - prev;
            // ******** DOM WRITE ****************
            requestAnimationFrame(() => {
              (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.w)(() => {
                scrollEl.scrollTop = newScrollTop;
                _this2.isBusy = false;
              });
            });
          });
        });
      }
    })();
  }
  canStart() {
    return !this.disabled && !this.isBusy && !!this.scrollEl && !this.isLoading;
  }
  enableScrollEvents(shouldListen) {
    if (this.scrollEl) {
      if (shouldListen) {
        this.scrollEl.addEventListener('scroll', this.onScroll);
      } else {
        this.scrollEl.removeEventListener('scroll', this.onScroll);
      }
    }
  }
  render() {
    const mode = (0,_ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
    const disabled = this.disabled;
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: {
        [mode]: true,
        'infinite-scroll-loading': this.isLoading,
        'infinite-scroll-enabled': !disabled
      }
    });
  }
  get el() {
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "threshold": ["thresholdChanged"],
      "disabled": ["disabledChanged"]
    };
  }
};
InfiniteScroll.style = infiniteScrollCss;
const infiniteScrollContentIosCss = "ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:4px;margin-bottom:0}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-ios .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-lines-small-ios line,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-ios .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-ios .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}";
const infiniteScrollContentMdCss = "ion-infinite-scroll-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center;min-height:84px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.infinite-loading{margin-left:0;margin-right:0;margin-top:0;margin-bottom:32px;display:none;width:100%}.infinite-loading-text{-webkit-margin-start:32px;margin-inline-start:32px;-webkit-margin-end:32px;margin-inline-end:32px;margin-top:4px;margin-bottom:0}.infinite-scroll-loading ion-infinite-scroll-content>.infinite-loading{display:block}.infinite-scroll-content-md .infinite-loading-text{color:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-lines-small-md line,.infinite-scroll-content-md .infinite-loading-spinner .spinner-crescent circle{stroke:var(--ion-color-step-600, #666666)}.infinite-scroll-content-md .infinite-loading-spinner .spinner-bubbles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-circles circle,.infinite-scroll-content-md .infinite-loading-spinner .spinner-dots circle{fill:var(--ion-color-step-600, #666666)}";
const InfiniteScrollContent = class {
  constructor(hostRef) {
    (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.customHTMLEnabled = _ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.c.get('innerHTMLTemplatesEnabled', _config_80c044f2_js__WEBPACK_IMPORTED_MODULE_4__.E);
    this.loadingSpinner = undefined;
    this.loadingText = undefined;
  }
  componentDidLoad() {
    if (this.loadingSpinner === undefined) {
      const mode = (0,_ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
      this.loadingSpinner = _ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.c.get('infiniteLoadingSpinner', _ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.c.get('spinner', mode === 'ios' ? 'lines' : 'crescent'));
    }
  }
  renderLoadingText() {
    const {
      customHTMLEnabled,
      loadingText
    } = this;
    if (customHTMLEnabled) {
      return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
        class: "infinite-loading-text",
        innerHTML: (0,_config_80c044f2_js__WEBPACK_IMPORTED_MODULE_4__.a)(loadingText)
      });
    }
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "infinite-loading-text"
    }, this.loadingText);
  }
  render() {
    const mode = (0,_ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: {
        [mode]: true,
        // Used internally for styling
        [`infinite-scroll-content-${mode}`]: true
      }
    }, (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "infinite-loading"
    }, this.loadingSpinner && (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "infinite-loading-spinner"
    }, (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-spinner", {
      name: this.loadingSpinner
    })), this.loadingText !== undefined && this.renderLoadingText()));
  }
};
InfiniteScrollContent.style = {
  ios: infiniteScrollContentIosCss,
  md: infiniteScrollContentMdCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWluZmluaXRlLXNjcm9sbF8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDNEk7QUFDdEI7QUFDNUM7QUFDc0I7QUFDakU7QUFDRjtBQUU3QixNQUFNMEIsaUJBQWlCLEdBQUcscUZBQXFGO0FBRS9HLE1BQU1DLGNBQWMsR0FBRyxNQUFNO0VBQzNCQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDbkI1QixxREFBZ0IsQ0FBQyxJQUFJLEVBQUU0QixPQUFPLENBQUM7SUFDL0IsSUFBSSxDQUFDQyxXQUFXLEdBQUczQixxREFBVyxDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsQ0FBQyxDQUFDO0lBQ3RELElBQUksQ0FBQzRCLEtBQUssR0FBRyxDQUFDO0lBQ2QsSUFBSSxDQUFDQyxLQUFLLEdBQUcsQ0FBQztJQUNkLElBQUksQ0FBQ0MsT0FBTyxHQUFHLEtBQUs7SUFDcEIsSUFBSSxDQUFDQyxNQUFNLEdBQUcsS0FBSztJQUNuQixJQUFJLENBQUNDLFFBQVEsR0FBRyxNQUFNO01BQ3BCLE1BQU1DLFFBQVEsR0FBRyxJQUFJLENBQUNBLFFBQVE7TUFDOUIsSUFBSSxDQUFDQSxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQyxDQUFDLEVBQUU7UUFDakMsT0FBTyxDQUFDO01BQ1Y7TUFDQSxNQUFNQyxjQUFjLEdBQUcsSUFBSSxDQUFDQyxFQUFFLENBQUNDLFlBQVk7TUFDM0MsSUFBSUYsY0FBYyxLQUFLLENBQUMsRUFBRTtRQUN4QjtRQUNBLE9BQU8sQ0FBQztNQUNWO01BQ0EsTUFBTUcsU0FBUyxHQUFHTCxRQUFRLENBQUNLLFNBQVM7TUFDcEMsTUFBTUMsWUFBWSxHQUFHTixRQUFRLENBQUNNLFlBQVk7TUFDMUMsTUFBTUMsTUFBTSxHQUFHUCxRQUFRLENBQUNJLFlBQVk7TUFDcEMsTUFBTUksU0FBUyxHQUFHLElB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Q1AsTUFBTUMsSUFBSSxHQUFHckQsNERBQVUsQ0FBQyxJQUFJLENBQUM7SUFDN0IsT0FBUVgscURBQUMsQ0FBQ0ksaURBQUksRUFBRTtNQUFFNkQsS0FBSyxFQUFFO1FBQ3JCLENBQUNELElBQUksR0FBRyxJQUFJO1FBQ1o7UUFDQSxDQUFFLDJCQUEwQkEsSUFBSyxFQUFDLEdBQUc7TUFDdkM7SUFBRSxDQUFDLEVBQUVoRSxxREFBQyxDQUFDLEtBQUssRUFBRTtNQUFFaUUsS0FBSyxFQUFFO0lBQW1CLENBQUMsRUFBRSxJQUFJLENBQUNRLGNBQWMsSUFBS3pFLHFEQUFDLENBQUMsS0FBSyxFQUFFO01BQUVpRSxLQUFLLEVBQUU7SUFBMkIsQ0FBQyxFQUFFakUscURBQUMsQ0FBQyxhQUFhLEVBQUU7TUFBRThFLElBQUksRUFBRSxJQUFJLENBQUNMO0lBQWUsQ0FBQyxDQUFDLENBQUUsRUFBRSxJQUFJLENBQUNDLFdBQVcsS0FBS3BCLFNBQVMsSUFBSSxJQUFJLENBQUNzQixpQkFBaUIsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUN4TztBQUNGLENBQUM7QUFDRE4scUJBQXFCLENBQUNILEtBQUssR0FBRztFQUM1QlksR0FBRyxFQUFFWCwyQkFBMkI7RUFDaENZLEVBQUUsRUFBRVg7QUFDTixDQUFDIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24taW5maW5pdGUtc2Nyb2xsXzIuZW50cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiAoQykgSW9uaWMgaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbSAtIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVnaXN0ZXJJbnN0YW5jZSwgZCBhcyBjcmVhdGVFdmVudCwgdyBhcyB3cml0ZVRhc2ssIGUgYXMgcmVhZFRhc2ssIGgsIGYgYXMgZ2V0RWxlbWVudCwgSCBhcyBIb3N0IH0gZnJvbSAnLi9pbmRleC0zNmE1ZmQ3NS5qcyc7XG5pbXBvcnQgeyBmIGFzIGZpbmRDbG9zZXN0SW9uQ29udGVudCwgcCBhcyBwcmludElvbkNvbnRlbnRFcnJvck1zZywgZyBhcyBnZXRTY3JvbGxFbGVtZW50IH0gZnJvbSAnLi9pbmRleC03MzczOTI0Zi5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUsIGMgYXMgY29uZmlnIH0gZnJvbSAnLi9pb25pYy1nbG9iYWwtYTlhYmQ1NjkuanMnO1xuaW1wb3J0IHsgRSBhcyBFTkFCTEVfSFRNTF9DT05URU5UX0RFRkFVTFQsIGEgYXMgc2FuaXRpemVET01TdHJpbmcgfSBmcm9tICcuL2NvbmZpZy04MGMwNDRmMi5qcyc7XG5pbXBvcnQgJy4vaGVscGVycy1mNTg2ZGIxYy5qcyc7XG5pbXBvcnQgJy4vaW5kZXgtZTg2ZjAxMTcuanMnO1xuXG5jb25zdCBpbmZpbml0ZVNjcm9sbENzcyA9IFwiaW9uLWluZmluaXRlLXNjcm9sbHtkaXNwbGF5Om5vbmU7d2lkdGg6MTAwJX0uaW5maW5pdGUtc2Nyb2xsLWVuYWJsZWR7ZGlzcGxheTpibG9ja31cIjtcblxuY29uc3QgSW5maW5pdGVTY3JvbGwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuaW9uSW5maW5pdGUgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkluZmluaXRlXCIsIDcpO1xuICAgIHRoaXMudGhyUHggPSAwO1xuICAgIHRoaXMudGhyUGMgPSAwO1xuICAgIHRoaXMuZGlkRmlyZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNCdXN5ID0gZmFsc2U7XG4gICAgdGhpcy5vblNjcm9sbCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHNjcm9sbEVsID0gdGhpcy5zY3JvbGxFbDtcbiAgICAgIGlmICghc2Nyb2xsRWwgfHwgIXRoaXMuY2FuU3RhcnQoKSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluZmluaXRlSGVpZ2h0ID0gdGhpcy5lbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBpZiAoaW5maW5pdGVIZWlnaHQgPT09IDApIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gaGVpZ2h0IG9mIHRoaXMgZWxlbWVudCB0aGVuIGRvIG5vdGhpbmdcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgICB9XG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSBzY3JvbGxFbC5zY3JvbGxUb3A7XG4gICAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSBzY3JvbGxFbC5zY3JvbGxIZWlnaHQ7XG4gICAgICBjb25zdCBoZWlnaHQgPSBzY3JvbGxFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBjb25zdCB0aHJlc2hvbGQgPSB0aGlzLnRoclBjICE9PSAwID8gaGVpZ2h0ICogdGhpcy50aHJQYyA6IHRoaXMudGhyUHg7XG4gICAgICBjb25zdCBkaXN0YW5jZUZyb21JbmZpbml0ZSA9IHRoaXMucG9zaXRpb24gPT09ICdib3R0b20nXG4gICAgICAgID8gc2Nyb2xsSGVpZ2h0IC0gaW5maW5pdGVIZWlnaHQgLSBzY3JvbGxUb3AgLSB0aHJlc2hvbGQgLSBoZWlnaHRcbiAgICAgICAgOiBzY3JvbGxUb3AgLSBpbmZpbml0ZUhlaWdodCAtIHRocmVzaG9sZDtcbiAgICAgIGlmIChkaXN0YW5jZUZyb21JbmZpbml0ZSA8IDApIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpZEZpcmUpIHtcbiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy5kaWRGaXJlID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmlvbkluZmluaXRlLmVtaXQoKTtcbiAgICAgICAgICByZXR1cm4gMztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZGlkRmlyZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDQ7XG4gICAgfTtcbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIHRoaXMudGhyZXNob2xkID0gJzE1JSc7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMucG9zaXRpb24gPSAnYm90dG9tJztcbiAgfVxuICB0aHJlc2hvbGRDaGFuZ2VkKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMudGhyZXNob2xkO1xuICAgIGlmICh2YWwubGFzdEluZGV4T2YoJyUnKSA+IC0xKSB7XG4gICAgICB0aGlzLnRoclB4ID0gMDtcbiAgICAgIHRoaXMudGhyUGMgPSBwYXJzZUZsb2F0KHZhbCkgLyAxMDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy50aHJQeCA9IHBhcnNlRmxvYXQodmFsKTtcbiAgICAgIHRoaXMudGhyUGMgPSAwO1xuICAgIH1cbiAgfVxuICBkaXNhYmxlZENoYW5nZWQoKSB7XG4gICAgY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkO1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNCdXN5ID0gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuZW5hYmxlU2Nyb2xsRXZlbnRzKCFkaXNhYmxlZCk7XG4gIH1cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgY29udGVudEVsID0gZmluZENsb3Nlc3RJb25Db250ZW50KHRoaXMuZWwpO1xuICAgIGlmICghY29udGVudEVsKSB7XG4gICAgICBwcmludElvbkNvbnRlbnRFcnJvck1zZyh0aGlzLmVsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zY3JvbGxFbCA9IGF3YWl0IGdldFNjcm9sbEVsZW1lbnQoY29udGVudEVsKTtcbiAgICB0aGlzLnRocmVzaG9sZENoYW5nZWQoKTtcbiAgICB0aGlzLmRpc2FibGVkQ2hhbmdlZCgpO1xuICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsRWwpIHtcbiAgICAgICAgICB0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5zY3JvbGxFbC5jbGllbnRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmVuYWJsZVNjcm9sbEV2ZW50cyhmYWxzZSk7XG4gICAgdGhpcy5zY3JvbGxFbCA9IHVuZGVmaW5lZDtcbiAgfVxuICAvKipcbiAgICogQ2FsbCBgY29tcGxldGUoKWAgd2l0aGluIHRoZSBgaW9uSW5maW5pdGVgIG91dHB1dCBldmVudCBoYW5kbGVyIHdoZW5cbiAgICogeW91ciBhc3luYyBvcGVyYXRpb24gaGFzIGNvbXBsZXRlZC4gRm9yIGV4YW1wbGUsIHRoZSBgbG9hZGluZ2BcbiAgICogc3RhdGUgaXMgd2hpbGUgdGhlIGFwcCBpcyBwZXJmb3JtaW5nIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sXG4gICAqIHN1Y2ggYXMgcmVjZWl2aW5nIG1vcmUgZGF0YSBmcm9tIGFuIEFKQVggcmVxdWVzdCB0byBhZGQgbW9yZSBpdGVtc1xuICAgKiB0byBhIGRhdGEgbGlzdC4gT25jZSB0aGUgZGF0YSBoYXMgYmVlbiByZWNlaXZlZCBhbmQgVUkgdXBkYXRlZCwgeW91XG4gICAqIHRoZW4gY2FsbCB0aGlzIG1ldGhvZCB0byBzaWduaWZ5IHRoYXQgdGhlIGxvYWRpbmcgaGFzIGNvbXBsZXRlZC5cbiAgICogVGhpcyBtZXRob2Qgd2lsbCBjaGFuZ2UgdGhlIGluZmluaXRlIHNjcm9sbCdzIHN0YXRlIGZyb20gYGxvYWRpbmdgXG4gICAqIHRvIGBlbmFibGVkYC5cbiAgICovXG4gIGFzeW5jIGNvbXBsZXRlKCkge1xuICAgIGNvbnN0IHNjcm9sbEVsID0gdGhpcy5zY3JvbGxFbDtcbiAgICBpZiAoIXRoaXMuaXNMb2FkaW5nIHx8ICFzY3JvbGxFbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgLyoqXG4gICAgICAgKiBOZXcgY29udGVudCBpcyBiZWluZyBhZGRlZCBhdCB0aGUgdG9wLCBidXQgdGhlIHNjcm9sbFRvcCBwb3NpdGlvbiBzdGF5cyB0aGUgc2FtZSxcbiAgICAgICAqIHdoaWNoIGNhdXNlcyBhIHNjcm9sbCBqdW1wIHZpc3VhbGx5LiBUaGlzIGFsZ29yaXRobSBtYWtlcyBzdXJlIHRvIHByZXZlbnQgdGhpcy5cbiAgICAgICAqIChGcmFtZSAxKVxuICAgICAgICogICAgLSBjb21wbGV0ZSgpIGlzIGNhbGxlZCwgYnV0IHRoZSBVSSBoYXNuJ3QgaGFkIHRpbWUgdG8gdXBkYXRlIHlldC5cbiAgICAgICAqICAgIC0gU2F2ZSB0aGUgY3VycmVudCBjb250ZW50IGRpbWVuc2lvbnMuXG4gICAgICAgKiAgICAtIFdhaXQgZm9yIHRoZSBuZXh0IGZyYW1lIHVzaW5nIF9kb20ucmVhZCwgc28gdGhlIFVJIHdpbGwgYmUgdXBkYXRlZC5cbiAgICAgICAqIChGcmFtZSAyKVxuICAgICAgICogICAgLSBSZWFkIHRoZSBuZXcgY29udGVudCBkaW1lbnNpb25zLlxuICAgICAgICogICAgLSBDYWxjdWxhdGUgdGhlIGhlaWdodCBkaWZmZXJlbmNlIGFuZCB0aGUgbmV3IHNjcm9sbCBwb3NpdGlvbi5cbiAgICAgICAqICAgIC0gRGVsYXkgdGhlIHNjcm9sbCBwb3NpdGlvbiBjaGFuZ2UgdW50aWwgb3RoZXIgcG9zc2libGUgZG9tIHJlYWRzIGFyZSBkb25lIHVzaW5nIF9kb20ud3JpdGUgdG8gYmUgcGVyZm9ybWFudC5cbiAgICAgICAqIChTdGlsbCBmcmFtZSAyLCBpZiBJJ20gY29ycmVjdClcbiAgICAgICAqICAgIC0gQ2hhbmdlIHRoZSBzY3JvbGwgcG9zaXRpb24gKD0gdmlzdWFsbHkgbWFpbnRhaW4gdGhlIHNjcm9sbCBwb3NpdGlvbikuXG4gICAgICAgKiAgICAtIENoYW5nZSB0aGUgc3RhdGUgdG8gcmUtZW5hYmxlIHRoZSBJbmZpbml0ZVNjcm9sbC5cbiAgICAgICAqICAgIC0gVGhpcyBzaG91bGQgYmUgYWZ0ZXIgY2hhbmdpbmcgdGhlIHNjcm9sbCBwb3NpdGlvbiwgb3IgaXQgY291bGRcbiAgICAgICAqICAgIGNhdXNlIHRoZSBJbmZpbml0ZVNjcm9sbCB0byBiZSB0cmlnZ2VyZWQgYWdhaW4gaW1tZWRpYXRlbHkuXG4gICAgICAgKiAoRnJhbWUgMylcbiAgICAgICAqICAgIERvbmUuXG4gICAgICAgKi9cbiAgICAgIHRoaXMuaXNCdXN5ID0gdHJ1ZTtcbiAgICAgIC8vICoqKioqKioqIERPTSBSRUFEICoqKioqKioqKioqKioqKipcbiAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgY29udGVudCBkaW1lbnNpb25zIGJlZm9yZSB0aGUgVUkgdXBkYXRlc1xuICAgICAgY29uc3QgcHJldiA9IHNjcm9sbEVsLnNjcm9sbEhlaWdodCAtIHNjcm9sbEVsLnNjcm9sbFRvcDtcbiAgICAgIC8vICoqKioqKioqIERPTSBSRUFEICoqKioqKioqKioqKioqKipcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlYWRUYXNrKCgpID0+IHtcbiAgICAgICAgICAvLyBVSSBoYXMgdXBkYXRlZCwgc2F2ZSB0aGUgbmV3IGNvbnRlbnQgZGltZW5zaW9uc1xuICAgICAgICAgIGNvbnN0IHNjcm9sbEhlaWdodCA9IHNjcm9sbEVsLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICAvLyBOZXcgY29udGVudCB3YXMgYWRkZWQgb24gdG9wLCBzbyB0aGUgc2Nyb2xsIHBvc2l0aW9uIHNob3VsZCBiZSBjaGFuZ2VkIGltbWVkaWF0ZWx5IHRvIHByZXZlbnQgaXQgZnJvbSBqdW1waW5nIGFyb3VuZFxuICAgICAgICAgIGNvbnN0IG5ld1Njcm9sbFRvcCA9IHNjcm9sbEhlaWdodCAtIHByZXY7XG4gICAgICAgICAgLy8gKioqKioqKiogRE9NIFdSSVRFICoqKioqKioqKioqKioqKipcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgd3JpdGVUYXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgc2Nyb2xsRWwuc2Nyb2xsVG9wID0gbmV3U2Nyb2xsVG9wO1xuICAgICAgICAgICAgICB0aGlzLmlzQnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNhblN0YXJ0KCkge1xuICAgIHJldHVybiAhdGhpcy5kaXNhYmxlZCAmJiAhdGhpcy5pc0J1c3kgJiYgISF0aGlzLnNjcm9sbEVsICYmICF0aGlzLmlzTG9hZGluZztcbiAgfVxuICBlbmFibGVTY3JvbGxFdmVudHMoc2hvdWxkTGlzdGVuKSB7XG4gICAgaWYgKHRoaXMuc2Nyb2xsRWwpIHtcbiAgICAgIGlmIChzaG91bGRMaXN0ZW4pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxFbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnNjcm9sbEVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgY29uc3QgZGlzYWJsZWQgPSB0aGlzLmRpc2FibGVkO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiB7XG4gICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgJ2luZmluaXRlLXNjcm9sbC1sb2FkaW5nJzogdGhpcy5pc0xvYWRpbmcsXG4gICAgICAgICdpbmZpbml0ZS1zY3JvbGwtZW5hYmxlZCc6ICFkaXNhYmxlZCxcbiAgICAgIH0gfSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcInRocmVzaG9sZFwiOiBbXCJ0aHJlc2hvbGRDaGFuZ2VkXCJdLFxuICAgIFwiZGlzYWJsZWRcIjogW1wiZGlzYWJsZWRDaGFuZ2VkXCJdXG4gIH07IH1cbn07XG5JbmZpbml0ZVNjcm9sbC5zdHlsZSA9IGluZmluaXRlU2Nyb2xsQ3NzO1xuXG5jb25zdCBpbmZpbml0ZVNjcm9sbENvbnRlbnRJb3NDc3MgPSBcImlvbi1pbmZpbml0ZS1zY3JvbGwtY29udGVudHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO21pbi1oZWlnaHQ6ODRweDt0ZXh0LWFsaWduOmNlbnRlcjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmluZmluaXRlLWxvYWRpbmd7bWFyZ2luLWxlZnQ6MDttYXJnaW4tcmlnaHQ6MDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTozMnB4O2Rpc3BsYXk6bm9uZTt3aWR0aDoxMDAlfS5pbmZpbml0ZS1sb2FkaW5nLXRleHR7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MzJweDttYXJnaW4taW5saW5lLXN0YXJ0OjMycHg7LXdlYmtpdC1tYXJnaW4tZW5kOjMycHg7bWFyZ2luLWlubGluZS1lbmQ6MzJweDttYXJnaW4tdG9wOjRweDttYXJnaW4tYm90dG9tOjB9LmluZmluaXRlLXNjcm9sbC1sb2FkaW5nIGlvbi1pbmZpbml0ZS1zY3JvbGwtY29udGVudD4uaW5maW5pdGUtbG9hZGluZ3tkaXNwbGF5OmJsb2NrfS5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1pb3MgLmluZmluaXRlLWxvYWRpbmctdGV4dHtjb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC02MDAsICM2NjY2NjYpfS5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1pb3MgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1saW5lcy1pb3MgbGluZSwuaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtaW9zIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItbGluZXMtc21hbGwtaW9zIGxpbmUsLmluZmluaXRlLXNjcm9sbC1jb250ZW50LWlvcyAuaW5maW5pdGUtbG9hZGluZy1zcGlubmVyIC5zcGlubmVyLWNyZXNjZW50IGNpcmNsZXtzdHJva2U6dmFyKC0taW9uLWNvbG9yLXN0ZXAtNjAwLCAjNjY2NjY2KX0uaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtaW9zIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItYnViYmxlcyBjaXJjbGUsLmluZmluaXRlLXNjcm9sbC1jb250ZW50LWlvcyAuaW5maW5pdGUtbG9hZGluZy1zcGlubmVyIC5zcGlubmVyLWNpcmNsZXMgY2lyY2xlLC5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1pb3MgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1kb3RzIGNpcmNsZXtmaWxsOnZhcigtLWlvbi1jb2xvci1zdGVwLTYwMCwgIzY2NjY2Nil9XCI7XG5cbmNvbnN0IGluZmluaXRlU2Nyb2xsQ29udGVudE1kQ3NzID0gXCJpb24taW5maW5pdGUtc2Nyb2xsLWNvbnRlbnR7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXgtcGFjazpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjttaW4taGVpZ2h0Ojg0cHg7dGV4dC1hbGlnbjpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5pbmZpbml0ZS1sb2FkaW5ne21hcmdpbi1sZWZ0OjA7bWFyZ2luLXJpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MzJweDtkaXNwbGF5Om5vbmU7d2lkdGg6MTAwJX0uaW5maW5pdGUtbG9hZGluZy10ZXh0ey13ZWJraXQtbWFyZ2luLXN0YXJ0OjMycHg7bWFyZ2luLWlubGluZS1zdGFydDozMnB4Oy13ZWJraXQtbWFyZ2luLWVuZDozMnB4O21hcmdpbi1pbmxpbmUtZW5kOjMycHg7bWFyZ2luLXRvcDo0cHg7bWFyZ2luLWJvdHRvbTowfS5pbmZpbml0ZS1zY3JvbGwtbG9hZGluZyBpb24taW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQ+LmluZmluaXRlLWxvYWRpbmd7ZGlzcGxheTpibG9ja30uaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtbWQgLmluZmluaXRlLWxvYWRpbmctdGV4dHtjb2xvcjp2YXIoLS1pb24tY29sb3Itc3RlcC02MDAsICM2NjY2NjYpfS5pbmZpbml0ZS1zY3JvbGwtY29udGVudC1tZCAuaW5maW5pdGUtbG9hZGluZy1zcGlubmVyIC5zcGlubmVyLWxpbmVzLW1kIGxpbmUsLmluZmluaXRlLXNjcm9sbC1jb250ZW50LW1kIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItbGluZXMtc21hbGwtbWQgbGluZSwuaW5maW5pdGUtc2Nyb2xsLWNvbnRlbnQtbWQgLmluZmluaXRlLWxvYWRpbmctc3Bpbm5lciAuc3Bpbm5lci1jcmVzY2VudCBjaXJjbGV7c3Ryb2tlOnZhcigtLWlvbi1jb2xvci1zdGVwLTYwMCwgIzY2NjY2Nil9LmluZmluaXRlLXNjcm9sbC1jb250ZW50LW1kIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItYnViYmxlcyBjaXJjbGUsLmluZmluaXRlLXNjcm9sbC1jb250ZW50LW1kIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItY2lyY2xlcyBjaXJjbGUsLmluZmluaXRlLXNjcm9sbC1jb250ZW50LW1kIC5pbmZpbml0ZS1sb2FkaW5nLXNwaW5uZXIgLnNwaW5uZXItZG90cyBjaXJjbGV7ZmlsbDp2YXIoLS1pb24tY29sb3Itc3RlcC02MDAsICM2NjY2NjYpfVwiO1xuXG5jb25zdCBJbmZpbml0ZVNjcm9sbENvbnRlbnQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuY3VzdG9tSFRNTEVuYWJsZWQgPSBjb25maWcuZ2V0KCdpbm5lckhUTUxUZW1wbGF0ZXNFbmFibGVkJywgRU5BQkxFX0hUTUxfQ09OVEVOVF9ERUZBVUxUKTtcbiAgICB0aGlzLmxvYWRpbmdTcGlubmVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMubG9hZGluZ1RleHQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgY29tcG9uZW50RGlkTG9hZCgpIHtcbiAgICBpZiAodGhpcy5sb2FkaW5nU3Bpbm5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICAgIHRoaXMubG9hZGluZ1NwaW5uZXIgPSBjb25maWcuZ2V0KCdpbmZpbml0ZUxvYWRpbmdTcGlubmVyJywgY29uZmlnLmdldCgnc3Bpbm5lcicsIG1vZGUgPT09ICdpb3MnID8gJ2xpbmVzJyA6ICdjcmVzY2VudCcpKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyTG9hZGluZ1RleHQoKSB7XG4gICAgY29uc3QgeyBjdXN0b21IVE1MRW5hYmxlZCwgbG9hZGluZ1RleHQgfSA9IHRoaXM7XG4gICAgaWYgKGN1c3RvbUhUTUxFbmFibGVkKSB7XG4gICAgICByZXR1cm4gaChcImRpdlwiLCB7IGNsYXNzOiBcImluZmluaXRlLWxvYWRpbmctdGV4dFwiLCBpbm5lckhUTUw6IHNhbml0aXplRE9NU3RyaW5nKGxvYWRpbmdUZXh0KSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbmZpbml0ZS1sb2FkaW5nLXRleHRcIiB9LCB0aGlzLmxvYWRpbmdUZXh0KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgY2xhc3M6IHtcbiAgICAgICAgW21vZGVdOiB0cnVlLFxuICAgICAgICAvLyBVc2VkIGludGVybmFsbHkgZm9yIHN0eWxpbmdcbiAgICAgICAgW2BpbmZpbml0ZS1zY3JvbGwtY29udGVudC0ke21vZGV9YF06IHRydWUsXG4gICAgICB9IH0sIGgoXCJkaXZcIiwgeyBjbGFzczogXCJpbmZpbml0ZS1sb2FkaW5nXCIgfSwgdGhpcy5sb2FkaW5nU3Bpbm5lciAmJiAoaChcImRpdlwiLCB7IGNsYXNzOiBcImluZmluaXRlLWxvYWRpbmctc3Bpbm5lclwiIH0sIGgoXCJpb24tc3Bpbm5lclwiLCB7IG5hbWU6IHRoaXMubG9hZGluZ1NwaW5uZXIgfSkpKSwgdGhpcy5sb2FkaW5nVGV4dCAhPT0gdW5kZWZpbmVkICYmIHRoaXMucmVuZGVyTG9hZGluZ1RleHQoKSkpKTtcbiAgfVxufTtcbkluZmluaXRlU2Nyb2xsQ29udGVudC5zdHlsZSA9IHtcbiAgaW9zOiBpbmZpbml0ZVNjcm9sbENvbnRlbnRJb3NDc3MsXG4gIG1kOiBpbmZpbml0ZVNjcm9sbENvbnRlbnRNZENzc1xufTtcblxuZXhwb3J0IHsgSW5maW5pdGVTY3JvbGwgYXMgaW9uX2luZmluaXRlX3Njcm9sbCwgSW5maW5pdGVTY3JvbGxDb250ZW50IGFzIGlvbl9pbmZpbml0ZV9zY3JvbGxfY29udGVudCB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZCIsImNyZWF0ZUV2ZW50IiwidyIsIndyaXRlVGFzayIsImUiLCJyZWFkVGFzayIsImgiLCJmIiwiZ2V0RWxlbWVudCIsIkgiLCJIb3N0IiwiZmluZENsb3Nlc3RJb25Db250ZW50IiwicCIsInByaW50SW9uQ29udGVudEVycm9yTXNnIiwiZyIsImdldFNjcm9sbEVsZW1lbnQiLCJiIiwiZ2V0SW9uTW9kZSIsImMiLCJjb25maWciLCJFIiwiRU5BQkxFX0hUTUxfQ09OVEVOVF9ERUZBVUxUIiwiYSIsInNhbml0aXplRE9NU3RyaW5nIiwiaW5maW5pdGVTY3JvbGxDc3MiLCJJbmZpbml0ZVNjcm9sbCIsImNvbnN0cnVjdG9yIiwiaG9zdFJlZiIsImlvbkluZmluaXRlIiwidGhyUHgiLCJ0aHJQYyIsImRpZEZpcmUiLCJpc0J1c3kiLCJvblNjcm9sbCIsInNjcm9sbEVsIiwiY2FuU3RhcnQiLCJpbmZpbml0ZUhlaWdodCIsImVsIiwib2Zmc2V0SGVpZ2h0Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiaGVpZ2h0IiwidGhyZXNob2xkIiwiZGlzdGFuY2VGcm9tSW5maW5pdGUiLCJwb3NpdGlvbiIsImlzTG9hZGluZyIsImVtaXQiLCJkaXNhYmxlZCIsInRocmVzaG9sZENoYW5nZWQiLCJ2YWwiLCJsYXN0SW5kZXhPZiIsInBhcnNlRmxvYXQiLCJkaXNhYmxlZENoYW5nZWQiLCJlbmFibGVTY3JvbGxFdmVudHMiLCJjb25uZWN0ZWRDYWxsYmFjayIsIl90aGlzIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJjb250ZW50RWwiLCJjbGllbnRIZWlnaHQiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInVuZGVmaW5lZCIsImNvbXBsZXRlIiwiX3RoaXMyIiwicHJldiIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5ld1Njcm9sbFRvcCIsInNob3VsZExpc3RlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVuZGVyIiwibW9kZSIsImNsYXNzIiwid2F0Y2hlcnMiLCJzdHlsZSIsImluZmluaXRlU2Nyb2xsQ29udGVudElvc0NzcyIsImluZmluaXRlU2Nyb2xsQ29udGVudE1kQ3NzIiwiSW5maW5pdGVTY3JvbGxDb250ZW50IiwiY3VzdG9tSFRNTEVuYWJsZWQiLCJnZXQiLCJsb2FkaW5nU3Bpbm5lciIsImxvYWRpbmdUZXh0IiwiY29tcG9uZW50RGlkTG9hZCIsInJlbmRlckxvYWRpbmdUZXh0IiwiaW5uZXJIVE1MIiwibmFtZSIsImlvcyIsIm1kIiwiaW9uX2luZmluaXRlX3Njcm9sbCIsImlvbl9pbmZpbml0ZV9zY3JvbGxfY29udGVudCJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19