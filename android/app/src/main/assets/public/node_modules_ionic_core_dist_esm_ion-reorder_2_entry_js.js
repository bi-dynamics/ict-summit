"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js"],{

/***/ 2666:
/*!******************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-reorder_2.entry.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_reorder": () => (/* binding */ Reorder),
/* harmony export */   "ion_reorder_group": () => (/* binding */ ReorderGroup)
/* harmony export */ });
/* harmony import */ var _Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-be218d70.js */ 9866);
/* harmony import */ var _index_393bc14a_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-393bc14a.js */ 8697);
/* harmony import */ var _ionic_global_3b28a225_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ionic-global-3b28a225.js */ 3053);
/* harmony import */ var _index_455f6202_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-455f6202.js */ 5707);
/* harmony import */ var _helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers-5eb6364d.js */ 9364);
/* harmony import */ var _haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./haptic-029a46f6.js */ 2815);
/* harmony import */ var _index_e86f0117_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-e86f0117.js */ 7584);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */







const reorderIosCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:34px;opacity:0.4}";
const reorderMdCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:31px;opacity:0.3}";
const Reorder = class {
  constructor(hostRef) {
    (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
  }
  onClick(ev) {
    const reorderGroup = this.el.closest('ion-reorder-group');
    ev.preventDefault();
    // Only stop event propagation if the reorder is inside of an enabled
    // reorder group. This allows interaction with clickable children components.
    if (!reorderGroup || !reorderGroup.disabled) {
      ev.stopImmediatePropagation();
    }
  }
  render() {
    const mode = (0,_ionic_global_3b28a225_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
    const reorderIcon = mode === 'ios' ? _index_393bc14a_js__WEBPACK_IMPORTED_MODULE_2__.j : _index_393bc14a_js__WEBPACK_IMPORTED_MODULE_2__.k;
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: mode
    }, (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null, (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
      icon: reorderIcon,
      lazy: false,
      class: "reorder-icon",
      part: "icon",
      "aria-hidden": "true"
    })));
  }
  get el() {
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
Reorder.style = {
  ios: reorderIosCss,
  md: reorderMdCss
};
const reorderGroupCss = ".reorder-list-active>*{display:block;-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none !important;transition:none !important;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.4);box-shadow:0 0 10px rgba(0, 0, 0, 0.4);opacity:0.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}";
const ReorderGroup = class {
  constructor(hostRef) {
    (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionItemReorder = (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionItemReorder", 7);
    this.lastToIndex = -1;
    this.cachedHeights = [];
    this.scrollElTop = 0;
    this.scrollElBottom = 0;
    this.scrollElInitial = 0;
    this.containerTop = 0;
    this.containerBottom = 0;
    this.state = 0 /* ReorderGroupState.Idle */;
    this.disabled = true;
  }
  disabledChanged() {
    if (this.gesture) {
      this.gesture.enable(!this.disabled);
    }
  }
  connectedCallback() {
    var _this = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const contentEl = (0,_index_455f6202_js__WEBPACK_IMPORTED_MODULE_4__.f)(_this.el);
      if (contentEl) {
        _this.scrollEl = yield (0,_index_455f6202_js__WEBPACK_IMPORTED_MODULE_4__.g)(contentEl);
      }
      _this.gesture = (yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./index-422b6e83.js */ 8759))).createGesture({
        el: _this.el,
        gestureName: 'reorder',
        gesturePriority: 110,
        threshold: 0,
        direction: 'y',
        passive: false,
        canStart: detail => _this.canStart(detail),
        onStart: ev => _this.onStart(ev),
        onMove: ev => _this.onMove(ev),
        onEnd: () => _this.onEnd()
      });
      _this.disabledChanged();
    })();
  }
  disconnectedCallback() {
    this.onEnd();
    if (this.gesture) {
      this.gesture.destroy();
      this.gesture = undefined;
    }
  }
  /**
   * Completes the reorder operation. Must be called by the `ionItemReorder` event.
   *
   * If a list of items is passed, the list will be reordered and returned in the
   * proper order.
   *
   * If no parameters are passed or if `true` is passed in, the reorder will complete
   * and the item will remain in the position it was dragged to. If `false` is passed,
   * the reorder will complete and the item will bounce back to its original position.
   *
   * @param listOrReorder A list of items to be sorted and returned in the new order or a
   * boolean of whether or not the reorder should reposition the item.
   */
  complete(listOrReorder) {
    return Promise.resolve(this.completeReorder(listOrReorder));
  }
  canStart(ev) {
    if (this.selectedItemEl || this.state !== 0 /* ReorderGroupState.Idle */) {
      return false;
    }
    const target = ev.event.target;
    const reorderEl = target.closest('ion-reorder');
    if (!reorderEl) {
      return false;
    }
    const item = findReorderItem(reorderEl, this.el);
    if (!item) {
      return false;
    }
    ev.data = item;
    return true;
  }
  onStart(ev) {
    ev.event.preventDefault();
    const item = this.selectedItemEl = ev.data;
    const heights = this.cachedHeights;
    heights.length = 0;
    const el = this.el;
    const children = el.children;
    if (!children || children.length === 0) {
      return;
    }
    let sum = 0;
    for (let i = 0; i < children.length; i++) {
      const child = children[i];
      sum += child.offsetHeight;
      heights.push(sum);
      child.$ionIndex = i;
    }
    const box = el.getBoundingClientRect();
    this.containerTop = box.top;
    this.containerBottom = box.bottom;
    if (this.scrollEl) {
      const scrollBox = this.scrollEl.getBoundingClientRect();
      this.scrollElInitial = this.scrollEl.scrollTop;
      this.scrollElTop = scrollBox.top + AUTO_SCROLL_MARGIN;
      this.scrollElBottom = scrollBox.bottom - AUTO_SCROLL_MARGIN;
    } else {
      this.scrollElInitial = 0;
      this.scrollElTop = 0;
      this.scrollElBottom = 0;
    }
    this.lastToIndex = indexForItem(item);
    this.selectedItemHeight = item.offsetHeight;
    this.state = 1 /* ReorderGroupState.Active */;
    item.classList.add(ITEM_REORDER_SELECTED);
    (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__.a)();
  }
  onMove(ev) {
    const selectedItem = this.selectedItemEl;
    if (!selectedItem) {
      return;
    }
    // Scroll if we reach the scroll margins
    const scroll = this.autoscroll(ev.currentY);
    // // Get coordinate
    const top = this.containerTop - scroll;
    const bottom = this.containerBottom - scroll;
    const currentY = Math.max(top, Math.min(ev.currentY, bottom));
    const deltaY = scroll + currentY - ev.startY;
    const normalizedY = currentY - top;
    const toIndex = this.itemIndexForTop(normalizedY);
    if (toIndex !== this.lastToIndex) {
      const fromIndex = indexForItem(selectedItem);
      this.lastToIndex = toIndex;
      (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__.b)();
      this.reorderMove(fromIndex, toIndex);
    }
    // Update selected item position
    selectedItem.style.transform = `translateY(${deltaY}px)`;
  }
  onEnd() {
    const selectedItemEl = this.selectedItemEl;
    this.state = 2 /* ReorderGroupState.Complete */;
    if (!selectedItemEl) {
      this.state = 0 /* ReorderGroupState.Idle */;
      return;
    }
    const toIndex = this.lastToIndex;
    const fromIndex = indexForItem(selectedItemEl);
    if (toIndex === fromIndex) {
      this.completeReorder();
    } else {
      this.ionItemReorder.emit({
        from: fromIndex,
        to: toIndex,
        complete: this.completeReorder.bind(this)
      });
    }
    (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__.h)();
  }
  completeReorder(listOrReorder) {
    const selectedItemEl = this.selectedItemEl;
    if (selectedItemEl && this.state === 2 /* ReorderGroupState.Complete */) {
      const children = this.el.children;
      const len = children.length;
      const toIndex = this.lastToIndex;
      const fromIndex = indexForItem(selectedItemEl);
      /**
       * insertBefore and setting the transform
       * needs to happen in the same frame otherwise
       * there will be a duplicate transition. This primarily
       * impacts Firefox where insertBefore and transform operations
       * are happening in two separate frames.
       */
      (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_5__.r)(() => {
        if (toIndex !== fromIndex && (listOrReorder === undefined || listOrReorder === true)) {
          const ref = fromIndex < toIndex ? children[toIndex + 1] : children[toIndex];
          this.el.insertBefore(selectedItemEl, ref);
        }
        for (let i = 0; i < len; i++) {
          children[i].style['transform'] = '';
        }
      });
      if (Array.isArray(listOrReorder)) {
        listOrReorder = reorderArray(listOrReorder, fromIndex, toIndex);
      }
      selectedItemEl.style.transition = '';
      selectedItemEl.classList.remove(ITEM_REORDER_SELECTED);
      this.selectedItemEl = undefined;
      this.state = 0 /* ReorderGroupState.Idle */;
    }

    return listOrReorder;
  }
  itemIndexForTop(deltaY) {
    const heights = this.cachedHeights;
    for (let i = 0; i < heights.length; i++) {
      if (heights[i] > deltaY) {
        return i;
      }
    }
    return heights.length - 1;
  }
  /********* DOM WRITE ********* */
  reorderMove(fromIndex, toIndex) {
    const itemHeight = this.selectedItemHeight;
    const children = this.el.children;
    for (let i = 0; i < children.length; i++) {
      const style = children[i].style;
      let value = '';
      if (i > fromIndex && i <= toIndex) {
        value = `translateY(${-itemHeight}px)`;
      } else if (i < fromIndex && i >= toIndex) {
        value = `translateY(${itemHeight}px)`;
      }
      style['transform'] = value;
    }
  }
  autoscroll(posY) {
    if (!this.scrollEl) {
      return 0;
    }
    let amount = 0;
    if (posY < this.scrollElTop) {
      amount = -SCROLL_JUMP;
    } else if (posY > this.scrollElBottom) {
      amount = SCROLL_JUMP;
    }
    if (amount !== 0) {
      this.scrollEl.scrollBy(0, amount);
    }
    return this.scrollEl.scrollTop - this.scrollElInitial;
  }
  render() {
    const mode = (0,_ionic_global_3b28a225_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: {
        [mode]: true,
        'reorder-enabled': !this.disabled,
        'reorder-list-active': this.state !== 0 /* ReorderGroupState.Idle */
      }
    });
  }

  get el() {
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "disabled": ["disabledChanged"]
    };
  }
};
const indexForItem = element => {
  return element['$ionIndex'];
};
const findReorderItem = (node, container) => {
  let parent;
  while (node) {
    parent = node.parentElement;
    if (parent === container) {
      return node;
    }
    node = parent;
  }
  return undefined;
};
const AUTO_SCROLL_MARGIN = 60;
const SCROLL_JUMP = 10;
const ITEM_REORDER_SELECTED = 'reorder-selected';
const reorderArray = (array, from, to) => {
  const element = array[from];
  array.splice(from, 1);
  array.splice(to, 0, element);
  return array.slice();
};
ReorderGroup.style = reorderGroupCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJlb3JkZXJfMl9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUM2RztBQUN4QjtBQUN4QjtBQUMyQjtBQUN2QztBQUNzRTtBQUMxRjtBQUU3QixNQUFNdUIsYUFBYSxHQUFHLDJJQUEySTtBQUVqSyxNQUFNQyxZQUFZLEdBQUcsMklBQTJJO0FBRWhLLE1BQU1DLE9BQU8sR0FBRyxNQUFNO0VBQ3BCQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDbkIxQixxREFBZ0IsQ0FBQyxJQUFJLEVBQUUwQixPQUFPLENBQUM7RUFDakM7RUFDQUMsT0FBT0EsQ0FBQ0MsRUFBRSxFQUFFO0lBQ1YsTUFBTUMsWUFBWSxHQUFHLElBQUksQ0FBQ0MsRUFBRSxDQUFDQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7SUFDekRILEVBQUUsQ0FBQ0ksY0FBYyxFQUFFO0lBQ25CO0lBQ0E7SUFDQSxJQUFJLENBQUNILFlBQVksSUFBSSxDQUFDQSxZQUFZLENBQUNJLFFBQVEsRUFBRTtNQUMzQ0wsRUFBRSxDQUFDTSx3QkFBd0IsRUFBRTtJQUMvQjtFQUNGO0VBQ0FDLE1BQU1BLENBQUEsRUFBRztJQUNQLE1BQU1DLElBQUksR0FBR3ZCLDREQUFVLENBQUMsSUFBSSxDQUFDO0lBQzdCLE1BQU13QixXQUFXLEdBQUdELElBQUksS0FBSyxLQUFLLEdBQUczQixpREFBbUIsR0FBR0UsaURBQWU7SUFDMUUsT0FBUVYscURBQUMsQ0FBQ0UsaURBQUksRUFBRTtNQUFFbUMsS0FBSyxFQUFFRjtJQUFLLENBQUMsRUFBRW5DLHFEQUFDLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRUEscURBQUMsQ0FBQyxVQUFVLEVBQUU7TUFBRXNDLElBQUksRUFBRUYsV0FBVztNQUFFRyxJQUFJLEVBQUUsS0FBSztNQUFFRixLQUFLLEVBQUUsY0FBYztNQUFFRyxJQUFJLEVBQUUsTUFBTTtNQUFFLGFBQWEsRUFBRTtJQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDbEs7RUFDQSxJQUFJWCxFQUFFQSxDQUFBLEVBQUc7SUFBRSxPQUFPekIscURBQVUsQ0FBQyxJQUFJLENBQUM7RUFBRTtBQUN0QyxDQUFDO0FBQ0RtQixPQUFPLENBQUNrQixLQUFLLEdBQUc7RUFDZEMsR0FBRyxFQUFFckIsYUFBYTtFQUNsQnNCLEVBQUUsRUFBRXJCO0FBQ04sQ0FBQztBQUVELE1BQU1zQixlQUFlLEdBQUcsbTJCQUFtMkI7QUFFMzNCLE1BQU1DLFlBQVksR0FBRyxNQUFNO0VBQ3pCckIsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQ25CMUIscURBQWdCLENBQUMsSUFBSSxFQUFFMEIsT0FBTyxDQUFDO0lBQy9CLElBQUksQ0FBQ3FCLGNBQWMsR0FBR3hDLHFEQUFXLENBQUMsSUFBSSxFQUFFLGdCQUFnQixFQUFFLENBQUMsQ0FBQztJQUM1RCxJQUFJLENBQUN5QyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0lBQ3JCLElBQUksQ0FBQ0MsYUFBYSxHQUFHLEVBQUU7SUFDdkIsSUFBSSxDQUFDQyxXQUFXLEdBQUcsQ0FBQztJQUNwQixJQUFJLENBQUNDLGNBQWMsR0FBRyxDQUFDO0lBQ3ZCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLENBQUM7SUFDeEIsSUFBSSxDQUFDQyxZQUFZLEdBQUcsQ0FBQztJQUNyQixJQUFJLENBQUNDLGVBQWUsR0FBRyxDQUFDO0lBQ3hCLElBQUksQ0FBQ0MsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNmLElBQUksQ0FBQ3RCLFFBQVEsR0FBRyxJQUFJO0VBQ3RCO0VBQ0F1QixlQUFlQSxDQUFBLEVBQUc7SUFDaEIsSUFBSSxJQUFJLENBQUNDLE9BQU8sRUFBRTtNQUNoQixJQUFJLENBQUNBLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDekIsUUFBUSxDQUFDO0lBQ3JDO0VBQ0Y7RUFDTTBCLGlCQUFpQkEsQ0FBQSxFQUFHO0lBQUEsSUFBQUMsS0FBQTtJQUFBLE9BQUFDLDBJQUFBO01BQ3hCLE1BQU1DLFNBQVMsR0FBR2hELHFEQUFxQixDQUFDOEMsS0FBSSxDQUFDOUIsRUFBRSxDQUFDO01BQ2hELElBQUlnQyxTQUFTLEVBQUU7UUFDYkYsS0FBSSxDQUFDRyxRQUFRLFNBQVMvQyxxREFBZ0IsQ0FBQzhDLFNBQVMsQ0FBQztNQUNuRDtNQUNBRixLQUFJLENBQUNILE9BQU8sR0FBRyxPQUFPLHFIQUE2QixFQUFFTyxhQUFhLENBQUM7UUFDakVsQyxFQUFFLEVBQUU4QixLQUFJLENBQUM5QixFQUFFO1FBQ1htQyxXQUFXLEVBQUUsU0FBUztRQUN0QkMsZUFBZSxFQUFFLEdBQUc7UUFDcEJDLFNBQVMsRUFBRSxDQUFDO1FBQ1pDLFNBQVMsRUFBRSxHQUFHO1FBQ2RDLE9BQU8sRUFBRSxLQUFLO1FBQ2RDLFFBQVEsRUFBR0MsTUFBTSxJQUFLWCxLQUFJLENBQUNVLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDO1FBQzNDQyxPQUFPLEVBQUc1QyxFQUFFLElBQUtnQyxLQUFJLENBQUNZLE9BQU8sQ0FBQzVDLEVBQUUsQ0FBQztRQUNqQzZDLE1BQU0sRUFBRzdDLEVBQUUsSUFBS2dDLEtBQUksQ0FBQ2EsTUFBTSxDQUFDN0MsRUFBRSxDQUFDO1FBQy9COEMsS0FBSyxFQUFFQSxDQUFBLEtBQU1kLEtBQUksQ0FBQ2MsS0FBSztNQUN6QixDQUFDLENBQUM7TUFDRmQsS0FBSSxDQUFDSixlQUFlLEVBQUU7SUFBQztFQUN6QjtFQUNBbUIsb0JBQW9CQSxDQUFBLEVBQUc7SUFDckIsSUFBSSxDQUFDRCxLQUFLLEVBQUU7SUFDWixJQUFJLElBQUksQ0FBQ2pCLE9BQU8sRUFBRTtNQUNoQixJQUFJLENBQUNBLE9BQU8sQ0FBQ21CLE9BQU8sRUFBRTtNQUN0QixJQUFJLENBQUNuQixPQUFPLEdBQUdvQixTQUFTO0lBQzFCO0VBQ0Y7RUFDQTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNFQyxRQUFRQSxDQUFDQyxhQUFhLEVBQUU7SUFDdEIsT0FBT0MsT0FBTyxDQUFDQyxPQUFPLENBQUMsSUFBSSxDQUFDQyxlQUFlLENBQUNILGFBQWEsQ0FBQyxDQUFDO0VBQzdEO0VBQ0FULFFBQVFBLENBQUMxQyxFQUFFLEVBQUU7SUFDWCxJQUFJLElBQUksQ0FBQ3VELGNBQWMsSUFBSSxJQUFJLENBQUM1QixLQUFLLEtBQUssQ0FBQyxDQUFDLDhCQUE4QjtNQUN4RSxPQUFPLEtBQUs7SUFDZDtJQUNBLE1BQU02QixNQUFNLEdBQUd4RCxFQUFFLENBQUN5RCxLQUFLLENBQUNELE1BQU07SUFDOUIsTUFBTUUsU0FBUyxHQUFHRixNQUFNLENBQUNyRCxPQUFPLENBQUMsYUFBYSxDQUFDO0lBQy9DLElBQUksQ0FBQ3VELFNBQVMsRUFBRTtNQUNkLE9BQU8sS0FBSztJQUNkO0lBQ0EsTUFBTUMsSUFBSSxHQUFHQyxlQUFlLENBQUNGLFNBQVMsRUFBRSxJQUFJLENBQUN4RCxFQUFFLENBQUM7SUFDaEQsSUFBSSxDQUFDeUQsSUFBSSxFQUFFO01BQ1QsT0FBTyxLQUFLO0lBQ2Q7SUFDQTNELEVBQUUsQ0FBQzZELElBQUksR0FBR0YsSUFBSTtJQUNkLE9BQU8sSUFBSTtFQUNiO0VBQ0FmLE9BQU9BLENBQUM1QyxFQUFFLEVBQUU7SUFDVkEsRUFBRSxDQUFDeUQsS0FBSyxDQUFDckQsY0FBYyxFQUFFO0lBQ3pCLE1BQU11RCxJQUFJLEdBQUksSUFBSSxDQUFDSixjQUFjLEdBQUd2RCxFQUFFLENBQUM2RCxJQUFLO0lBQzVDLE1BQU1DLE9BQU8sR0FBRyxJQUFJLENBQUN6QyxhQUFhO0lBQ2xDeUMsT0FBTyxDQUFDQyxNQUFNLEdBQUcsQ0FBQztJQUNsQixNQUFNN0QsRUFBRSxHQUFHLElBQUksQ0FBQ0EsRUFBRTtJQUNsQixNQUFNOEQsUUFBUSxHQUFHOUQsRUFBRSxDQUFDOEQsUUFBUTtJQUM1QixJQUFJLENBQUNBLFFBQVEsSUFBSUEsUUFBUSxDQUFDRCxNQUFNLEtBQUssQ0FBQyxFQUFFO01BQ3RDO0lBQ0Y7SUFDQSxJQUFJRSxHQUFHLEdBQUcsQ0FBQztJQUNYLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRixRQUFRLENBQUNELE1BQU0sRUFBRUcsQ0FBQyxFQUFFLEVBQUU7TUFDeEMsTUFBTUMsS0FBSyxHQUFHSCxRQUFRLENBQUNFLENBQUMsQ0FBQztNQUN6QkQsR0FBRyxJQUFJRSxLQUFLLENBQUNDLFlBQVk7TUFDekJOLE9BQU8sQ0FBQ08sSUFBSSxDQUFDSixHQUFHLENBQUM7TUFDakJFLEtBQUssQ0FBQ0csU0FBUyxHQUFHSixDQUFDO0lBQ3JCO0lBQ0EsTUFBTUssR0FBRyxHQUFHckUsRUFBRSxDQUFDc0UscUJBQXFCLEVBQUU7SUFDdEMsSUFBSSxDQUFDL0MsWUFBWSxHQUFHOEMsR0FBRyxDQUFDRSxHQUFHO0lBQzNCLElBQUksQ0FBQy9DLGVBQWUsR0FBRzZDLEdBQUcsQ0FBQ0csTUFBTTtJQUNqQyxJQUFJLElBQUksQ0FBQ3ZDLFFBQVEsRUFBRTtNQUNqQixNQUFNd0MsU0FBUyxHQUFHLElBQUksQ0FBQ3hDLFFBQVEsQ0FBQ3FDLHFCQUFxQixFQUFFO01BQ3ZELElBQUksQ0FBQ2hELGVBQWUsR0FBRyxJQUFJLENBQUNXLFFBQVEsQ0FBQ3lDLFNBQVM7TUFDOUMsSUFBSSxDQUFDdEQsV0FBVyxHQUFHcUQsU0FBUyxDQUFDRixHQUFHLEdBQUdJLGtCQUFrQjtNQUNyRCxJQUFJLENBQUN0RCxjQUFjLEdBQUdvRCxTQUFTLENBQUNELE1BQU0sR0FBR0csa0JBQWtCO0lBQzdELENBQUMsTUFDSTtNQUNILElBQUksQ0FBQ3JELGVBQWUsR0FBRyxDQUFDO01BQ3hCLElBQUksQ0FBQ0YsV0FBVyxHQUFHLENBQUM7TUFDcEIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsQ0FBQztJQUN6QjtJQUNBLElBQUksQ0FBQ0gsV0FBVyxHQUFHMEQsWUFBWSxDQUFDbkIsSUFBSSxDQUFDO0lBQ3JDLElBQUksQ0FBQ29CLGtCQUFrQixHQUFHcEIsSUFBSSxDQUFDUyxZQUFZO0lBQzNDLElBQUksQ0FBQ3pDLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDZmdDLElBQUksQ0FBQ3FCLFNBQVMsQ0FBQ0MsR0FBRyxDQUFDQyxxQkFBcUIsQ0FBQztJQUN6QzNGLHNEQUFvQixFQUFFO0VBQ3hCO0VBQ0FzRCxNQUFNQSxDQUFDN0MsRUFBRSxFQUFFO0lBQ1QsTUFBTW1GLFlBQVksR0FBRyxJQUFJLENBQUM1QixjQUFjO0lBQ3hDLElBQUksQ0FBQzRCLFlBQVksRUFBRTtNQUNqQjtJQUNGO0lBQ0E7SUFDQSxNQUFNQyxNQUFNLEdBQUcsSUFBSSxDQUFDQyxVQUFVLENBQUNyRixFQUFFLENBQUNzRixRQUFRLENBQUM7SUFDM0M7SUFDQSxNQUFNYixHQUFHLEdBQUcsSUFBSSxDQUFDaEQsWUFBWSxHQUFHMkQsTUFBTTtJQUN0QyxNQUFNVixNQUFNLEdBQUcsSUFBSSxDQUFDaEQsZUFBZSxHQUFHMEQsTUFBTTtJQUM1QyxNQUFNRSxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDZixHQUFHLEVBQUVjLElBQUksQ0FBQ0UsR0FBRyxDQUFDekYsRUFBRSxDQUFDc0YsUUFBUSxFQUFFWixNQUFNLENBQUMsQ0FBQztJQUM3RCxNQUFNZ0IsTUFBTSxHQUFHTixNQUFNLEdBQUdFLFFBQVEsR0FBR3RGLEVBQUUsQ0FBQzJGLE1BQU07SUFDNUMsTUFBTUMsV0FBVyxHQUFHTixRQUFRLEdBQUdiLEdBQUc7SUFDbEMsTUFBTW9CLE9BQU8sR0FBRyxJQUFJLENBQUNDLGVBQWUsQ0FBQ0YsV0FBVyxDQUFDO0lBQ2pELElBQUlDLE9BQU8sS0FBSyxJQUFJLENBQUN6RSxXQUFXLEVBQUU7TUFDaEMsTUFBTTJFLFNBQVMsR0FBR2pCLFlBQVksQ0FBQ0ssWUFBWSxDQUFDO01BQzVDLElBQUksQ0FBQy9ELFdBQVcsR0FBR3lFLE9BQU87TUFDMUJyRyxzREFBc0IsRUFBRTtNQUN4QixJQUFJLENBQUN3RyxXQUFXLENBQUNELFNBQVMsRUFBRUYsT0FBTyxDQUFDO0lBQ3RDO0lBQ0E7SUFDQVYsWUFBWSxDQUFDckUsS0FBSyxDQUFDbUYsU0FBUyxHQUFJLGNBQWFQLE1BQU8sS0FBSTtFQUMxRDtFQUNBNUMsS0FBS0EsQ0FBQSxFQUFHO0lBQ04sTUFBTVMsY0FBYyxHQUFHLElBQUksQ0FBQ0EsY0FBYztJQUMxQyxJQUFJLENBQUM1QixLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsSUFBSSxDQUFDNEIsY0FBYyxFQUFFO01BQ25CLElBQUksQ0FBQzVCLEtBQUssR0FBRyxDQUFDLENBQUM7TUFDZjtJQUNGO0lBQ0EsTUFBTWtFLE9BQU8sR0FBRyxJQUFJLENBQUN6RSxXQUFXO0lBQ2hDLE1BQU0yRSxTQUFTLEdBQUdqQixZQUFZLENBQUN2QixjQUFjLENBQUM7SUFDOUMsSUFBSXNDLE9BQU8sS0FBS0UsU0FBUyxFQUFFO01BQ3pCLElBQUksQ0FBQ3pDLGVBQWUsRUFBRTtJQUN4QixDQUFDLE1BQ0k7TUFDSCxJQUFJLENBQUNuQyxjQUFjLENBQUMrRSxJQUFJLENBQUM7UUFDdkJDLElBQUksRUFBRUosU0FBUztRQUNmSyxFQUFFLEVBQUVQLE9BQU87UUFDWDNDLFFBQVEsRUFBRSxJQUFJLENBQUNJLGVBQWUsQ0FBQytDLElBQUksQ0FBQyxJQUFJO01BQzFDLENBQUMsQ0FBQztJQUNKO0lBQ0E1RyxzREFBa0IsRUFBRTtFQUN0QjtFQUNBNkQsZUFBZUEsQ0FBQ0gsYUFBYSxFQUFFO0lBQzdCLE1BQU1JLGNBQWMsR0FBRyxJQUFJLENBQUNBLGNBQWM7SUFDMUMsSUFBSUEsY0FBYyxJQUFJLElBQUksQ0FBQzVCLEtBQUssS0FBSyxDQUFDLENBQUMsa0NBQWtDO01BQ3ZFLE1BQU1xQyxRQUFRLEdBQUcsSUFBSSxDQUFDOUQsRUFBRSxDQUFDOEQsUUFBUTtNQUNqQyxNQUFNc0MsR0FBRyxHQUFHdEMsUUFBUSxDQUFDRCxNQUFNO01BQzNCLE1BQU04QixPQUFPLEdBQUcsSUFBSSxDQUFDekUsV0FBVztNQUNoQyxNQUFNMkUsU0FBUyxHQUFHakIsWUFBWSxDQUFDdkIsY0FBYyxDQUFDO01BQzlDO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO01BQ01sRSx1REFBRyxDQUFDLE1BQU07UUFDUixJQUFJd0csT0FBTyxLQUFLRSxTQUFTLEtBQUs1QyxhQUFhLEtBQUtGLFNBQVMsSUFBSUUsYUFBYSxLQUFLLElBQUksQ0FBQyxFQUFFO1VBQ3BGLE1BQU1vRCxHQUFHLEdBQUdSLFNBQVMsR0FBR0YsT0FBTyxHQUFHN0IsUUFBUSxDQUFDNkIsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHN0IsUUFBUSxDQUFDNkIsT0FBTyxDQUFDO1VBQzNFLElBQUksQ0FBQzNGLEVBQUUsQ0FBQ3NHLFlBQVksQ0FBQ2pELGNBQWMsRUFBRWdELEdBQUcsQ0FBQztRQUMzQztRQUNBLEtBQUssSUFBSXJDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR29DLEdBQUcsRUFBRXBDLENBQUMsRUFBRSxFQUFFO1VBQzVCRixRQUFRLENBQUNFLENBQUMsQ0FBQyxDQUFDcEQsS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUU7UUFDckM7TUFDRixDQUFDLENBQUM7TUFDRixJQUFJMkYsS0FBSyxDQUFDQyxPQUFPLENBQUN2RCxhQUFhLENBQUMsRUFBRTtRQUNoQ0EsYUFBYSxHQUFHd0QsWUFBWSxDQUFDeEQsYUFBYSxFQUFFNEMsU0FBUyxFQUFFRixPQUFPLENBQUM7TUFDakU7TUFDQXRDLGNBQWMsQ0FBQ3pDLEtBQUssQ0FBQzhGLFVBQVUsR0FBRyxFQUFFO01BQ3BDckQsY0FBYyxDQUFDeUIsU0FBUyxDQUFDNkIsTUFBTSxDQUFDM0IscUJBQXFCLENBQUM7TUFDdEQsSUFBSSxDQUFDM0IsY0FBYyxHQUFHTixTQUFTO01BQy9CLElBQUksQ0FBQ3RCLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDakI7O0lBQ0EsT0FBT3dCLGFBQWE7RUFDdEI7RUFDQTJDLGVBQWVBLENBQUNKLE1BQU0sRUFBRTtJQUN0QixNQUFNNUIsT0FBTyxHQUFHLElBQUksQ0FBQ3pDLGFBQWE7SUFDbEMsS0FBSyxJQUFJNkMsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHSixPQUFPLENBQUNDLE1BQU0sRUFBRUcsQ0FBQyxFQUFFLEVBQUU7TUFDdkMsSUFBSUosT0FBTyxDQUFDSSxDQUFDLENBQUMsR0FBR3dCLE1BQU0sRUFBRTtRQUN2QixPQUFPeEIsQ0FBQztNQUNWO0lBQ0Y7SUFDQSxPQUFPSixPQUFPLENBQUNDLE1BQU0sR0FBRyxDQUFDO0VBQzNCO0VBQ0E7RUFDQWlDLFdBQVdBLENBQUNELFNBQVMsRUFBRUYsT0FBTyxFQUFFO0lBQzlCLE1BQU1pQixVQUFVLEdBQUcsSUFBSSxDQUFDL0Isa0JBQWtCO0lBQzFDLE1BQU1mLFFBQVEsR0FBRyxJQUFJLENBQUM5RCxFQUFFLENBQUM4RCxRQUFRO0lBQ2pDLEtBQUssSUFBSUUsQ0FBQyxHQUFHLENBQUMsRUFBRUEsQ0FBQyxHQUFHRixRQUFRLENBQUNELE1BQU0sRUFBRUcsQ0FBQyxFQUFFLEVBQUU7TUFDeEMsTUFBTXBELEtBQUssR0FBR2tELFFBQVEsQ0FBQ0UsQ0FBQyxDQUFDLENBQUNwRCxLQUFLO01BQy9CLElBQUlpRyxLQUFLLEdBQUcsRUFBRTtNQUNkLElBQUk3QyxDQUFDLEdBQUc2QixTQUFTLElBQUk3QixDQUFDLElBQUkyQixPQUFPLEVBQUU7UUFDakNrQixLQUFLLEdBQUksY0FBYSxDQUFDRCxVQUFXLEtBQUk7TUFDeEMsQ0FBQyxNQUNJLElBQUk1QyxDQUFDLEdBQUc2QixTQUFTLElBQUk3QixDQUFDLElBQUkyQixPQUFPLEVBQUU7UUFDdENrQixLQUFLLEdBQUksY0FBYUQsVUFBVyxLQUFJO01BQ3ZDO01BQ0FoRyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUdpRyxLQUFLO0lBQzVCO0VBQ0Y7RUFDQTFCLFVBQVVBLENBQUMyQixJQUFJLEVBQUU7SUFDZixJQUFJLENBQUMsSUFBSSxDQUFDN0UsUUFBUSxFQUFFO01BQ2xCLE9BQU8sQ0FBQztJQUNWO0lBQ0EsSUFBSThFLE1BQU0sR0FBRyxDQUFDO0lBQ2QsSUFBSUQsSUFBSSxHQUFHLElBQUksQ0FBQzFGLFdBQVcsRUFBRTtNQUMzQjJGLE1BQU0sR0FBRyxDQUFDQyxXQUFXO0lBQ3ZCLENBQUMsTUFDSSxJQUFJRixJQUFJLEdBQUcsSUFBSSxDQUFDekYsY0FBYyxFQUFFO01BQ25DMEYsTUFBTSxHQUFHQyxXQUFXO0lBQ3RCO0lBQ0EsSUFBSUQsTUFBTSxLQUFLLENBQUMsRUFBRTtNQUNoQixJQUFJLENBQUM5RSxRQUFRLENBQUNnRixRQUFRLENBQUMsQ0FBQyxFQUFFRixNQUFNLENBQUM7SUFDbkM7SUFDQSxPQUFPLElBQUksQ0FBQzlFLFFBQVEsQ0FBQ3lDLFNBQVMsR0FBRyxJQUFJLENBQUNwRCxlQUFlO0VBQ3ZEO0VBQ0FqQixNQUFNQSxDQUFBLEVBQUc7SUFDUCxNQUFNQyxJQUFJLEdBQUd2Qiw0REFBVSxDQUFDLElBQUksQ0FBQztJQUM3QixPQUFRWixxREFBQyxDQUFDRSxpREFBSSxFQUFFO01BQUVtQyxLQUFLLEVBQUU7UUFDckIsQ0FBQ0YsSUFBSSxHQUFHLElBQUk7UUFDWixpQkFBaUIsRUFBRSxDQUFDLElBQUksQ0FBQ0gsUUFBUTtRQUNqQyxxQkFBcUIsRUFBRSxJQUFJLENBQUNzQixLQUFLLEtBQUssQ0FBQyxDQUFDO01BQzFDO0lBQUUsQ0FBQyxDQUFDO0VBQ1I7O0VBQ0EsSUFBSXpCLEVBQUVBLENBQUEsRUFBRztJQUFFLE9BQU96QixxREFBVSxDQUFDLElBQUksQ0FBQztFQUFFO0VBQ3BDLFdBQVcySSxRQUFRQSxDQUFBLEVBQUc7SUFBRSxPQUFPO01BQzdCLFVBQVUsRUFBRSxDQUFDLGlCQUFpQjtJQUNoQyxDQUFDO0VBQUU7QUFDTCxDQUFDO0FBQ0QsTUFBTXRDLFlBQVksR0FBSXVDLE9BQU8sSUFBSztFQUNoQyxPQUFPQSxPQUFPLENBQUMsV0FBVyxDQUFDO0FBQzdCLENBQUM7QUFDRCxNQUFNekQsZUFBZSxHQUFHQSxDQUFDMEQsSUFBSSxFQUFFQyxTQUFTLEtBQUs7RUFDM0MsSUFBSUMsTUFBTTtFQUNWLE9BQU9GLElBQUksRUFBRTtJQUNYRSxNQUFNLEdBQUdGLElBQUksQ0FBQ0csYUFBYTtJQUMzQixJQUFJRCxNQUFNLEtBQUtELFNBQVMsRUFBRTtNQUN4QixPQUFPRCxJQUFJO0lBQ2I7SUFDQUEsSUFBSSxHQUFHRSxNQUFNO0VBQ2Y7RUFDQSxPQUFPdkUsU0FBUztBQUNsQixDQUFDO0FBQ0QsTUFBTTRCLGtCQUFrQixHQUFHLEVBQUU7QUFDN0IsTUFBTXFDLFdBQVcsR0FBRyxFQUFFO0FBQ3RCLE1BQU1oQyxxQkFBcUIsR0FBRyxrQkFBa0I7QUFDaEQsTUFBTXlCLFlBQVksR0FBR0EsQ0FBQ2UsS0FBSyxFQUFFdkIsSUFBSSxFQUFFQyxFQUFFLEtBQUs7RUFDeEMsTUFBTWlCLE9BQU8sR0FBR0ssS0FBSyxDQUFDdkIsSUFBSSxDQUFDO0VBQzNCdUIsS0FBSyxDQUFDQyxNQUFNLENBQUN4QixJQUFJLEVBQUUsQ0FBQyxDQUFDO0VBQ3JCdUIsS0FBSyxDQUFDQyxNQUFNLENBQUN2QixFQUFFLEVBQUUsQ0FBQyxFQUFFaUIsT0FBTyxDQUFDO0VBQzVCLE9BQU9LLEtBQUssQ0FBQ0UsS0FBSyxFQUFFO0FBQ3RCLENBQUM7QUFDRDFHLFlBQVksQ0FBQ0osS0FBSyxHQUFHRyxlQUFlIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tcmVvcmRlcl8yLmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGgsIEggYXMgSG9zdCwgZiBhcyBnZXRFbGVtZW50LCBkIGFzIGNyZWF0ZUV2ZW50IH0gZnJvbSAnLi9pbmRleC1iZTIxOGQ3MC5qcyc7XG5pbXBvcnQgeyBqIGFzIHJlb3JkZXJUaHJlZU91dGxpbmUsIGsgYXMgcmVvcmRlclR3b1NoYXJwIH0gZnJvbSAnLi9pbmRleC0zOTNiYzE0YS5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUgfSBmcm9tICcuL2lvbmljLWdsb2JhbC0zYjI4YTIyNS5qcyc7XG5pbXBvcnQgeyBmIGFzIGZpbmRDbG9zZXN0SW9uQ29udGVudCwgZyBhcyBnZXRTY3JvbGxFbGVtZW50IH0gZnJvbSAnLi9pbmRleC00NTVmNjIwMi5qcyc7XG5pbXBvcnQgeyByIGFzIHJhZiB9IGZyb20gJy4vaGVscGVycy01ZWI2MzY0ZC5qcyc7XG5pbXBvcnQgeyBhIGFzIGhhcHRpY1NlbGVjdGlvblN0YXJ0LCBiIGFzIGhhcHRpY1NlbGVjdGlvbkNoYW5nZWQsIGggYXMgaGFwdGljU2VsZWN0aW9uRW5kIH0gZnJvbSAnLi9oYXB0aWMtMDI5YTQ2ZjYuanMnO1xuaW1wb3J0ICcuL2luZGV4LWU4NmYwMTE3LmpzJztcblxuY29uc3QgcmVvcmRlcklvc0NzcyA9IFwiOmhvc3QoW3Nsb3RdKXtkaXNwbGF5Om5vbmU7bGluZS1oZWlnaHQ6MDt6LWluZGV4OjEwMH0ucmVvcmRlci1pY29ue2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjIycHh9LnJlb3JkZXItaWNvbntmb250LXNpemU6MzRweDtvcGFjaXR5OjAuNH1cIjtcblxuY29uc3QgcmVvcmRlck1kQ3NzID0gXCI6aG9zdChbc2xvdF0pe2Rpc3BsYXk6bm9uZTtsaW5lLWhlaWdodDowO3otaW5kZXg6MTAwfS5yZW9yZGVyLWljb257ZGlzcGxheTpibG9jaztmb250LXNpemU6MjJweH0ucmVvcmRlci1pY29ue2ZvbnQtc2l6ZTozMXB4O29wYWNpdHk6MC4zfVwiO1xuXG5jb25zdCBSZW9yZGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgfVxuICBvbkNsaWNrKGV2KSB7XG4gICAgY29uc3QgcmVvcmRlckdyb3VwID0gdGhpcy5lbC5jbG9zZXN0KCdpb24tcmVvcmRlci1ncm91cCcpO1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gT25seSBzdG9wIGV2ZW50IHByb3BhZ2F0aW9uIGlmIHRoZSByZW9yZGVyIGlzIGluc2lkZSBvZiBhbiBlbmFibGVkXG4gICAgLy8gcmVvcmRlciBncm91cC4gVGhpcyBhbGxvd3MgaW50ZXJhY3Rpb24gd2l0aCBjbGlja2FibGUgY2hpbGRyZW4gY29tcG9uZW50cy5cbiAgICBpZiAoIXJlb3JkZXJHcm91cCB8fCAhcmVvcmRlckdyb3VwLmRpc2FibGVkKSB7XG4gICAgICBldi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIGNvbnN0IHJlb3JkZXJJY29uID0gbW9kZSA9PT0gJ2lvcycgPyByZW9yZGVyVGhyZWVPdXRsaW5lIDogcmVvcmRlclR3b1NoYXJwO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiBtb2RlIH0sIGgoXCJzbG90XCIsIG51bGwsIGgoXCJpb24taWNvblwiLCB7IGljb246IHJlb3JkZXJJY29uLCBsYXp5OiBmYWxzZSwgY2xhc3M6IFwicmVvcmRlci1pY29uXCIsIHBhcnQ6IFwiaWNvblwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiIH0pKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbn07XG5SZW9yZGVyLnN0eWxlID0ge1xuICBpb3M6IHJlb3JkZXJJb3NDc3MsXG4gIG1kOiByZW9yZGVyTWRDc3Ncbn07XG5cbmNvbnN0IHJlb3JkZXJHcm91cENzcyA9IFwiLnJlb3JkZXItbGlzdC1hY3RpdmU+KntkaXNwbGF5OmJsb2NrOy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAzMDBtczt0cmFuc2l0aW9uOi13ZWJraXQtdHJhbnNmb3JtIDMwMG1zO3RyYW5zaXRpb246dHJhbnNmb3JtIDMwMG1zO3RyYW5zaXRpb246dHJhbnNmb3JtIDMwMG1zLCAtd2Via2l0LXRyYW5zZm9ybSAzMDBtczt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19LnJlb3JkZXItZW5hYmxlZHstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LnJlb3JkZXItZW5hYmxlZCBpb24tcmVvcmRlcntkaXNwbGF5OmJsb2NrO2N1cnNvcjotd2Via2l0LWdyYWI7Y3Vyc29yOmdyYWI7cG9pbnRlci1ldmVudHM6YWxsOy1tcy10b3VjaC1hY3Rpb246bm9uZTt0b3VjaC1hY3Rpb246bm9uZX0ucmVvcmRlci1zZWxlY3RlZCwucmVvcmRlci1zZWxlY3RlZCBpb24tcmVvcmRlcntjdXJzb3I6LXdlYmtpdC1ncmFiYmluZztjdXJzb3I6Z3JhYmJpbmd9LnJlb3JkZXItc2VsZWN0ZWR7cG9zaXRpb246cmVsYXRpdmU7LXdlYmtpdC10cmFuc2l0aW9uOm5vbmUgIWltcG9ydGFudDt0cmFuc2l0aW9uOm5vbmUgIWltcG9ydGFudDstd2Via2l0LWJveC1zaGFkb3c6MCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjQpO2JveC1zaGFkb3c6MCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjQpO29wYWNpdHk6MC44O3otaW5kZXg6MTAwfS5yZW9yZGVyLXZpc2libGUgaW9uLXJlb3JkZXIgLnJlb3JkZXItaWNvbnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLCAgMCwgIDApfVwiO1xuXG5jb25zdCBSZW9yZGVyR3JvdXAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuaW9uSXRlbVJlb3JkZXIgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbkl0ZW1SZW9yZGVyXCIsIDcpO1xuICAgIHRoaXMubGFzdFRvSW5kZXggPSAtMTtcbiAgICB0aGlzLmNhY2hlZEhlaWdodHMgPSBbXTtcbiAgICB0aGlzLnNjcm9sbEVsVG9wID0gMDtcbiAgICB0aGlzLnNjcm9sbEVsQm90dG9tID0gMDtcbiAgICB0aGlzLnNjcm9sbEVsSW5pdGlhbCA9IDA7XG4gICAgdGhpcy5jb250YWluZXJUb3AgPSAwO1xuICAgIHRoaXMuY29udGFpbmVyQm90dG9tID0gMDtcbiAgICB0aGlzLnN0YXRlID0gMCAvKiBSZW9yZGVyR3JvdXBTdGF0ZS5JZGxlICovO1xuICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICB9XG4gIGRpc2FibGVkQ2hhbmdlZCgpIHtcbiAgICBpZiAodGhpcy5nZXN0dXJlKSB7XG4gICAgICB0aGlzLmdlc3R1cmUuZW5hYmxlKCF0aGlzLmRpc2FibGVkKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgY29uc3QgY29udGVudEVsID0gZmluZENsb3Nlc3RJb25Db250ZW50KHRoaXMuZWwpO1xuICAgIGlmIChjb250ZW50RWwpIHtcbiAgICAgIHRoaXMuc2Nyb2xsRWwgPSBhd2FpdCBnZXRTY3JvbGxFbGVtZW50KGNvbnRlbnRFbCk7XG4gICAgfVxuICAgIHRoaXMuZ2VzdHVyZSA9IChhd2FpdCBpbXBvcnQoJy4vaW5kZXgtNDIyYjZlODMuanMnKSkuY3JlYXRlR2VzdHVyZSh7XG4gICAgICBlbDogdGhpcy5lbCxcbiAgICAgIGdlc3R1cmVOYW1lOiAncmVvcmRlcicsXG4gICAgICBnZXN0dXJlUHJpb3JpdHk6IDExMCxcbiAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgIGRpcmVjdGlvbjogJ3knLFxuICAgICAgcGFzc2l2ZTogZmFsc2UsXG4gICAgICBjYW5TdGFydDogKGRldGFpbCkgPT4gdGhpcy5jYW5TdGFydChkZXRhaWwpLFxuICAgICAgb25TdGFydDogKGV2KSA9PiB0aGlzLm9uU3RhcnQoZXYpLFxuICAgICAgb25Nb3ZlOiAoZXYpID0+IHRoaXMub25Nb3ZlKGV2KSxcbiAgICAgIG9uRW5kOiAoKSA9PiB0aGlzLm9uRW5kKCksXG4gICAgfSk7XG4gICAgdGhpcy5kaXNhYmxlZENoYW5nZWQoKTtcbiAgfVxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLm9uRW5kKCk7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZSkge1xuICAgICAgdGhpcy5nZXN0dXJlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuZ2VzdHVyZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENvbXBsZXRlcyB0aGUgcmVvcmRlciBvcGVyYXRpb24uIE11c3QgYmUgY2FsbGVkIGJ5IHRoZSBgaW9uSXRlbVJlb3JkZXJgIGV2ZW50LlxuICAgKlxuICAgKiBJZiBhIGxpc3Qgb2YgaXRlbXMgaXMgcGFzc2VkLCB0aGUgbGlzdCB3aWxsIGJlIHJlb3JkZXJlZCBhbmQgcmV0dXJuZWQgaW4gdGhlXG4gICAqIHByb3BlciBvcmRlci5cbiAgICpcbiAgICogSWYgbm8gcGFyYW1ldGVycyBhcmUgcGFzc2VkIG9yIGlmIGB0cnVlYCBpcyBwYXNzZWQgaW4sIHRoZSByZW9yZGVyIHdpbGwgY29tcGxldGVcbiAgICogYW5kIHRoZSBpdGVtIHdpbGwgcmVtYWluIGluIHRoZSBwb3NpdGlvbiBpdCB3YXMgZHJhZ2dlZCB0by4gSWYgYGZhbHNlYCBpcyBwYXNzZWQsXG4gICAqIHRoZSByZW9yZGVyIHdpbGwgY29tcGxldGUgYW5kIHRoZSBpdGVtIHdpbGwgYm91bmNlIGJhY2sgdG8gaXRzIG9yaWdpbmFsIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbGlzdE9yUmVvcmRlciBBIGxpc3Qgb2YgaXRlbXMgdG8gYmUgc29ydGVkIGFuZCByZXR1cm5lZCBpbiB0aGUgbmV3IG9yZGVyIG9yIGFcbiAgICogYm9vbGVhbiBvZiB3aGV0aGVyIG9yIG5vdCB0aGUgcmVvcmRlciBzaG91bGQgcmVwb3NpdGlvbiB0aGUgaXRlbS5cbiAgICovXG4gIGNvbXBsZXRlKGxpc3RPclJlb3JkZXIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcGxldGVSZW9yZGVyKGxpc3RPclJlb3JkZXIpKTtcbiAgfVxuICBjYW5TdGFydChldikge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkSXRlbUVsIHx8IHRoaXMuc3RhdGUgIT09IDAgLyogUmVvcmRlckdyb3VwU3RhdGUuSWRsZSAqLykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBldi5ldmVudC50YXJnZXQ7XG4gICAgY29uc3QgcmVvcmRlckVsID0gdGFyZ2V0LmNsb3Nlc3QoJ2lvbi1yZW9yZGVyJyk7XG4gICAgaWYgKCFyZW9yZGVyRWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IGZpbmRSZW9yZGVySXRlbShyZW9yZGVyRWwsIHRoaXMuZWwpO1xuICAgIGlmICghaXRlbSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBldi5kYXRhID0gaXRlbTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBvblN0YXJ0KGV2KSB7XG4gICAgZXYuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBpdGVtID0gKHRoaXMuc2VsZWN0ZWRJdGVtRWwgPSBldi5kYXRhKTtcbiAgICBjb25zdCBoZWlnaHRzID0gdGhpcy5jYWNoZWRIZWlnaHRzO1xuICAgIGhlaWdodHMubGVuZ3RoID0gMDtcbiAgICBjb25zdCBlbCA9IHRoaXMuZWw7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcbiAgICBpZiAoIWNoaWxkcmVuIHx8IGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgc3VtID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgc3VtICs9IGNoaWxkLm9mZnNldEhlaWdodDtcbiAgICAgIGhlaWdodHMucHVzaChzdW0pO1xuICAgICAgY2hpbGQuJGlvbkluZGV4ID0gaTtcbiAgICB9XG4gICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5jb250YWluZXJUb3AgPSBib3gudG9wO1xuICAgIHRoaXMuY29udGFpbmVyQm90dG9tID0gYm94LmJvdHRvbTtcbiAgICBpZiAodGhpcy5zY3JvbGxFbCkge1xuICAgICAgY29uc3Qgc2Nyb2xsQm94ID0gdGhpcy5zY3JvbGxFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHRoaXMuc2Nyb2xsRWxJbml0aWFsID0gdGhpcy5zY3JvbGxFbC5zY3JvbGxUb3A7XG4gICAgICB0aGlzLnNjcm9sbEVsVG9wID0gc2Nyb2xsQm94LnRvcCArIEFVVE9fU0NST0xMX01BUkdJTjtcbiAgICAgIHRoaXMuc2Nyb2xsRWxCb3R0b20gPSBzY3JvbGxCb3guYm90dG9tIC0gQVVUT19TQ1JPTExfTUFSR0lOO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2Nyb2xsRWxJbml0aWFsID0gMDtcbiAgICAgIHRoaXMuc2Nyb2xsRWxUb3AgPSAwO1xuICAgICAgdGhpcy5zY3JvbGxFbEJvdHRvbSA9IDA7XG4gICAgfVxuICAgIHRoaXMubGFzdFRvSW5kZXggPSBpbmRleEZvckl0ZW0oaXRlbSk7XG4gICAgdGhpcy5zZWxlY3RlZEl0ZW1IZWlnaHQgPSBpdGVtLm9mZnNldEhlaWdodDtcbiAgICB0aGlzLnN0YXRlID0gMSAvKiBSZW9yZGVyR3JvdXBTdGF0ZS5BY3RpdmUgKi87XG4gICAgaXRlbS5jbGFzc0xpc3QuYWRkKElURU1fUkVPUkRFUl9TRUxFQ1RFRCk7XG4gICAgaGFwdGljU2VsZWN0aW9uU3RhcnQoKTtcbiAgfVxuICBvbk1vdmUoZXYpIHtcbiAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSB0aGlzLnNlbGVjdGVkSXRlbUVsO1xuICAgIGlmICghc2VsZWN0ZWRJdGVtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNjcm9sbCBpZiB3ZSByZWFjaCB0aGUgc2Nyb2xsIG1hcmdpbnNcbiAgICBjb25zdCBzY3JvbGwgPSB0aGlzLmF1dG9zY3JvbGwoZXYuY3VycmVudFkpO1xuICAgIC8vIC8vIEdldCBjb29yZGluYXRlXG4gICAgY29uc3QgdG9wID0gdGhpcy5jb250YWluZXJUb3AgLSBzY3JvbGw7XG4gICAgY29uc3QgYm90dG9tID0gdGhpcy5jb250YWluZXJCb3R0b20gLSBzY3JvbGw7XG4gICAgY29uc3QgY3VycmVudFkgPSBNYXRoLm1heCh0b3AsIE1hdGgubWluKGV2LmN1cnJlbnRZLCBib3R0b20pKTtcbiAgICBjb25zdCBkZWx0YVkgPSBzY3JvbGwgKyBjdXJyZW50WSAtIGV2LnN0YXJ0WTtcbiAgICBjb25zdCBub3JtYWxpemVkWSA9IGN1cnJlbnRZIC0gdG9wO1xuICAgIGNvbnN0IHRvSW5kZXggPSB0aGlzLml0ZW1JbmRleEZvclRvcChub3JtYWxpemVkWSk7XG4gICAgaWYgKHRvSW5kZXggIT09IHRoaXMubGFzdFRvSW5kZXgpIHtcbiAgICAgIGNvbnN0IGZyb21JbmRleCA9IGluZGV4Rm9ySXRlbShzZWxlY3RlZEl0ZW0pO1xuICAgICAgdGhpcy5sYXN0VG9JbmRleCA9IHRvSW5kZXg7XG4gICAgICBoYXB0aWNTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLnJlb3JkZXJNb3ZlKGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgfVxuICAgIC8vIFVwZGF0ZSBzZWxlY3RlZCBpdGVtIHBvc2l0aW9uXG4gICAgc2VsZWN0ZWRJdGVtLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKCR7ZGVsdGFZfXB4KWA7XG4gIH1cbiAgb25FbmQoKSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtRWwgPSB0aGlzLnNlbGVjdGVkSXRlbUVsO1xuICAgIHRoaXMuc3RhdGUgPSAyIC8qIFJlb3JkZXJHcm91cFN0YXRlLkNvbXBsZXRlICovO1xuICAgIGlmICghc2VsZWN0ZWRJdGVtRWwpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSAwIC8qIFJlb3JkZXJHcm91cFN0YXRlLklkbGUgKi87XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRvSW5kZXggPSB0aGlzLmxhc3RUb0luZGV4O1xuICAgIGNvbnN0IGZyb21JbmRleCA9IGluZGV4Rm9ySXRlbShzZWxlY3RlZEl0ZW1FbCk7XG4gICAgaWYgKHRvSW5kZXggPT09IGZyb21JbmRleCkge1xuICAgICAgdGhpcy5jb21wbGV0ZVJlb3JkZXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmlvbkl0ZW1SZW9yZGVyLmVtaXQoe1xuICAgICAgICBmcm9tOiBmcm9tSW5kZXgsXG4gICAgICAgIHRvOiB0b0luZGV4LFxuICAgICAgICBjb21wbGV0ZTogdGhpcy5jb21wbGV0ZVJlb3JkZXIuYmluZCh0aGlzKSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBoYXB0aWNTZWxlY3Rpb25FbmQoKTtcbiAgfVxuICBjb21wbGV0ZVJlb3JkZXIobGlzdE9yUmVvcmRlcikge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbUVsID0gdGhpcy5zZWxlY3RlZEl0ZW1FbDtcbiAgICBpZiAoc2VsZWN0ZWRJdGVtRWwgJiYgdGhpcy5zdGF0ZSA9PT0gMiAvKiBSZW9yZGVyR3JvdXBTdGF0ZS5Db21wbGV0ZSAqLykge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmVsLmNoaWxkcmVuO1xuICAgICAgY29uc3QgbGVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgY29uc3QgdG9JbmRleCA9IHRoaXMubGFzdFRvSW5kZXg7XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBpbmRleEZvckl0ZW0oc2VsZWN0ZWRJdGVtRWwpO1xuICAgICAgLyoqXG4gICAgICAgKiBpbnNlcnRCZWZvcmUgYW5kIHNldHRpbmcgdGhlIHRyYW5zZm9ybVxuICAgICAgICogbmVlZHMgdG8gaGFwcGVuIGluIHRoZSBzYW1lIGZyYW1lIG90aGVyd2lzZVxuICAgICAgICogdGhlcmUgd2lsbCBiZSBhIGR1cGxpY2F0ZSB0cmFuc2l0aW9uLiBUaGlzIHByaW1hcmlseVxuICAgICAgICogaW1wYWN0cyBGaXJlZm94IHdoZXJlIGluc2VydEJlZm9yZSBhbmQgdHJhbnNmb3JtIG9wZXJhdGlvbnNcbiAgICAgICAqIGFyZSBoYXBwZW5pbmcgaW4gdHdvIHNlcGFyYXRlIGZyYW1lcy5cbiAgICAgICAqL1xuICAgICAgcmFmKCgpID0+IHtcbiAgICAgICAgaWYgKHRvSW5kZXggIT09IGZyb21JbmRleCAmJiAobGlzdE9yUmVvcmRlciA9PT0gdW5kZWZpbmVkIHx8IGxpc3RPclJlb3JkZXIgPT09IHRydWUpKSB7XG4gICAgICAgICAgY29uc3QgcmVmID0gZnJvbUluZGV4IDwgdG9JbmRleCA/IGNoaWxkcmVuW3RvSW5kZXggKyAxXSA6IGNoaWxkcmVuW3RvSW5kZXhdO1xuICAgICAgICAgIHRoaXMuZWwuaW5zZXJ0QmVmb3JlKHNlbGVjdGVkSXRlbUVsLCByZWYpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZHJlbltpXS5zdHlsZVsndHJhbnNmb3JtJ10gPSAnJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShsaXN0T3JSZW9yZGVyKSkge1xuICAgICAgICBsaXN0T3JSZW9yZGVyID0gcmVvcmRlckFycmF5KGxpc3RPclJlb3JkZXIsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgICB9XG4gICAgICBzZWxlY3RlZEl0ZW1FbC5zdHlsZS50cmFuc2l0aW9uID0gJyc7XG4gICAgICBzZWxlY3RlZEl0ZW1FbC5jbGFzc0xpc3QucmVtb3ZlKElURU1fUkVPUkRFUl9TRUxFQ1RFRCk7XG4gICAgICB0aGlzLnNlbGVjdGVkSXRlbUVsID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogUmVvcmRlckdyb3VwU3RhdGUuSWRsZSAqLztcbiAgICB9XG4gICAgcmV0dXJuIGxpc3RPclJlb3JkZXI7XG4gIH1cbiAgaXRlbUluZGV4Rm9yVG9wKGRlbHRhWSkge1xuICAgIGNvbnN0IGhlaWdodHMgPSB0aGlzLmNhY2hlZEhlaWdodHM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWlnaHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaGVpZ2h0c1tpXSA+IGRlbHRhWSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhlaWdodHMubGVuZ3RoIC0gMTtcbiAgfVxuICAvKioqKioqKioqIERPTSBXUklURSAqKioqKioqKiogKi9cbiAgcmVvcmRlck1vdmUoZnJvbUluZGV4LCB0b0luZGV4KSB7XG4gICAgY29uc3QgaXRlbUhlaWdodCA9IHRoaXMuc2VsZWN0ZWRJdGVtSGVpZ2h0O1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IGNoaWxkcmVuW2ldLnN0eWxlO1xuICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICBpZiAoaSA+IGZyb21JbmRleCAmJiBpIDw9IHRvSW5kZXgpIHtcbiAgICAgICAgdmFsdWUgPSBgdHJhbnNsYXRlWSgkey1pdGVtSGVpZ2h0fXB4KWA7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpIDwgZnJvbUluZGV4ICYmIGkgPj0gdG9JbmRleCkge1xuICAgICAgICB2YWx1ZSA9IGB0cmFuc2xhdGVZKCR7aXRlbUhlaWdodH1weClgO1xuICAgICAgfVxuICAgICAgc3R5bGVbJ3RyYW5zZm9ybSddID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIGF1dG9zY3JvbGwocG9zWSkge1xuICAgIGlmICghdGhpcy5zY3JvbGxFbCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBhbW91bnQgPSAwO1xuICAgIGlmIChwb3NZIDwgdGhpcy5zY3JvbGxFbFRvcCkge1xuICAgICAgYW1vdW50ID0gLVNDUk9MTF9KVU1QO1xuICAgIH1cbiAgICBlbHNlIGlmIChwb3NZID4gdGhpcy5zY3JvbGxFbEJvdHRvbSkge1xuICAgICAgYW1vdW50ID0gU0NST0xMX0pVTVA7XG4gICAgfVxuICAgIGlmIChhbW91bnQgIT09IDApIHtcbiAgICAgIHRoaXMuc2Nyb2xsRWwuc2Nyb2xsQnkoMCwgYW1vdW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wIC0gdGhpcy5zY3JvbGxFbEluaXRpYWw7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IG1vZGUgPSBnZXRJb25Nb2RlKHRoaXMpO1xuICAgIHJldHVybiAoaChIb3N0LCB7IGNsYXNzOiB7XG4gICAgICAgIFttb2RlXTogdHJ1ZSxcbiAgICAgICAgJ3Jlb3JkZXItZW5hYmxlZCc6ICF0aGlzLmRpc2FibGVkLFxuICAgICAgICAncmVvcmRlci1saXN0LWFjdGl2ZSc6IHRoaXMuc3RhdGUgIT09IDAgLyogUmVvcmRlckdyb3VwU3RhdGUuSWRsZSAqLyxcbiAgICAgIH0gfSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbiAgc3RhdGljIGdldCB3YXRjaGVycygpIHsgcmV0dXJuIHtcbiAgICBcImRpc2FibGVkXCI6IFtcImRpc2FibGVkQ2hhbmdlZFwiXVxuICB9OyB9XG59O1xuY29uc3QgaW5kZXhGb3JJdGVtID0gKGVsZW1lbnQpID0+IHtcbiAgcmV0dXJuIGVsZW1lbnRbJyRpb25JbmRleCddO1xufTtcbmNvbnN0IGZpbmRSZW9yZGVySXRlbSA9IChub2RlLCBjb250YWluZXIpID0+IHtcbiAgbGV0IHBhcmVudDtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBwYXJlbnQgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHBhcmVudCA9PT0gY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgbm9kZSA9IHBhcmVudDtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmNvbnN0IEFVVE9fU0NST0xMX01BUkdJTiA9IDYwO1xuY29uc3QgU0NST0xMX0pVTVAgPSAxMDtcbmNvbnN0IElURU1fUkVPUkRFUl9TRUxFQ1RFRCA9ICdyZW9yZGVyLXNlbGVjdGVkJztcbmNvbnN0IHJlb3JkZXJBcnJheSA9IChhcnJheSwgZnJvbSwgdG8pID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IGFycmF5W2Zyb21dO1xuICBhcnJheS5zcGxpY2UoZnJvbSwgMSk7XG4gIGFycmF5LnNwbGljZSh0bywgMCwgZWxlbWVudCk7XG4gIHJldHVybiBhcnJheS5zbGljZSgpO1xufTtcblJlb3JkZXJHcm91cC5zdHlsZSA9IHJlb3JkZXJHcm91cENzcztcblxuZXhwb3J0IHsgUmVvcmRlciBhcyBpb25fcmVvcmRlciwgUmVvcmRlckdyb3VwIGFzIGlvbl9yZW9yZGVyX2dyb3VwIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJoIiwiSCIsIkhvc3QiLCJmIiwiZ2V0RWxlbWVudCIsImQiLCJjcmVhdGVFdmVudCIsImoiLCJyZW9yZGVyVGhyZWVPdXRsaW5lIiwiayIsInJlb3JkZXJUd29TaGFycCIsImIiLCJnZXRJb25Nb2RlIiwiZmluZENsb3Nlc3RJb25Db250ZW50IiwiZyIsImdldFNjcm9sbEVsZW1lbnQiLCJyYWYiLCJhIiwiaGFwdGljU2VsZWN0aW9uU3RhcnQiLCJoYXB0aWNTZWxlY3Rpb25DaGFuZ2VkIiwiaGFwdGljU2VsZWN0aW9uRW5kIiwicmVvcmRlcklvc0NzcyIsInJlb3JkZXJNZENzcyIsIlJlb3JkZXIiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJvbkNsaWNrIiwiZXYiLCJyZW9yZGVyR3JvdXAiLCJlbCIsImNsb3Nlc3QiLCJwcmV2ZW50RGVmYXVsdCIsImRpc2FibGVkIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwicmVuZGVyIiwibW9kZSIsInJlb3JkZXJJY29uIiwiY2xhc3MiLCJpY29uIiwibGF6eSIsInBhcnQiLCJzdHlsZSIsImlvcyIsIm1kIiwicmVvcmRlckdyb3VwQ3NzIiwiUmVvcmRlckdyb3VwIiwiaW9uSXRlbVJlb3JkZXIiLCJsYXN0VG9JbmRleCIsImNhY2hlZEhlaWdodHMiLCJzY3JvbGxFbFRvcCIsInNjcm9sbEVsQm90dG9tIiwic2Nyb2xsRWxJbml0aWFsIiwiY29udGFpbmVyVG9wIiwiY29udGFpbmVyQm90dG9tIiwic3RhdGUiLCJkaXNhYmxlZENoYW5nZWQiLCJnZXN0dXJlIiwiZW5hYmxlIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJfdGhpcyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiY29udGVudEVsIiwic2Nyb2xsRWwiLCJjcmVhdGVHZXN0dXJlIiwiZ2VzdHVyZU5hbWUiLCJnZXN0dXJlUHJpb3JpdHkiLCJ0aHJlc2hvbGQiLCJkaXJlY3Rpb24iLCJwYXNzaXZlIiwiY2FuU3RhcnQiLCJkZXRhaWwiLCJvblN0YXJ0Iiwib25Nb3ZlIiwib25FbmQiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsImRlc3Ryb3kiLCJ1bmRlZmluZWQiLCJjb21wbGV0ZSIsImxpc3RPclJlb3JkZXIiLCJQcm9taXNlIiwicmVzb2x2ZSIsImNvbXBsZXRlUmVvcmRlciIsInNlbGVjdGVkSXRlbUVsIiwidGFyZ2V0IiwiZXZlbnQiLCJyZW9yZGVyRWwiLCJpdGVtIiwiZmluZFJlb3JkZXJJdGVtIiwiZGF0YSIsImhlaWdodHMiLCJsZW5ndGgiLCJjaGlsZHJlbiIsInN1bSIsImkiLCJjaGlsZCIsIm9mZnNldEhlaWdodCIsInB1c2giLCIkaW9uSW5kZXgiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJib3R0b20iLCJzY3JvbGxCb3giLCJzY3JvbGxUb3AiLCJBVVRPX1NDUk9MTF9NQVJHSU4iLCJpbmRleEZvckl0ZW0iLCJzZWxlY3RlZEl0ZW1IZWlnaHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJJVEVNX1JFT1JERVJfU0VMRUNURUQiLCJzZWxlY3RlZEl0ZW0iLCJzY3JvbGwiLCJhdXRvc2Nyb2xsIiwiY3VycmVudFkiLCJNYXRoIiwibWF4IiwibWluIiwiZGVsdGFZIiwic3RhcnRZIiwibm9ybWFsaXplZFkiLCJ0b0luZGV4IiwiaXRlbUluZGV4Rm9yVG9wIiwiZnJvbUluZGV4IiwicmVvcmRlck1vdmUiLCJ0cmFuc2Zvcm0iLCJlbWl0IiwiZnJvbSIsInRvIiwiYmluZCIsImxlbiIsInJlZiIsImluc2VydEJlZm9yZSIsIkFycmF5IiwiaXNBcnJheSIsInJlb3JkZXJBcnJheSIsInRyYW5zaXRpb24iLCJyZW1vdmUiLCJpdGVtSGVpZ2h0IiwidmFsdWUiLCJwb3NZIiwiYW1vdW50IiwiU0NST0xMX0pVTVAiLCJzY3JvbGxCeSIsIndhdGNoZXJzIiwiZWxlbWVudCIsIm5vZGUiLCJjb250YWluZXIiLCJwYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiYXJyYXkiLCJzcGxpY2UiLCJzbGljZSIsImlvbl9yZW9yZGVyIiwiaW9uX3Jlb3JkZXJfZ3JvdXAiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==