"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js"],{

/***/ 53549:
/*!******************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-reorder_2.entry.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_reorder: () => (/* binding */ Reorder),
/* harmony export */   ion_reorder_group: () => (/* binding */ ReorderGroup)
/* harmony export */ });
/* harmony import */ var C_Users_Blessing_Kunaka_Desktop_mining_expo_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-36a5fd75.js */ 78705);
/* harmony import */ var _index_393bc14a_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-393bc14a.js */ 7654);
/* harmony import */ var _ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ionic-global-a9abd569.js */ 74771);
/* harmony import */ var _index_7373924f_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-7373924f.js */ 68873);
/* harmony import */ var _helpers_f586db1c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./helpers-f586db1c.js */ 75272);
/* harmony import */ var _haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./haptic-029a46f6.js */ 28229);
/* harmony import */ var _index_e86f0117_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./index-e86f0117.js */ 50123);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */







const reorderIosCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:34px;opacity:0.4}";
const reorderMdCss = ":host([slot]){display:none;line-height:0;z-index:100}.reorder-icon{display:block;font-size:22px}.reorder-icon{font-size:31px;opacity:0.3}";
const Reorder = class {
  constructor(hostRef) {
    (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
  }
  onClick(ev) {
    const reorderGroup = this.el.closest('ion-reorder-group');
    ev.preventDefault();
    // Only stop event propagation if the reorder is inside of an enabled
    // reorder group. This allows interaction with clickable children components.
    if (!reorderGroup || !reorderGroup.disabled) {
      ev.stopImmediatePropagation();
    }
  }
  render() {
    const mode = (0,_ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
    const reorderIcon = mode === 'ios' ? _index_393bc14a_js__WEBPACK_IMPORTED_MODULE_2__.j : _index_393bc14a_js__WEBPACK_IMPORTED_MODULE_2__.k;
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: mode
    }, (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null, (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-icon", {
      icon: reorderIcon,
      lazy: false,
      class: "reorder-icon",
      part: "icon",
      "aria-hidden": "true"
    })));
  }
  get el() {
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
Reorder.style = {
  ios: reorderIosCss,
  md: reorderMdCss
};
const reorderGroupCss = ".reorder-list-active>*{display:block;-webkit-transition:-webkit-transform 300ms;transition:-webkit-transform 300ms;transition:transform 300ms;transition:transform 300ms, -webkit-transform 300ms;will-change:transform}.reorder-enabled{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.reorder-enabled ion-reorder{display:block;cursor:-webkit-grab;cursor:grab;pointer-events:all;-ms-touch-action:none;touch-action:none}.reorder-selected,.reorder-selected ion-reorder{cursor:-webkit-grabbing;cursor:grabbing}.reorder-selected{position:relative;-webkit-transition:none !important;transition:none !important;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.4);box-shadow:0 0 10px rgba(0, 0, 0, 0.4);opacity:0.8;z-index:100}.reorder-visible ion-reorder .reorder-icon{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}";
const ReorderGroup = class {
  constructor(hostRef) {
    (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionItemReorder = (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionItemReorder", 7);
    this.lastToIndex = -1;
    this.cachedHeights = [];
    this.scrollElTop = 0;
    this.scrollElBottom = 0;
    this.scrollElInitial = 0;
    this.containerTop = 0;
    this.containerBottom = 0;
    this.state = 0 /* ReorderGroupState.Idle */;
    this.disabled = true;
  }
  disabledChanged() {
    if (this.gesture) {
      this.gesture.enable(!this.disabled);
    }
  }
  connectedCallback() {
    var _this = this;
    return (0,C_Users_Blessing_Kunaka_Desktop_mining_expo_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const contentEl = (0,_index_7373924f_js__WEBPACK_IMPORTED_MODULE_4__.f)(_this.el);
      if (contentEl) {
        _this.scrollEl = yield (0,_index_7373924f_js__WEBPACK_IMPORTED_MODULE_4__.g)(contentEl);
      }
      _this.gesture = (yield Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./index-422b6e83.js */ 10037))).createGesture({
        el: _this.el,
        gestureName: 'reorder',
        gesturePriority: 110,
        threshold: 0,
        direction: 'y',
        passive: false,
        canStart: detail => _this.canStart(detail),
        onStart: ev => _this.onStart(ev),
        onMove: ev => _this.onMove(ev),
        onEnd: () => _this.onEnd()
      });
      _this.disabledChanged();
    })();
  }
  disconnectedCallback() {
    this.onEnd();
    if (this.gesture) {
      this.gesture.destroy();
      this.gesture = undefined;
    }
  }
  /**
   * Completes the reorder operation. Must be called by the `ionItemReorder` event.
   *
   * If a list of items is passed, the list will be reordered and returned in the
   * proper order.
   *
   * If no parameters are passed or if `true` is passed in, the reorder will complete
   * and the item will remain in the position it was dragged to. If `false` is passed,
   * the reorder will complete and the item will bounce back to its original position.
   *
   * @param listOrReorder A list of items to be sorted and returned in the new order or a
   * boolean of whether or not the reorder should reposition the item.
   */
  complete(listOrReorder) {
    return Promise.resolve(this.completeReorder(listOrReorder));
  }
  canStart(ev) {
    if (this.selectedItemEl || this.state !== 0 /* ReorderGroupState.Idle */) {
      return false;
    }
    const target = ev.event.target;
    const reorderEl = target.closest('ion-reorder');
    if (!reorderEl) {
      return false;
    }
    const item = findReorderItem(reorderEl, this.el);
    if (!item) {
      return false;
    }
    ev.data = item;
    return true;
  }
  onStart(ev) {
    ev.event.preventDefault();
    const item = this.selectedItemEl = ev.data;
    const heights = this.cachedHeights;
    heights.length = 0;
    const el = this.el;
    const children = el.children;
    if (!children || children.length === 0) {
      return;
    }
    let sum = 0;
    for (let i = 0; i < children.length; i++) {
      const child = children[i];
      sum += child.offsetHeight;
      heights.push(sum);
      child.$ionIndex = i;
    }
    const box = el.getBoundingClientRect();
    this.containerTop = box.top;
    this.containerBottom = box.bottom;
    if (this.scrollEl) {
      const scrollBox = this.scrollEl.getBoundingClientRect();
      this.scrollElInitial = this.scrollEl.scrollTop;
      this.scrollElTop = scrollBox.top + AUTO_SCROLL_MARGIN;
      this.scrollElBottom = scrollBox.bottom - AUTO_SCROLL_MARGIN;
    } else {
      this.scrollElInitial = 0;
      this.scrollElTop = 0;
      this.scrollElBottom = 0;
    }
    this.lastToIndex = indexForItem(item);
    this.selectedItemHeight = item.offsetHeight;
    this.state = 1 /* ReorderGroupState.Active */;
    item.classList.add(ITEM_REORDER_SELECTED);
    (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__.a)();
  }
  onMove(ev) {
    const selectedItem = this.selectedItemEl;
    if (!selectedItem) {
      return;
    }
    // Scroll if we reach the scroll margins
    const scroll = this.autoscroll(ev.currentY);
    // // Get coordinate
    const top = this.containerTop - scroll;
    const bottom = this.containerBottom - scroll;
    const currentY = Math.max(top, Math.min(ev.currentY, bottom));
    const deltaY = scroll + currentY - ev.startY;
    const normalizedY = currentY - top;
    const toIndex = this.itemIndexForTop(normalizedY);
    if (toIndex !== this.lastToIndex) {
      const fromIndex = indexForItem(selectedItem);
      this.lastToIndex = toIndex;
      (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__.b)();
      this.reorderMove(fromIndex, toIndex);
    }
    // Update selected item position
    selectedItem.style.transform = `translateY(${deltaY}px)`;
  }
  onEnd() {
    const selectedItemEl = this.selectedItemEl;
    this.state = 2 /* ReorderGroupState.Complete */;
    if (!selectedItemEl) {
      this.state = 0 /* ReorderGroupState.Idle */;
      return;
    }
    const toIndex = this.lastToIndex;
    const fromIndex = indexForItem(selectedItemEl);
    if (toIndex === fromIndex) {
      this.completeReorder();
    } else {
      this.ionItemReorder.emit({
        from: fromIndex,
        to: toIndex,
        complete: this.completeReorder.bind(this)
      });
    }
    (0,_haptic_029a46f6_js__WEBPACK_IMPORTED_MODULE_6__.h)();
  }
  completeReorder(listOrReorder) {
    const selectedItemEl = this.selectedItemEl;
    if (selectedItemEl && this.state === 2 /* ReorderGroupState.Complete */) {
      const children = this.el.children;
      const len = children.length;
      const toIndex = this.lastToIndex;
      const fromIndex = indexForItem(selectedItemEl);
      /**
       * insertBefore and setting the transform
       * needs to happen in the same frame otherwise
       * there will be a duplicate transition. This primarily
       * impacts Firefox where insertBefore and transform operations
       * are happening in two separate frames.
       */
      (0,_helpers_f586db1c_js__WEBPACK_IMPORTED_MODULE_5__.r)(() => {
        if (toIndex !== fromIndex && (listOrReorder === undefined || listOrReorder === true)) {
          const ref = fromIndex < toIndex ? children[toIndex + 1] : children[toIndex];
          this.el.insertBefore(selectedItemEl, ref);
        }
        for (let i = 0; i < len; i++) {
          children[i].style['transform'] = '';
        }
      });
      if (Array.isArray(listOrReorder)) {
        listOrReorder = reorderArray(listOrReorder, fromIndex, toIndex);
      }
      selectedItemEl.style.transition = '';
      selectedItemEl.classList.remove(ITEM_REORDER_SELECTED);
      this.selectedItemEl = undefined;
      this.state = 0 /* ReorderGroupState.Idle */;
    }

    return listOrReorder;
  }
  itemIndexForTop(deltaY) {
    const heights = this.cachedHeights;
    for (let i = 0; i < heights.length; i++) {
      if (heights[i] > deltaY) {
        return i;
      }
    }
    return heights.length - 1;
  }
  /********* DOM WRITE ********* */
  reorderMove(fromIndex, toIndex) {
    const itemHeight = this.selectedItemHeight;
    const children = this.el.children;
    for (let i = 0; i < children.length; i++) {
      const style = children[i].style;
      let value = '';
      if (i > fromIndex && i <= toIndex) {
        value = `translateY(${-itemHeight}px)`;
      } else if (i < fromIndex && i >= toIndex) {
        value = `translateY(${itemHeight}px)`;
      }
      style['transform'] = value;
    }
  }
  autoscroll(posY) {
    if (!this.scrollEl) {
      return 0;
    }
    let amount = 0;
    if (posY < this.scrollElTop) {
      amount = -SCROLL_JUMP;
    } else if (posY > this.scrollElBottom) {
      amount = SCROLL_JUMP;
    }
    if (amount !== 0) {
      this.scrollEl.scrollBy(0, amount);
    }
    return this.scrollEl.scrollTop - this.scrollElInitial;
  }
  render() {
    const mode = (0,_ionic_global_a9abd569_js__WEBPACK_IMPORTED_MODULE_3__.b)(this);
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: {
        [mode]: true,
        'reorder-enabled': !this.disabled,
        'reorder-list-active': this.state !== 0 /* ReorderGroupState.Idle */
      }
    });
  }

  get el() {
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "disabled": ["disabledChanged"]
    };
  }
};
const indexForItem = element => {
  return element['$ionIndex'];
};
const findReorderItem = (node, container) => {
  let parent;
  while (node) {
    parent = node.parentElement;
    if (parent === container) {
      return node;
    }
    node = parent;
  }
  return undefined;
};
const AUTO_SCROLL_MARGIN = 60;
const SCROLL_JUMP = 10;
const ITEM_REORDER_SELECTED = 'reorder-selected';
const reorderArray = (array, from, to) => {
  const element = array[from];
  array.splice(from, 1);
  array.splice(to, 0, element);
  return array.slice();
};
ReorderGroup.style = reorderGroupCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXJlb3JkZXJfMl9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUM2RztBQUN4QjtBQUN4QjtBQUMyQjtBQUN2QztBQUNzRTtBQUMxRjtBQUU3QixNQUFNdUIsYUFBYSxHQUFHLDJJQUEySTtBQUVqSyxNQUFNQyxZQUFZLEdBQUcsMklBQTJJO0FBRWhLLE1BQU1DLE9BQU8sR0FBRyxNQUFNO0VBQ3BCQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDbkIxQixxREFBZ0IsQ0FBQyxJQUFJLEVBQUUwQixPQUFPLENBQUM7RUFDakM7RUFDQUMsT0FBT0EsQ0FBQ0MsRUFBRSxFQUFFO0lBQ1YsTUFBTUMsWUFBWSxHQUFHLElBQUksQ0FBQ0MsRUFBRSxDQUFDQyxPQUFPLENBQUMsbUJBQW1CLENBQUM7SUFDekRILEVBQUUsQ0FBQ0ksY0FBYyxDQUFDLENBQUM7SUFDbkI7SUFDQTtJQUNBLElBQUksQ0FBQ0gsWUFBWSxJQUFJLENBQUNBLFlBQVksQ0FBQ0ksUUFBUSxFQUFFO01BQzNDTCxFQUFFLENBQUNNLHdCQUF3QixDQUFDLENBQUM7SUFDL0I7RUFDRjtFQUNBQyxNQUFNQSxDQUFBLEVBQUc7SUFDUCxNQUFNQyxJQUFJLEdBQUd2Qiw0REFBVSxDQUFDLElBQUksQ0FBQztJQUM3QixNQUFNd0IsV0FBVyxHQUFHRCxJQUFJLEtBQUssS0FBSyxHQUFHM0IsaURBQW1CLEdBQUdFLGlEQUFlO0lBQzFFLE9BQVFWLHFEQUFDLENBQUNFLGlEQUFJLEVBQUU7TUFBRW1DLEtBQUssRUFBRUY7SUFBSyxDQUFDLEVBQUVuQyxxREFBQyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUVBLHFEQUFDLENBQUMsVUFBVSxFQUFFO01BQUVzQyxJQUFJLEVBQUVGLFdBQVc7TUFBRUcsSUFBSSxFQUFFLEtBQUs7TUFBRUYsS0FBSyxFQUFFLGNBQWM7TUFBRUcsSUFB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RyxhQUFhO0lBQzNCLElBQUlELE1BQU0sS0FBS0QsU0FBUyxFQUFFO01BQ3hCLE9BQU9ELElBQUk7SUFDYjtJQUNBQSxJQUFJLEdBQUdFLE1BQU07RUFDZjtFQUNBLE9BQU92RSxTQUFTO0FBQ2xCLENBQUM7QUFDRCxNQUFNNEIsa0JBQWtCLEdBQUcsRUFBRTtBQUM3QixNQUFNcUMsV0FBVyxHQUFHLEVBQUU7QUFDdEIsTUFBTWhDLHFCQUFxQixHQUFHLGtCQUFrQjtBQUNoRCxNQUFNeUIsWUFBWSxHQUFHQSxDQUFDZSxLQUFLLEVBQUV2QixJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUN4QyxNQUFNaUIsT0FBTyxHQUFHSyxLQUFLLENBQUN2QixJQUFJLENBQUM7RUFDM0J1QixLQUFLLENBQUNDLE1BQU0sQ0FBQ3hCLElBQUksRUFBRSxDQUFDLENBQUM7RUFDckJ1QixLQUFLLENBQUNDLE1BQU0sQ0FBQ3ZCLEVBQUUsRUFBRSxDQUFDLEVBQUVpQixPQUFPLENBQUM7RUFDNUIsT0FBT0ssS0FBSyxDQUFDRSxLQUFLLENBQUMsQ0FBQztBQUN0QixDQUFDO0FBQ0QxRyxZQUFZLENBQUNKLEtBQUssR0FBR0csZUFBZSIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXJlb3JkZXJfMi5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBoLCBIIGFzIEhvc3QsIGYgYXMgZ2V0RWxlbWVudCwgZCBhcyBjcmVhdGVFdmVudCB9IGZyb20gJy4vaW5kZXgtMzZhNWZkNzUuanMnO1xuaW1wb3J0IHsgaiBhcyByZW9yZGVyVGhyZWVPdXRsaW5lLCBrIGFzIHJlb3JkZXJUd29TaGFycCB9IGZyb20gJy4vaW5kZXgtMzkzYmMxNGEuanMnO1xuaW1wb3J0IHsgYiBhcyBnZXRJb25Nb2RlIH0gZnJvbSAnLi9pb25pYy1nbG9iYWwtYTlhYmQ1NjkuanMnO1xuaW1wb3J0IHsgZiBhcyBmaW5kQ2xvc2VzdElvbkNvbnRlbnQsIGcgYXMgZ2V0U2Nyb2xsRWxlbWVudCB9IGZyb20gJy4vaW5kZXgtNzM3MzkyNGYuanMnO1xuaW1wb3J0IHsgciBhcyByYWYgfSBmcm9tICcuL2hlbHBlcnMtZjU4NmRiMWMuanMnO1xuaW1wb3J0IHsgYSBhcyBoYXB0aWNTZWxlY3Rpb25TdGFydCwgYiBhcyBoYXB0aWNTZWxlY3Rpb25DaGFuZ2VkLCBoIGFzIGhhcHRpY1NlbGVjdGlvbkVuZCB9IGZyb20gJy4vaGFwdGljLTAyOWE0NmY2LmpzJztcbmltcG9ydCAnLi9pbmRleC1lODZmMDExNy5qcyc7XG5cbmNvbnN0IHJlb3JkZXJJb3NDc3MgPSBcIjpob3N0KFtzbG90XSl7ZGlzcGxheTpub25lO2xpbmUtaGVpZ2h0OjA7ei1pbmRleDoxMDB9LnJlb3JkZXItaWNvbntkaXNwbGF5OmJsb2NrO2ZvbnQtc2l6ZToyMnB4fS5yZW9yZGVyLWljb257Zm9udC1zaXplOjM0cHg7b3BhY2l0eTowLjR9XCI7XG5cbmNvbnN0IHJlb3JkZXJNZENzcyA9IFwiOmhvc3QoW3Nsb3RdKXtkaXNwbGF5Om5vbmU7bGluZS1oZWlnaHQ6MDt6LWluZGV4OjEwMH0ucmVvcmRlci1pY29ue2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjIycHh9LnJlb3JkZXItaWNvbntmb250LXNpemU6MzFweDtvcGFjaXR5OjAuM31cIjtcblxuY29uc3QgUmVvcmRlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gIH1cbiAgb25DbGljayhldikge1xuICAgIGNvbnN0IHJlb3JkZXJHcm91cCA9IHRoaXMuZWwuY2xvc2VzdCgnaW9uLXJlb3JkZXItZ3JvdXAnKTtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vIE9ubHkgc3RvcCBldmVudCBwcm9wYWdhdGlvbiBpZiB0aGUgcmVvcmRlciBpcyBpbnNpZGUgb2YgYW4gZW5hYmxlZFxuICAgIC8vIHJlb3JkZXIgZ3JvdXAuIFRoaXMgYWxsb3dzIGludGVyYWN0aW9uIHdpdGggY2xpY2thYmxlIGNoaWxkcmVuIGNvbXBvbmVudHMuXG4gICAgaWYgKCFyZW9yZGVyR3JvdXAgfHwgIXJlb3JkZXJHcm91cC5kaXNhYmxlZCkge1xuICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICBjb25zdCByZW9yZGVySWNvbiA9IG1vZGUgPT09ICdpb3MnID8gcmVvcmRlclRocmVlT3V0bGluZSA6IHJlb3JkZXJUd29TaGFycDtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczogbW9kZSB9LCBoKFwic2xvdFwiLCBudWxsLCBoKFwiaW9uLWljb25cIiwgeyBpY29uOiByZW9yZGVySWNvbiwgbGF6eTogZmFsc2UsIGNsYXNzOiBcInJlb3JkZXItaWNvblwiLCBwYXJ0OiBcImljb25cIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9KSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuUmVvcmRlci5zdHlsZSA9IHtcbiAgaW9zOiByZW9yZGVySW9zQ3NzLFxuICBtZDogcmVvcmRlck1kQ3NzXG59O1xuXG5jb25zdCByZW9yZGVyR3JvdXBDc3MgPSBcIi5yZW9yZGVyLWxpc3QtYWN0aXZlPip7ZGlzcGxheTpibG9jazstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gMzAwbXM7dHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAzMDBtczt0cmFuc2l0aW9uOnRyYW5zZm9ybSAzMDBtczt0cmFuc2l0aW9uOnRyYW5zZm9ybSAzMDBtcywgLXdlYmtpdC10cmFuc2Zvcm0gMzAwbXM7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5yZW9yZGVyLWVuYWJsZWR7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5yZW9yZGVyLWVuYWJsZWQgaW9uLXJlb3JkZXJ7ZGlzcGxheTpibG9jaztjdXJzb3I6LXdlYmtpdC1ncmFiO2N1cnNvcjpncmFiO3BvaW50ZXItZXZlbnRzOmFsbDstbXMtdG91Y2gtYWN0aW9uOm5vbmU7dG91Y2gtYWN0aW9uOm5vbmV9LnJlb3JkZXItc2VsZWN0ZWQsLnJlb3JkZXItc2VsZWN0ZWQgaW9uLXJlb3JkZXJ7Y3Vyc29yOi13ZWJraXQtZ3JhYmJpbmc7Y3Vyc29yOmdyYWJiaW5nfS5yZW9yZGVyLXNlbGVjdGVke3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdHJhbnNpdGlvbjpub25lICFpbXBvcnRhbnQ7dHJhbnNpdGlvbjpub25lICFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC40KTtib3gtc2hhZG93OjAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC40KTtvcGFjaXR5OjAuODt6LWluZGV4OjEwMH0ucmVvcmRlci12aXNpYmxlIGlvbi1yZW9yZGVyIC5yZW9yZGVyLWljb257LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICAwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwgIDAsICAwKX1cIjtcblxuY29uc3QgUmVvcmRlckdyb3VwID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmlvbkl0ZW1SZW9yZGVyID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25JdGVtUmVvcmRlclwiLCA3KTtcbiAgICB0aGlzLmxhc3RUb0luZGV4ID0gLTE7XG4gICAgdGhpcy5jYWNoZWRIZWlnaHRzID0gW107XG4gICAgdGhpcy5zY3JvbGxFbFRvcCA9IDA7XG4gICAgdGhpcy5zY3JvbGxFbEJvdHRvbSA9IDA7XG4gICAgdGhpcy5zY3JvbGxFbEluaXRpYWwgPSAwO1xuICAgIHRoaXMuY29udGFpbmVyVG9wID0gMDtcbiAgICB0aGlzLmNvbnRhaW5lckJvdHRvbSA9IDA7XG4gICAgdGhpcy5zdGF0ZSA9IDAgLyogUmVvcmRlckdyb3VwU3RhdGUuSWRsZSAqLztcbiAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuICBkaXNhYmxlZENoYW5nZWQoKSB7XG4gICAgaWYgKHRoaXMuZ2VzdHVyZSkge1xuICAgICAgdGhpcy5nZXN0dXJlLmVuYWJsZSghdGhpcy5kaXNhYmxlZCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGNvbnN0IGNvbnRlbnRFbCA9IGZpbmRDbG9zZXN0SW9uQ29udGVudCh0aGlzLmVsKTtcbiAgICBpZiAoY29udGVudEVsKSB7XG4gICAgICB0aGlzLnNjcm9sbEVsID0gYXdhaXQgZ2V0U2Nyb2xsRWxlbWVudChjb250ZW50RWwpO1xuICAgIH1cbiAgICB0aGlzLmdlc3R1cmUgPSAoYXdhaXQgaW1wb3J0KCcuL2luZGV4LTQyMmI2ZTgzLmpzJykpLmNyZWF0ZUdlc3R1cmUoe1xuICAgICAgZWw6IHRoaXMuZWwsXG4gICAgICBnZXN0dXJlTmFtZTogJ3Jlb3JkZXInLFxuICAgICAgZ2VzdHVyZVByaW9yaXR5OiAxMTAsXG4gICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICBkaXJlY3Rpb246ICd5JyxcbiAgICAgIHBhc3NpdmU6IGZhbHNlLFxuICAgICAgY2FuU3RhcnQ6IChkZXRhaWwpID0+IHRoaXMuY2FuU3RhcnQoZGV0YWlsKSxcbiAgICAgIG9uU3RhcnQ6IChldikgPT4gdGhpcy5vblN0YXJ0KGV2KSxcbiAgICAgIG9uTW92ZTogKGV2KSA9PiB0aGlzLm9uTW92ZShldiksXG4gICAgICBvbkVuZDogKCkgPT4gdGhpcy5vbkVuZCgpLFxuICAgIH0pO1xuICAgIHRoaXMuZGlzYWJsZWRDaGFuZ2VkKCk7XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5vbkVuZCgpO1xuICAgIGlmICh0aGlzLmdlc3R1cmUpIHtcbiAgICAgIHRoaXMuZ2VzdHVyZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLmdlc3R1cmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDb21wbGV0ZXMgdGhlIHJlb3JkZXIgb3BlcmF0aW9uLiBNdXN0IGJlIGNhbGxlZCBieSB0aGUgYGlvbkl0ZW1SZW9yZGVyYCBldmVudC5cbiAgICpcbiAgICogSWYgYSBsaXN0IG9mIGl0ZW1zIGlzIHBhc3NlZCwgdGhlIGxpc3Qgd2lsbCBiZSByZW9yZGVyZWQgYW5kIHJldHVybmVkIGluIHRoZVxuICAgKiBwcm9wZXIgb3JkZXIuXG4gICAqXG4gICAqIElmIG5vIHBhcmFtZXRlcnMgYXJlIHBhc3NlZCBvciBpZiBgdHJ1ZWAgaXMgcGFzc2VkIGluLCB0aGUgcmVvcmRlciB3aWxsIGNvbXBsZXRlXG4gICAqIGFuZCB0aGUgaXRlbSB3aWxsIHJlbWFpbiBpbiB0aGUgcG9zaXRpb24gaXQgd2FzIGRyYWdnZWQgdG8uIElmIGBmYWxzZWAgaXMgcGFzc2VkLFxuICAgKiB0aGUgcmVvcmRlciB3aWxsIGNvbXBsZXRlIGFuZCB0aGUgaXRlbSB3aWxsIGJvdW5jZSBiYWNrIHRvIGl0cyBvcmlnaW5hbCBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGxpc3RPclJlb3JkZXIgQSBsaXN0IG9mIGl0ZW1zIHRvIGJlIHNvcnRlZCBhbmQgcmV0dXJuZWQgaW4gdGhlIG5ldyBvcmRlciBvciBhXG4gICAqIGJvb2xlYW4gb2Ygd2hldGhlciBvciBub3QgdGhlIHJlb3JkZXIgc2hvdWxkIHJlcG9zaXRpb24gdGhlIGl0ZW0uXG4gICAqL1xuICBjb21wbGV0ZShsaXN0T3JSZW9yZGVyKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXBsZXRlUmVvcmRlcihsaXN0T3JSZW9yZGVyKSk7XG4gIH1cbiAgY2FuU3RhcnQoZXYpIHtcbiAgICBpZiAodGhpcy5zZWxlY3RlZEl0ZW1FbCB8fCB0aGlzLnN0YXRlICE9PSAwIC8qIFJlb3JkZXJHcm91cFN0YXRlLklkbGUgKi8pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gZXYuZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IHJlb3JkZXJFbCA9IHRhcmdldC5jbG9zZXN0KCdpb24tcmVvcmRlcicpO1xuICAgIGlmICghcmVvcmRlckVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW0gPSBmaW5kUmVvcmRlckl0ZW0ocmVvcmRlckVsLCB0aGlzLmVsKTtcbiAgICBpZiAoIWl0ZW0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZXYuZGF0YSA9IGl0ZW07XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgb25TdGFydChldikge1xuICAgIGV2LmV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgaXRlbSA9ICh0aGlzLnNlbGVjdGVkSXRlbUVsID0gZXYuZGF0YSk7XG4gICAgY29uc3QgaGVpZ2h0cyA9IHRoaXMuY2FjaGVkSGVpZ2h0cztcbiAgICBoZWlnaHRzLmxlbmd0aCA9IDA7XG4gICAgY29uc3QgZWwgPSB0aGlzLmVsO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gZWwuY2hpbGRyZW47XG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHN1bSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIHN1bSArPSBjaGlsZC5vZmZzZXRIZWlnaHQ7XG4gICAgICBoZWlnaHRzLnB1c2goc3VtKTtcbiAgICAgIGNoaWxkLiRpb25JbmRleCA9IGk7XG4gICAgfVxuICAgIGNvbnN0IGJveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRoaXMuY29udGFpbmVyVG9wID0gYm94LnRvcDtcbiAgICB0aGlzLmNvbnRhaW5lckJvdHRvbSA9IGJveC5ib3R0b207XG4gICAgaWYgKHRoaXMuc2Nyb2xsRWwpIHtcbiAgICAgIGNvbnN0IHNjcm9sbEJveCA9IHRoaXMuc2Nyb2xsRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLnNjcm9sbEVsSW5pdGlhbCA9IHRoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wO1xuICAgICAgdGhpcy5zY3JvbGxFbFRvcCA9IHNjcm9sbEJveC50b3AgKyBBVVRPX1NDUk9MTF9NQVJHSU47XG4gICAgICB0aGlzLnNjcm9sbEVsQm90dG9tID0gc2Nyb2xsQm94LmJvdHRvbSAtIEFVVE9fU0NST0xMX01BUkdJTjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNjcm9sbEVsSW5pdGlhbCA9IDA7XG4gICAgICB0aGlzLnNjcm9sbEVsVG9wID0gMDtcbiAgICAgIHRoaXMuc2Nyb2xsRWxCb3R0b20gPSAwO1xuICAgIH1cbiAgICB0aGlzLmxhc3RUb0luZGV4ID0gaW5kZXhGb3JJdGVtKGl0ZW0pO1xuICAgIHRoaXMuc2VsZWN0ZWRJdGVtSGVpZ2h0ID0gaXRlbS5vZmZzZXRIZWlnaHQ7XG4gICAgdGhpcy5zdGF0ZSA9IDEgLyogUmVvcmRlckdyb3VwU3RhdGUuQWN0aXZlICovO1xuICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChJVEVNX1JFT1JERVJfU0VMRUNURUQpO1xuICAgIGhhcHRpY1NlbGVjdGlvblN0YXJ0KCk7XG4gIH1cbiAgb25Nb3ZlKGV2KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gdGhpcy5zZWxlY3RlZEl0ZW1FbDtcbiAgICBpZiAoIXNlbGVjdGVkSXRlbSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBTY3JvbGwgaWYgd2UgcmVhY2ggdGhlIHNjcm9sbCBtYXJnaW5zXG4gICAgY29uc3Qgc2Nyb2xsID0gdGhpcy5hdXRvc2Nyb2xsKGV2LmN1cnJlbnRZKTtcbiAgICAvLyAvLyBHZXQgY29vcmRpbmF0ZVxuICAgIGNvbnN0IHRvcCA9IHRoaXMuY29udGFpbmVyVG9wIC0gc2Nyb2xsO1xuICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuY29udGFpbmVyQm90dG9tIC0gc2Nyb2xsO1xuICAgIGNvbnN0IGN1cnJlbnRZID0gTWF0aC5tYXgodG9wLCBNYXRoLm1pbihldi5jdXJyZW50WSwgYm90dG9tKSk7XG4gICAgY29uc3QgZGVsdGFZID0gc2Nyb2xsICsgY3VycmVudFkgLSBldi5zdGFydFk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFkgPSBjdXJyZW50WSAtIHRvcDtcbiAgICBjb25zdCB0b0luZGV4ID0gdGhpcy5pdGVtSW5kZXhGb3JUb3Aobm9ybWFsaXplZFkpO1xuICAgIGlmICh0b0luZGV4ICE9PSB0aGlzLmxhc3RUb0luZGV4KSB7XG4gICAgICBjb25zdCBmcm9tSW5kZXggPSBpbmRleEZvckl0ZW0oc2VsZWN0ZWRJdGVtKTtcbiAgICAgIHRoaXMubGFzdFRvSW5kZXggPSB0b0luZGV4O1xuICAgICAgaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5yZW9yZGVyTW92ZShmcm9tSW5kZXgsIHRvSW5kZXgpO1xuICAgIH1cbiAgICAvLyBVcGRhdGUgc2VsZWN0ZWQgaXRlbSBwb3NpdGlvblxuICAgIHNlbGVjdGVkSXRlbS5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgke2RlbHRhWX1weClgO1xuICB9XG4gIG9uRW5kKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbUVsID0gdGhpcy5zZWxlY3RlZEl0ZW1FbDtcbiAgICB0aGlzLnN0YXRlID0gMiAvKiBSZW9yZGVyR3JvdXBTdGF0ZS5Db21wbGV0ZSAqLztcbiAgICBpZiAoIXNlbGVjdGVkSXRlbUVsKSB7XG4gICAgICB0aGlzLnN0YXRlID0gMCAvKiBSZW9yZGVyR3JvdXBTdGF0ZS5JZGxlICovO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0b0luZGV4ID0gdGhpcy5sYXN0VG9JbmRleDtcbiAgICBjb25zdCBmcm9tSW5kZXggPSBpbmRleEZvckl0ZW0oc2VsZWN0ZWRJdGVtRWwpO1xuICAgIGlmICh0b0luZGV4ID09PSBmcm9tSW5kZXgpIHtcbiAgICAgIHRoaXMuY29tcGxldGVSZW9yZGVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5pb25JdGVtUmVvcmRlci5lbWl0KHtcbiAgICAgICAgZnJvbTogZnJvbUluZGV4LFxuICAgICAgICB0bzogdG9JbmRleCxcbiAgICAgICAgY29tcGxldGU6IHRoaXMuY29tcGxldGVSZW9yZGVyLmJpbmQodGhpcyksXG4gICAgICB9KTtcbiAgICB9XG4gICAgaGFwdGljU2VsZWN0aW9uRW5kKCk7XG4gIH1cbiAgY29tcGxldGVSZW9yZGVyKGxpc3RPclJlb3JkZXIpIHtcbiAgICBjb25zdCBzZWxlY3RlZEl0ZW1FbCA9IHRoaXMuc2VsZWN0ZWRJdGVtRWw7XG4gICAgaWYgKHNlbGVjdGVkSXRlbUVsICYmIHRoaXMuc3RhdGUgPT09IDIgLyogUmVvcmRlckdyb3VwU3RhdGUuQ29tcGxldGUgKi8pIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5lbC5jaGlsZHJlbjtcbiAgICAgIGNvbnN0IGxlbiA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgIGNvbnN0IHRvSW5kZXggPSB0aGlzLmxhc3RUb0luZGV4O1xuICAgICAgY29uc3QgZnJvbUluZGV4ID0gaW5kZXhGb3JJdGVtKHNlbGVjdGVkSXRlbUVsKTtcbiAgICAgIC8qKlxuICAgICAgICogaW5zZXJ0QmVmb3JlIGFuZCBzZXR0aW5nIHRoZSB0cmFuc2Zvcm1cbiAgICAgICAqIG5lZWRzIHRvIGhhcHBlbiBpbiB0aGUgc2FtZSBmcmFtZSBvdGhlcndpc2VcbiAgICAgICAqIHRoZXJlIHdpbGwgYmUgYSBkdXBsaWNhdGUgdHJhbnNpdGlvbi4gVGhpcyBwcmltYXJpbHlcbiAgICAgICAqIGltcGFjdHMgRmlyZWZveCB3aGVyZSBpbnNlcnRCZWZvcmUgYW5kIHRyYW5zZm9ybSBvcGVyYXRpb25zXG4gICAgICAgKiBhcmUgaGFwcGVuaW5nIGluIHR3byBzZXBhcmF0ZSBmcmFtZXMuXG4gICAgICAgKi9cbiAgICAgIHJhZigoKSA9PiB7XG4gICAgICAgIGlmICh0b0luZGV4ICE9PSBmcm9tSW5kZXggJiYgKGxpc3RPclJlb3JkZXIgPT09IHVuZGVmaW5lZCB8fCBsaXN0T3JSZW9yZGVyID09PSB0cnVlKSkge1xuICAgICAgICAgIGNvbnN0IHJlZiA9IGZyb21JbmRleCA8IHRvSW5kZXggPyBjaGlsZHJlblt0b0luZGV4ICsgMV0gOiBjaGlsZHJlblt0b0luZGV4XTtcbiAgICAgICAgICB0aGlzLmVsLmluc2VydEJlZm9yZShzZWxlY3RlZEl0ZW1FbCwgcmVmKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRyZW5baV0uc3R5bGVbJ3RyYW5zZm9ybSddID0gJyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGlzdE9yUmVvcmRlcikpIHtcbiAgICAgICAgbGlzdE9yUmVvcmRlciA9IHJlb3JkZXJBcnJheShsaXN0T3JSZW9yZGVyLCBmcm9tSW5kZXgsIHRvSW5kZXgpO1xuICAgICAgfVxuICAgICAgc2VsZWN0ZWRJdGVtRWwuc3R5bGUudHJhbnNpdGlvbiA9ICcnO1xuICAgICAgc2VsZWN0ZWRJdGVtRWwuY2xhc3NMaXN0LnJlbW92ZShJVEVNX1JFT1JERVJfU0VMRUNURUQpO1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1FbCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuc3RhdGUgPSAwIC8qIFJlb3JkZXJHcm91cFN0YXRlLklkbGUgKi87XG4gICAgfVxuICAgIHJldHVybiBsaXN0T3JSZW9yZGVyO1xuICB9XG4gIGl0ZW1JbmRleEZvclRvcChkZWx0YVkpIHtcbiAgICBjb25zdCBoZWlnaHRzID0gdGhpcy5jYWNoZWRIZWlnaHRzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGhlaWdodHNbaV0gPiBkZWx0YVkpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoZWlnaHRzLmxlbmd0aCAtIDE7XG4gIH1cbiAgLyoqKioqKioqKiBET00gV1JJVEUgKioqKioqKioqICovXG4gIHJlb3JkZXJNb3ZlKGZyb21JbmRleCwgdG9JbmRleCkge1xuICAgIGNvbnN0IGl0ZW1IZWlnaHQgPSB0aGlzLnNlbGVjdGVkSXRlbUhlaWdodDtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZWwuY2hpbGRyZW47XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc3R5bGUgPSBjaGlsZHJlbltpXS5zdHlsZTtcbiAgICAgIGxldCB2YWx1ZSA9ICcnO1xuICAgICAgaWYgKGkgPiBmcm9tSW5kZXggJiYgaSA8PSB0b0luZGV4KSB7XG4gICAgICAgIHZhbHVlID0gYHRyYW5zbGF0ZVkoJHstaXRlbUhlaWdodH1weClgO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaSA8IGZyb21JbmRleCAmJiBpID49IHRvSW5kZXgpIHtcbiAgICAgICAgdmFsdWUgPSBgdHJhbnNsYXRlWSgke2l0ZW1IZWlnaHR9cHgpYDtcbiAgICAgIH1cbiAgICAgIHN0eWxlWyd0cmFuc2Zvcm0nXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBhdXRvc2Nyb2xsKHBvc1kpIHtcbiAgICBpZiAoIXRoaXMuc2Nyb2xsRWwpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBsZXQgYW1vdW50ID0gMDtcbiAgICBpZiAocG9zWSA8IHRoaXMuc2Nyb2xsRWxUb3ApIHtcbiAgICAgIGFtb3VudCA9IC1TQ1JPTExfSlVNUDtcbiAgICB9XG4gICAgZWxzZSBpZiAocG9zWSA+IHRoaXMuc2Nyb2xsRWxCb3R0b20pIHtcbiAgICAgIGFtb3VudCA9IFNDUk9MTF9KVU1QO1xuICAgIH1cbiAgICBpZiAoYW1vdW50ICE9PSAwKSB7XG4gICAgICB0aGlzLnNjcm9sbEVsLnNjcm9sbEJ5KDAsIGFtb3VudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNjcm9sbEVsLnNjcm9sbFRvcCAtIHRoaXMuc2Nyb2xsRWxJbml0aWFsO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBtb2RlID0gZ2V0SW9uTW9kZSh0aGlzKTtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBjbGFzczoge1xuICAgICAgICBbbW9kZV06IHRydWUsXG4gICAgICAgICdyZW9yZGVyLWVuYWJsZWQnOiAhdGhpcy5kaXNhYmxlZCxcbiAgICAgICAgJ3Jlb3JkZXItbGlzdC1hY3RpdmUnOiB0aGlzLnN0YXRlICE9PSAwIC8qIFJlb3JkZXJHcm91cFN0YXRlLklkbGUgKi8sXG4gICAgICB9IH0pKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG4gIHN0YXRpYyBnZXQgd2F0Y2hlcnMoKSB7IHJldHVybiB7XG4gICAgXCJkaXNhYmxlZFwiOiBbXCJkaXNhYmxlZENoYW5nZWRcIl1cbiAgfTsgfVxufTtcbmNvbnN0IGluZGV4Rm9ySXRlbSA9IChlbGVtZW50KSA9PiB7XG4gIHJldHVybiBlbGVtZW50WyckaW9uSW5kZXgnXTtcbn07XG5jb25zdCBmaW5kUmVvcmRlckl0ZW0gPSAobm9kZSwgY29udGFpbmVyKSA9PiB7XG4gIGxldCBwYXJlbnQ7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgcGFyZW50ID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnQgPT09IGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIG5vZGUgPSBwYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5jb25zdCBBVVRPX1NDUk9MTF9NQVJHSU4gPSA2MDtcbmNvbnN0IFNDUk9MTF9KVU1QID0gMTA7XG5jb25zdCBJVEVNX1JFT1JERVJfU0VMRUNURUQgPSAncmVvcmRlci1zZWxlY3RlZCc7XG5jb25zdCByZW9yZGVyQXJyYXkgPSAoYXJyYXksIGZyb20sIHRvKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBhcnJheVtmcm9tXTtcbiAgYXJyYXkuc3BsaWNlKGZyb20sIDEpO1xuICBhcnJheS5zcGxpY2UodG8sIDAsIGVsZW1lbnQpO1xuICByZXR1cm4gYXJyYXkuc2xpY2UoKTtcbn07XG5SZW9yZGVyR3JvdXAuc3R5bGUgPSByZW9yZGVyR3JvdXBDc3M7XG5cbmV4cG9ydCB7IFJlb3JkZXIgYXMgaW9uX3Jlb3JkZXIsIFJlb3JkZXJHcm91cCBhcyBpb25fcmVvcmRlcl9ncm91cCB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiaCIsIkgiLCJIb3N0IiwiZiIsImdldEVsZW1lbnQiLCJkIiwiY3JlYXRlRXZlbnQiLCJqIiwicmVvcmRlclRocmVlT3V0bGluZSIsImsiLCJyZW9yZGVyVHdvU2hhcnAiLCJiIiwiZ2V0SW9uTW9kZSIsImZpbmRDbG9zZXN0SW9uQ29udGVudCIsImciLCJnZXRTY3JvbGxFbGVtZW50IiwicmFmIiwiYSIsImhhcHRpY1NlbGVjdGlvblN0YXJ0IiwiaGFwdGljU2VsZWN0aW9uQ2hhbmdlZCIsImhhcHRpY1NlbGVjdGlvbkVuZCIsInJlb3JkZXJJb3NDc3MiLCJyZW9yZGVyTWRDc3MiLCJSZW9yZGVyIiwiY29uc3RydWN0b3IiLCJob3N0UmVmIiwib25DbGljayIsImV2IiwicmVvcmRlckdyb3VwIiwiZWwiLCJjbG9zZXN0IiwicHJldmVudERlZmF1bHQiLCJkaXNhYmxlZCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJlbmRlciIsIm1vZGUiLCJyZW9yZGVySWNvbiIsImNsYXNzIiwiaWNvbiIsImxhenkiLCJwYXJ0Iiwic3R5bGUiLCJpb3MiLCJtZCIsInJlb3JkZXJHcm91cENzcyIsIlJlb3JkZXJHcm91cCIsImlvbkl0ZW1SZW9yZGVyIiwibGFzdFRvSW5kZXgiLCJjYWNoZWRIZWlnaHRzIiwic2Nyb2xsRWxUb3AiLCJzY3JvbGxFbEJvdHRvbSIsInNjcm9sbEVsSW5pdGlhbCIsImNvbnRhaW5lclRvcCIsImNvbnRhaW5lckJvdHRvbSIsInN0YXRlIiwiZGlzYWJsZWRDaGFuZ2VkIiwiZ2VzdHVyZSIsImVuYWJsZSIsImNvbm5lY3RlZENhbGxiYWNrIiwiX3RoaXMiLCJfYXN5bmNUb0dlbmVyYXRvciIsImNvbnRlbnRFbCIsInNjcm9sbEVsIiwiY3JlYXRlR2VzdHVyZSIsImdlc3R1cmVOYW1lIiwiZ2VzdHVyZVByaW9yaXR5IiwidGhyZXNob2xkIiwiZGlyZWN0aW9uIiwicGFzc2l2ZSIsImNhblN0YXJ0IiwiZGV0YWlsIiwib25TdGFydCIsIm9uTW92ZSIsIm9uRW5kIiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJkZXN0cm95IiwidW5kZWZpbmVkIiwiY29tcGxldGUiLCJsaXN0T3JSZW9yZGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjb21wbGV0ZVJlb3JkZXIiLCJzZWxlY3RlZEl0ZW1FbCIsInRhcmdldCIsImV2ZW50IiwicmVvcmRlckVsIiwiaXRlbSIsImZpbmRSZW9yZGVySXRlbSIsImRhdGEiLCJoZWlnaHRzIiwibGVuZ3RoIiwiY2hpbGRyZW4iLCJzdW0iLCJpIiwiY2hpbGQiLCJvZmZzZXRIZWlnaHQiLCJwdXNoIiwiJGlvbkluZGV4IiwiYm94IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYm90dG9tIiwic2Nyb2xsQm94Iiwic2Nyb2xsVG9wIiwiQVVUT19TQ1JPTExfTUFSR0lOIiwiaW5kZXhGb3JJdGVtIiwic2VsZWN0ZWRJdGVtSGVpZ2h0IiwiY2xhc3NMaXN0IiwiYWRkIiwiSVRFTV9SRU9SREVSX1NFTEVDVEVEIiwic2VsZWN0ZWRJdGVtIiwic2Nyb2xsIiwiYXV0b3Njcm9sbCIsImN1cnJlbnRZIiwiTWF0aCIsIm1heCIsIm1pbiIsImRlbHRhWSIsInN0YXJ0WSIsIm5vcm1hbGl6ZWRZIiwidG9JbmRleCIsIml0ZW1JbmRleEZvclRvcCIsImZyb21JbmRleCIsInJlb3JkZXJNb3ZlIiwidHJhbnNmb3JtIiwiZW1pdCIsImZyb20iLCJ0byIsImJpbmQiLCJsZW4iLCJyZWYiLCJpbnNlcnRCZWZvcmUiLCJBcnJheSIsImlzQXJyYXkiLCJyZW9yZGVyQXJyYXkiLCJ0cmFuc2l0aW9uIiwicmVtb3ZlIiwiaXRlbUhlaWdodCIsInZhbHVlIiwicG9zWSIsImFtb3VudCIsIlNDUk9MTF9KVU1QIiwic2Nyb2xsQnkiLCJ3YXRjaGVycyIsImVsZW1lbnQiLCJub2RlIiwiY29udGFpbmVyIiwicGFyZW50IiwicGFyZW50RWxlbWVudCIsImFycmF5Iiwic3BsaWNlIiwic2xpY2UiLCJpb25fcmVvcmRlciIsImlvbl9yZW9yZGVyX2dyb3VwIl0sInNvdXJjZVJvb3QiOiJ3ZWJwYWNrOi8vLyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=