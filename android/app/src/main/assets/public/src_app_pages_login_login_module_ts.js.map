{"version":3,"file":"src_app_pages_login_login_module_ts.js","mappings":";;;;;;;;;;;;;;;;AACuD;AAEnB;;;AAEpC,MAAME,MAAM,GAAW,CACrB;EACEC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAEH,6CAASA;CACrB,CACF;AAED,MAIaI,sBAAsB;AAAtBA,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA;AAAsB;AAAtBA,sBAAsB;YAHvBL,yDAAY,CAACM,QAAQ,CAACJ,MAAM,CAAC,EAC7BF,yDAAY;AAAA;AAEW;;sHAAtBK,sBAAsB;IAAAE,OAAA,GAAAC,yDAAA;IAAAC,OAAA,GAFvBT,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;ACbuB;AACmB;AACrB;AAET;AAC4B;;AAEhE,MAYac,WAAW;AAAXA,WAAW;mBAAXA,WAAW;AAAA;AAAXA,WAAW;QAAXA;AAAW;AAAXA,WAAW;YAVpBJ,yDAAY,EACZC,uDAAW,EACXC,+DAAmB,EACnBC,uDAAW,EACXR,yEAAsB;AAAA;AAMF;;sHAAXS,WAAW;IAAAC,YAAA,GAHpBd,6CAAS;IAAAM,OAAA,GAPTG,yDAAY,EACZC,uDAAW,EACXC,+DAAmB,EACnBC,uDAAW,EACXR,yEAAsB;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACbkD;AACnC;AAEY;AAGe;AACV;;;;;;;;;;ICgBpDmB,4DAAA,mBACC;IAAAA,oDAAA,uBAAgB;IAAAA,0DAAA,EAAW;;;;;IAK5BA,4DAAA,mBACC;IAAAA,oDAAA,wCAAiC;IAAAA,0DAAA,EAAW;;;ADnBnD,MAKavB,SAAS;EAMpB2B,YACUC,EAAe,EACfC,eAAgC,EAClCC,iBAAoC,EAClCC,WAAwB,EACzBC,QAAkB,EAClBC,MAAc;IALb,KAAAL,EAAE,GAAFA,EAAE;IACF,KAAAC,eAAe,GAAfA,eAAe;IACjB,KAAAC,iBAAiB,GAAjBA,iBAAiB;IACf,KAAAC,WAAW,GAAXA,WAAW;IACZ,KAAAC,QAAQ,GAARA,QAAQ;IACR,KAAAC,MAAM,GAANA,MAAM;EACX;EAEJ;EACA,IAAIC,KAAKA,CAAA;IACP,OAAO,IAAI,CAACC,WAAW,CAACC,GAAG,CAAC,OAAO,CAAC;EACtC;EAEA,IAAIC,QAAQA,CAAA;IACV,OAAO,IAAI,CAACF,WAAW,CAACC,GAAG,CAAC,UAAU,CAAC;EACzC;EAEAE,QAAQA,CAAA;IACN,IAAI,CAACH,WAAW,GAAG,IAAI,CAACP,EAAE,CAACW,KAAK,CAAC;MAC/BL,KAAK,EAAE,CAAC,EAAE,EAAE,CAACjB,sDAAU,CAACuB,QAAQ,EAAEvB,sDAAU,CAACiB,KAAK,CAAC,CAAC;MACpDG,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACpB,sDAAU,CAACuB,QAAQ,EAAEvB,sDAAU,CAACwB,SAAS,CAAC,CAAC,CAAC,CAAC;KAC9D,CAAC;EACJ;EAEMC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,8JAAA;MACd,MAAMC,OAAO,SAASF,KAAI,CAACb,iBAAiB,CAACgB,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MAEvB,MAAMC,IAAI,SAASL,KAAI,CAACZ,WAAW,CAACW,QAAQ,CAACC,KAAI,CAACR,WAAW,CAACc,KAAK,CAAC;MACpE,MAAMJ,OAAO,CAACK,OAAO,EAAE;MAEvB,IAAIF,IAAI,EAAE;QACTL,KAAI,CAACV,MAAM,CAACkB,aAAa,CAAC,SAAS,EAAE;UAAEC,UAAU,EAAE;QAAI,CAAE,CAAC;OAC1D,MAAM;QACNT,KAAI,CAACU,SAAS,CAAC,qBAAqB,EAAE,mBAAmB,CAAC;;IAC1D;EACF;EAEMC,KAAKA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAX,8JAAA;MACV,MAAMC,OAAO,SAASU,MAAI,CAACzB,iBAAiB,CAACgB,MAAM,EAAE;MACrD,MAAMD,OAAO,CAACE,OAAO,EAAE;MAEvB,MAAMC,IAAI,SAASO,MAAI,CAACxB,WAAW,CAACuB,KAAK,CAACC,MAAI,CAACpB,WAAW,CAACc,KAAK,CAAC;MACjE,MAAMJ,OAAO,CAACK,OAAO,EAAE;MAEvB,IAAIF,IAAI,EAAE;QACTO,MAAI,CAACtB,MAAM,CAACkB,aAAa,CAAC,oBAAoB,EAAE;UAAEC,UAAU,EAAE;QAAI,CAAE,CAAC;OACrE,MAAM;QACNG,MAAI,CAACF,SAAS,CAAC,cAAc,EAAE,mBAAmB,CAAC;;IACnD;EACF;EAEOA,SAASA,CAACG,MAAM,EAAEC,OAAO;IAAA,IAAAC,MAAA;IAAA,OAAAd,8JAAA;MAC7B,MAAMe,KAAK,SAASD,MAAI,CAAC7B,eAAe,CAACiB,MAAM,CAAC;QAC9CU,MAAM;QACNC,OAAO;QACPG,OAAO,EAAE,CAAC,IAAI;OACf,CAAC;MACF,MAAMD,KAAK,CAACZ,OAAO,EAAE;IAAC;EACxB;;AAlEW/C,SAAS;mBAATA,SAAS,EAAAuB,+DAAA,CAAAhB,uDAAA,GAAAgB,+DAAA,CAAAuC,2DAAA,GAAAvC,+DAAA,CAAAuC,6DAAA,GAAAvC,+DAAA,CAAAwC,+DAAA,GAAAxC,+DAAA,CAAAyC,0DAAA,GAAAzC,+DAAA,CAAA0C,mDAAA;AAAA;AAATjE,SAAS;QAATA,SAAS;EAAAkE,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,mBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCjBtBjD,4DAAA,kBAAa;MAELA,oDAAA,YAAK;MAAAA,0DAAA,EAAK;MACdA,4DAAA,QAAG;MAAAA,oDAAA,gCAAyB;MAAAA,0DAAA,EAAI;MAElCA,4DAAA,aAA0B;MACrBA,oDAAA,oCAA6B;MAAAA,0DAAA,EAAI;MACpCA,4DAAA,aAAmB;MAEfA,uDAAA,mBAAwC;MAC1CA,0DAAA,EAAa;MACbA,4DAAA,qBAA6D;MAC3DA,uDAAA,mBAA0C;MAC5CA,0DAAA,EAAa;MAKjBA,4DAAA,eAAqD;MAA/CA,wDAAA,sBAAAqD,6CAAA;QAAA,OAAYH,GAAA,CAAAnB,KAAA,EAAO;MAAA,EAAC;MAC1B/B,4DAAA,cAAyB;MACpBA,oDAAA,2BAAmB;MAAAA,0DAAA,EAAI;MAC1BA,4DAAA,cAAuB;MACrBA,uDAAA,iBAAoE;MACpEA,4DAAA,iBAAuC;MAAAA,oDAAA,aAAK;MAAAA,0DAAA,EAAQ;MACpDA,wDAAA,KAAAuD,8BAAA,uBAC4B;MAC9BvD,0DAAA,EAAM;MACNA,4DAAA,cAAuB;MACrBA,uDAAA,iBAAgF;MAChFA,4DAAA,iBAA6C;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAQ;MAC7DA,wDAAA,KAAAwD,8BAAA,uBAC6C;MAC/CxD,0DAAA,EAAM;MACNA,4DAAA,eAAyB;MAErBA,uDAAA,oBAA6B;MAC7BA,4DAAA,SAAG;MAAAA,oDAAA,mBAAW;MAAAA,0DAAA,EAAI;MAEpBA,4DAAA,aAAkB;MAAAA,oDAAA,uBAAe;MAAAA,0DAAA,EAAI;MAGzCA,4DAAA,eAA0B;MACgDA,oDAAA,aAAK;MAAAA,0DAAA,EAAa;MAC1FA,4DAAA,SAAG;MAAAA,oDAAA,8BAAsB;MAAAA,4DAAA,gBAA2B;MAAEA,oDAAA,eAAM;MAAAA,0DAAA,EAAO;MAAAA,uDAAA,SAAG;MACtEA,0DAAA,EAAM;;;MA1BmBA,uDAAA,IAAyB;MAAzBA,wDAAA,cAAAkD,GAAA,CAAAtC,WAAA,CAAyB;MAMxBZ,uDAAA,GAAoD;MAApDA,wDAAA,UAAAkD,GAAA,CAAAvC,KAAA,CAAAgD,KAAA,IAAAT,GAAA,CAAAvC,KAAA,CAAAiD,OAAA,KAAAV,GAAA,CAAAvC,KAAA,CAAAkD,MAAA,CAAoD;MAMpD7D,uDAAA,GAA6D;MAA7DA,wDAAA,UAAAkD,GAAA,CAAApC,QAAA,CAAA6C,KAAA,IAAAT,GAAA,CAAApC,QAAA,CAAA8C,OAAA,KAAAV,GAAA,CAAApC,QAAA,CAAA+C,MAAA,CAA6D;MAY/C7D,uDAAA,GAA+B;MAA/BA,wDAAA,cAAAkD,GAAA,CAAAtC,WAAA,CAAAkD,KAAA,CAA+B;;;;;;;;;;;;;;;;;;;;;;;;ACzCoC;;;AAE/G,MAGa/D,WAAW;EAEtBK,YAAoB+D,IAAS;IAAT,KAAAA,IAAI,GAAJA,IAAI;EAAS;EAE3BhD,QAAQA,CAAC;IAAER,KAAK;IAAEG;EAAQ,CAAE;IAAA,IAAAM,KAAA;IAAA,OAAAC,8JAAA;MAChC,IAAI;QACF,MAAMI,IAAI,SAASuC,kFAA8B,CAC/C5C,KAAI,CAAC+C,IAAI,EACTxD,KAAK,EACLG,QAAQ,CACP;QACD,OAAOW,IAAI;OACd,CAAC,OAAO2C,CAAC,EAAE;QACV,OAAO,IAAI;;IACZ;EACH;EAEMrC,KAAKA,CAAC;IAAEpB,KAAK;IAAEG;EAAQ,CAAE;IAAA,IAAAkB,MAAA;IAAA,OAAAX,8JAAA;MAC7B,IAAI;QACF,MAAMI,IAAI,SAASwC,8EAA0B,CAC3CjC,MAAI,CAACmC,IAAI,EACTxD,KAAK,EACLG,QAAQ,CACP;QACD,OAAOW,IAAI;OACd,CAAC,OAAO2C,CAAC,EAAE;QACV,OAAO,IAAI;;IACZ;EACH;EACAC,MAAMA,CAAA;IACJ,OAAOH,2DAAO,CAAC,IAAI,CAACC,IAAI,CAAC;EAC3B;;AA/BWpE,WAAW;mBAAXA,WAAW,EAAAC,sDAAA,CAAAhB,oDAAA;AAAA;AAAXe,WAAW;SAAXA,WAAW;EAAAwE,OAAA,EAAXxE,WAAW,CAAAyE,IAAA;EAAAC,UAAA,EAFV;AAAM","sources":["./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.ts","./src/app/pages/login/login.html","./src/app/services/auth.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { LoginPage } from './login';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class LoginPageRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login';\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [\r\n    LoginPage,\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, NgForm, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { UserData } from '../../providers/user-data';\r\n\r\nimport { UserOptions } from '../../interfaces/user-options';\r\nimport { AlertController, LoadingController } from '@ionic/angular';\r\nimport { AuthService } from '../../services/auth.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'page-login',\r\n  templateUrl: 'login.html',\r\n  styleUrls: ['./login.scss'],\r\n})\r\nexport class LoginPage implements OnInit{\r\n  //login: UserOptions = { username: '', password: '' };\r\n  //submitted = false;\r\n\r\n  credentials: FormGroup;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private alertController: AlertController,\r\n\t\tprivate loadingController: LoadingController,\r\n    private authService: AuthService,\r\n    public userData: UserData,\r\n    public router: Router\r\n  ) { }\r\n\r\n  //Easy access for form fields\r\n  get email(){\r\n    return this.credentials.get('email');\r\n  }\r\n\r\n  get password(){\r\n    return this.credentials.get('password');\r\n  }\r\n\r\n  ngOnInit(){\r\n    this.credentials = this.fb.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required, Validators.minLength(6)]]\r\n    });\r\n  }\r\n\r\n  async register() {\r\n\t\tconst loading = await this.loadingController.create();\r\n\t\tawait loading.present();\r\n\r\n\t\tconst user = await this.authService.register(this.credentials.value);\r\n\t\tawait loading.dismiss();\r\n\r\n\t\tif (user) {\r\n\t\t\tthis.router.navigateByUrl('/signup', { replaceUrl: true });\r\n\t\t} else {\r\n\t\t\tthis.showAlert('Registration failed', 'Please try again!');\r\n\t\t}\r\n\t}\r\n\r\n\tasync login() {\r\n\t\tconst loading = await this.loadingController.create();\r\n\t\tawait loading.present();\r\n\r\n\t\tconst user = await this.authService.login(this.credentials.value);\r\n\t\tawait loading.dismiss();\r\n\r\n\t\tif (user) {\r\n\t\t\tthis.router.navigateByUrl('/app/tabs/schedule', { replaceUrl: true });\r\n\t\t} else {\r\n\t\t\tthis.showAlert('Login failed', 'Please try again!');\r\n\t\t}\r\n\t}\r\n\r\n  async showAlert(header, message) {\r\n    const alert = await this.alertController.create({\r\n      header,\r\n      message,\r\n      buttons: ['OK'],\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  // onLogin(form: NgForm) {\r\n    // this.submitted = true;\r\n\r\n    // if (form.valid) {\r\n      // this.userData.login(this.login.username);\r\n      // this.router.navigateByUrl('/app/tabs/schedule');\r\n    // }\r\n  // }\r\n\r\n  // onSignup() {\r\n    // this.router.navigateByUrl('/signup');\r\n  // }\r\n}\r\n","<ion-content>\r\n  <div class=\"heading\">\r\n    <h1>Login</h1>\r\n    <p>Please login to continue.</p>\r\n  </div>\r\n  <div class=\"social-login\">\r\n    <p>Enter through social networks</p>\r\n    <div class=\"links\">\r\n      <ion-button class=\"google\" routerLink=\"/app/tabs/schedule\">\r\n        <ion-icon name=\"logo-google\"></ion-icon>\r\n      </ion-button>\r\n      <ion-button class=\"facebook\" routerLink=\"/app/tabs/schedule\">\r\n        <ion-icon name=\"logo-facebook\"></ion-icon>\r\n      </ion-button>\r\n    </div>\r\n  </div>\r\n\r\n\r\n  <form (ngSubmit)=\"login()\" [formGroup]=\"credentials\">\r\n  <div class=\"email-login\">\r\n    <p>Or login with email</p>\r\n    <div class=\"formfield\">\r\n      <input type=\"email\" formControlName=\"email\" name=\"email\" id=\"email\">\r\n      <label for=\"email\" placeholder=\"Email\">Email</label>\r\n      <ion-note slot=\"error\" *ngIf=\"(email.dirty || email.touched) && email.errors\"\r\n      >Email is invalid</ion-note>\r\n    </div>\r\n    <div class=\"formfield\">\r\n      <input type=\"password\" formControlName=\"password\" name=\"password\" id=\"password\">\r\n      <label for=\"password\" placeholder=\"Password\">Password</label>\r\n      <ion-note slot=\"error\" *ngIf=\"(password.dirty || password.touched) && password.errors\"\r\n      >Password needs to be 6 characters</ion-note>\r\n    </div>\r\n    <div class=\"other-links\">\r\n      <div class=\"remember-me\">\r\n        <ion-checkbox></ion-checkbox>\r\n        <p>Remember Me</p>\r\n      </div>\r\n      <p class=\"forgot\">Forgot Password</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"login-button\">\r\n    <ion-button type=\"submit\" class=\"login\" [disabled]=\"!credentials.valid\">Login</ion-button>\r\n    <p>Don't have an account?<span routerLink=\"/signup\">  Signup</span><p>\r\n    </div>\r\n  </form>\r\n</ion-content>\r\n","import { Injectable } from '@angular/core';\r\nimport { Auth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from '@angular/fire/auth';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  constructor(private auth:Auth) { }\r\n\r\n  async register({ email, password }){\r\n    try {\r\n      const user = await createUserWithEmailAndPassword(\r\n        this.auth,\r\n        email,\r\n        password\r\n        );\r\n        return user;\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async login({ email, password }){\r\n    try {\r\n      const user = await signInWithEmailAndPassword(\r\n        this.auth,\r\n        email,\r\n        password\r\n        );\r\n        return user;\r\n    } catch (e) {\r\n      return null;\r\n    }\r\n  }\r\n  logout() {\r\n    return signOut(this.auth);\r\n  }\r\n}\r\n"],"names":["RouterModule","LoginPage","routes","path","component","LoginPageRoutingModule","forChild","imports","i1","exports","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","LoginModule","declarations","FormBuilder","FormGroup","Validators","Router","UserData","AlertController","LoadingController","AuthService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","constructor","fb","alertController","loadingController","authService","userData","router","email","credentials","get","password","ngOnInit","group","required","minLength","register","_this","_asyncToGenerator","loading","create","present","user","value","dismiss","navigateByUrl","replaceUrl","showAlert","login","_this2","header","message","_this3","alert","buttons","ɵɵdirectiveInject","i2","i3","i4","i5","selectors","decls","vars","consts","template","LoginPage_Template","rf","ctx","ɵɵelement","ɵɵlistener","LoginPage_Template_form_ngSubmit_14_listener","ɵɵtemplate","LoginPage_ion_note_22_Template","LoginPage_ion_note_27_Template","ɵɵadvance","ɵɵproperty","dirty","touched","errors","valid","Auth","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","auth","e","logout","ɵɵinject","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}