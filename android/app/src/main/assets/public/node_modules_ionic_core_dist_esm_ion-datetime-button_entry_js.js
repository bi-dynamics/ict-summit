"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-datetime-button_entry_js"],{

/***/ 7950:
/*!************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-datetime-button.entry.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_datetime_button": () => (/* binding */ DatetimeButton)
/* harmony export */ });
/* harmony import */ var _Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-be218d70.js */ 9866);
/* harmony import */ var _ionic_global_3b28a225_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ionic-global-3b28a225.js */ 3053);
/* harmony import */ var _helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-5eb6364d.js */ 9364);
/* harmony import */ var _index_e86f0117_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./index-e86f0117.js */ 7584);
/* harmony import */ var _theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./theme-7670341c.js */ 320);
/* harmony import */ var _data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./data-a6fc218f.js */ 8516);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */






const iosDatetimeButtonCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;padding-left:12px;padding-right:12px;padding-top:6px;padding-bottom:6px;margin-left:2px;margin-right:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}";
const mdDatetimeButtonCss = ":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center}:host button{border-radius:8px;padding-left:12px;padding-right:12px;padding-top:6px;padding-bottom:6px;margin-left:2px;margin-right:2px;margin-top:0px;margin-bottom:0px;position:relative;-webkit-transition:150ms color ease-in-out;transition:150ms color ease-in-out;border:none;background:var(--ion-color-step-300, #edeef0);color:var(--ion-text-color, #000);font-family:inherit;font-size:inherit;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.time-active) #time-button,:host(.date-active) #date-button{color:var(--ion-color-base)}:host(.datetime-button-disabled){pointer-events:none}:host(.datetime-button-disabled) button{opacity:0.4}";
const DatetimeButton = class {
  constructor(hostRef) {
    var _this = this;
    (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.datetimeEl = null;
    this.overlayEl = null;
    /**
     * Accepts one or more string values and converts
     * them to DatetimeParts. This is done so datetime-button
     * can work with an array internally and not need
     * to keep checking if the datetime value is `string` or `string[]`.
     */
    this.getParsedDateValues = value => {
      if (value === undefined || value === null) {
        return [];
      }
      if (Array.isArray(value)) {
        return value;
      }
      return [value];
    };
    /**
     * Check the value property on the linked
     * ion-datetime and then format it according
     * to the locale specified on ion-datetime.
     */
    this.setDateTimeText = () => {
      const {
        datetimeEl,
        datetimePresentation
      } = this;
      if (!datetimeEl) {
        return;
      }
      const {
        value,
        locale,
        hourCycle,
        preferWheel,
        multiple,
        titleSelectedDatesFormatter
      } = datetimeEl;
      const parsedValues = this.getParsedDateValues(value);
      /**
       * Both ion-datetime and ion-datetime-button default
       * to today's date and time if no value is set.
       */
      const parsedDatetimes = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.q)(parsedValues.length > 0 ? parsedValues : [(0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.t)()]);
      /**
       * If developers incorrectly use multiple="true"
       * with non "date" datetimes, then just select
       * the first value so the interface does
       * not appear broken. Datetime will provide a
       * warning in the console.
       */
      const firstParsedDatetime = parsedDatetimes[0];
      const use24Hour = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.J)(locale, hourCycle);
      this.dateText = this.timeText = undefined;
      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const dateText = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.T)(locale, firstParsedDatetime);
          const timeText = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.K)(locale, firstParsedDatetime, use24Hour);
          if (preferWheel) {
            this.dateText = `${dateText} ${timeText}`;
          } else {
            this.dateText = dateText;
            this.timeText = timeText;
          }
          break;
        case 'date':
          if (multiple && parsedValues.length !== 1) {
            let headerText = `${parsedValues.length} days`; // default/fallback for multiple selection
            if (titleSelectedDatesFormatter !== undefined) {
              try {
                headerText = titleSelectedDatesFormatter(parsedValues);
              } catch (e) {
                (0,_index_e86f0117_js__WEBPACK_IMPORTED_MODULE_4__.a)('Exception in provided `titleSelectedDatesFormatter`: ', e);
              }
            }
            this.dateText = headerText;
          } else {
            this.dateText = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.T)(locale, firstParsedDatetime);
          }
          break;
        case 'time':
          this.timeText = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.K)(locale, firstParsedDatetime, use24Hour);
          break;
        case 'month-year':
          this.dateText = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.G)(locale, firstParsedDatetime);
          break;
        case 'month':
          this.dateText = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.S)(locale, firstParsedDatetime, {
            month: 'long'
          });
          break;
        case 'year':
          this.dateText = (0,_data_a6fc218f_js__WEBPACK_IMPORTED_MODULE_6__.S)(locale, firstParsedDatetime, {
            year: 'numeric'
          });
          break;
      }
    };
    /**
     * Waits for the ion-datetime to re-render.
     * This is needed in order to correctly position
     * a popover relative to the trigger element.
     */
    this.waitForDatetimeChanges = /*#__PURE__*/(0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetimeEl
      } = _this;
      if (!datetimeEl) {
        return Promise.resolve();
      }
      return new Promise(resolve => {
        (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_3__.a)(datetimeEl, 'ionRender', resolve, {
          once: true
        });
      });
    });
    this.handleDateClick = /*#__PURE__*/function () {
      var _ref2 = (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev) {
        const {
          datetimeEl,
          datetimePresentation
        } = _this;
        if (!datetimeEl) {
          return;
        }
        let needsPresentationChange = false;
        /**
         * When clicking the date button,
         * we need to make sure that only a date
         * picker is displayed. For presentation styles
         * that display content other than a date picker,
         * we need to update the presentation style.
         */
        switch (datetimePresentation) {
          case 'date-time':
          case 'time-date':
            const needsChange = datetimeEl.presentation !== 'date';
            /**
             * The date+time wheel picker
             * shows date and time together,
             * so do not adjust the presentation
             * in that case.
             */
            if (!datetimeEl.preferWheel && needsChange) {
              datetimeEl.presentation = 'date';
              needsPresentationChange = true;
            }
            break;
        }
        /**
         * Track which button was clicked
         * so that it can have the correct
         * activated styles applied when
         * the modal/popover containing
         * the datetime is opened.
         */
        _this.selectedButton = 'date';
        _this.presentOverlay(ev, needsPresentationChange, _this.dateTargetEl);
      });
      return function (_x) {
        return _ref2.apply(this, arguments);
      };
    }();
    this.handleTimeClick = ev => {
      const {
        datetimeEl,
        datetimePresentation
      } = this;
      if (!datetimeEl) {
        return;
      }
      let needsPresentationChange = false;
      /**
       * When clicking the time button,
       * we need to make sure that only a time
       * picker is displayed. For presentation styles
       * that display content other than a time picker,
       * we need to update the presentation style.
       */
      switch (datetimePresentation) {
        case 'date-time':
        case 'time-date':
          const needsChange = datetimeEl.presentation !== 'time';
          if (needsChange) {
            datetimeEl.presentation = 'time';
            needsPresentationChange = true;
          }
          break;
      }
      /**
       * Track which button was clicked
       * so that it can have the correct
       * activated styles applied when
       * the modal/popover containing
       * the datetime is opened.
       */
      this.selectedButton = 'time';
      this.presentOverlay(ev, needsPresentationChange, this.timeTargetEl);
    };
    /**
     * If the datetime is presented in an
     * overlay, the datetime and overlay
     * should be appropriately sized.
     * These classes provide default sizing values
     * that developers can customize.
     * The goal is to provide an overlay that is
     * reasonably sized with a datetime that
     * fills the entire container.
     */
    this.presentOverlay = /*#__PURE__*/function () {
      var _ref3 = (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (ev, needsPresentationChange, triggerEl) {
        const {
          overlayEl
        } = _this;
        if (!overlayEl) {
          return;
        }
        if (overlayEl.tagName === 'ION-POPOVER') {
          /**
           * When the presentation on datetime changes,
           * we need to wait for the component to re-render
           * otherwise the computed width/height of the
           * popover content will be wrong, causing
           * the popover to not align with the trigger element.
           */
          if (needsPresentationChange) {
            yield _this.waitForDatetimeChanges();
          }
          /**
           * We pass the trigger button element
           * so that the popover aligns with the individual
           * button that was clicked, not the component container.
           */
          overlayEl.present(Object.assign(Object.assign({}, ev), {
            detail: {
              ionShadowTarget: triggerEl
            }
          }));
        } else {
          overlayEl.present();
        }
      });
      return function (_x2, _x3, _x4) {
        return _ref3.apply(this, arguments);
      };
    }();
    this.datetimePresentation = 'date-time';
    this.dateText = undefined;
    this.timeText = undefined;
    this.datetimeActive = false;
    this.selectedButton = undefined;
    this.color = 'primary';
    this.disabled = false;
    this.datetime = undefined;
  }
  componentWillLoad() {
    var _this2 = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        datetime
      } = _this2;
      if (!datetime) {
        (0,_index_e86f0117_js__WEBPACK_IMPORTED_MODULE_4__.a)('An ID associated with an ion-datetime instance is required for ion-datetime-button to function properly.', _this2.el);
        return;
      }
      const datetimeEl = _this2.datetimeEl = document.getElementById(datetime);
      if (!datetimeEl) {
        (0,_index_e86f0117_js__WEBPACK_IMPORTED_MODULE_4__.a)(`No ion-datetime instance found for ID '${datetime}'.`, _this2.el);
        return;
      }
      /**
       * Since the datetime can be used in any context (overlays, accordion, etc)
       * we track when it is visible to determine when it is active.
       * This informs which button is highlighted as well as the
       * aria-expanded state.
       */
      const io = new IntersectionObserver(entries => {
        const ev = entries[0];
        _this2.datetimeActive = ev.isIntersecting;
      }, {
        threshold: 0.01
      });
      io.observe(datetimeEl);
      /**
       * Get a reference to any modal/popover
       * the datetime is being used in so we can
       * correctly size it when it is presented.
       */
      const overlayEl = _this2.overlayEl = datetimeEl.closest('ion-modal, ion-popover');
      /**
       * The .ion-datetime-button-overlay class contains
       * styles that allow any modal/popover to be
       * sized according to the dimensions of the datetime.
       * If developers want a smaller/larger overlay all they need
       * to do is change the width/height of the datetime.
       * Additionally, this lets us avoid having to set
       * explicit widths on each variant of datetime.
       */
      if (overlayEl) {
        overlayEl.classList.add('ion-datetime-button-overlay');
      }
      (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_3__.c)(datetimeEl, () => {
        const datetimePresentation = _this2.datetimePresentation = datetimeEl.presentation || 'date-time';
        /**
         * Set the initial display
         * in the rendered buttons.
         *
         * From there, we need to listen
         * for ionChange to be emitted
         * from datetime so we know when
         * to re-render the displayed
         * text in the buttons.
         */
        _this2.setDateTimeText();
        (0,_helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_3__.a)(datetimeEl, 'ionValueChange', _this2.setDateTimeText);
        /**
         * Configure the initial selected button
         * in the event that the datetime is displayed
         * without clicking one of the datetime buttons.
         * For example, a datetime could be expanded
         * in an accordion. In this case users only
         * need to click the accordion header to show
         * the datetime.
         */
        switch (datetimePresentation) {
          case 'date-time':
          case 'date':
          case 'month-year':
          case 'month':
          case 'year':
            _this2.selectedButton = 'date';
            break;
          case 'time-date':
          case 'time':
            _this2.selectedButton = 'time';
            break;
        }
      });
    })();
  }
  render() {
    const {
      color,
      dateText,
      timeText,
      selectedButton,
      datetimeActive,
      disabled
    } = this;
    const mode = (0,_ionic_global_3b28a225_js__WEBPACK_IMPORTED_MODULE_2__.b)(this);
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      class: (0,_theme_7670341c_js__WEBPACK_IMPORTED_MODULE_5__.c)(color, {
        [mode]: true,
        [`${selectedButton}-active`]: datetimeActive,
        ['datetime-button-disabled']: disabled
      })
    }, dateText && (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      class: "ion-activatable",
      id: "date-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleDateClick,
      disabled: disabled,
      part: "native",
      ref: el => this.dateTargetEl = el
    }, (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "date-target"
    }, dateText), mode === 'md' && (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", null)), timeText && (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("button", {
      class: "ion-activatable",
      id: "time-button",
      "aria-expanded": datetimeActive ? 'true' : 'false',
      onClick: this.handleTimeClick,
      disabled: disabled,
      part: "native",
      ref: el => this.timeTargetEl = el
    }, (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "time-target"
    }, timeText), mode === 'md' && (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("ion-ripple-effect", null)));
  }
  get el() {
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
DatetimeButton.style = {
  ios: iosDatetimeButtonCss,
  md: mdDatetimeButtonCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLWRhdGV0aW1lLWJ1dHRvbl9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDMkY7QUFDOUI7QUFDd0I7QUFDNUI7QUFDSztBQUNxSDtBQUVuTCxNQUFNNkIsb0JBQW9CLEdBQUcsc3hDQUFzeEM7QUFFbnpDLE1BQU1DLG1CQUFtQixHQUFHLHN4Q0FBc3hDO0FBRWx6QyxNQUFNQyxjQUFjLEdBQUcsTUFBTTtFQUMzQkMsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQUEsSUFBQUMsS0FBQTtJQUNuQmpDLHFEQUFnQixDQUFDLElBQUksRUFBRWdDLE9BQU8sQ0FBQztJQUMvQixJQUFJLENBQUNFLFVBQVUsR0FBRyxJQUFJO0lBQ3RCLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUk7SUFDckI7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0lBQ0ksSUFBSSxDQUFDQyxtQkFBbUIsR0FBSUMsS0FBSyxJQUFLO01BQ3BDLElBQUlBLEtBQUssS0FBS0MsU0FBUyxJQUFJRCxLQUFLLEtBQUssSUFBSSxFQUFFO1FBQ3pDLE9BQU8sRUFBRTtNQUNYO01BQ0EsSUFBSUUsS0FBSyxDQUFDQyxPQUFPLENBQUNILEtBQUssQ0FBQyxFQUFFO1FBQ3hCLE9BQU9BLEtBQUs7TUFDZDtNQUNBLE9BQU8sQ0FBQ0EsS0FBSyxDQUFDO0lBQ2hCLENBQUM7SUFDRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0lBQ0ksSUFBSSxDQUFDSSxlQUFlLEdBQUcsTUFBTTtNQUMzQixNQUFNO1FBQUVQLFVBQVU7UUFBRVE7TUFBcUIsQ0FBQyxHQUFHLElBQUk7TUFDakQsSUFBSSxDQUFDUixVQUFVLEVBQUU7UUFDZjtNQUNGO01BQ0EsTUFBTTtRQUFFRyxLQUFLO1FBQUVNLE1BQU07UUFBRUMsU0FBUztRQUFFQyxXQUFXO1FBQUVDLFFBQVE7UUFBRUM7TUFBNEIsQ0FBQyxHQUFHYixV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RXFELFFBQVEsSUFBS3JELHFEQUFDLENBQUMsUUFBUSxFQUFFO01BQUU0RyxLQUFLLEVBQUUsaUJBQWlCO01BQUVDLEVBQUUsRUFBRSxhQUFhO01BQUUsZUFBZSxFQUFFckIsY0FBYyxHQUFHLE1BQU0sR0FBRyxPQUFPO01BQUVzQixPQUFPLEVBQUUsSUFBSSxDQUFDbkMsZUFBZTtNQUFFZSxRQUFRLEVBQUVBLFFBQVE7TUFBRXFCLElBQUksRUFBRSxRQUFRO01BQUVDLEdBQUcsRUFBR2xCLEVBQUUsSUFBTSxJQUFJLENBQUNsQixZQUFZLEdBQUdrQjtJQUFJLENBQUMsRUFBRTlGLHFEQUFDLENBQUMsTUFBTSxFQUFFO01BQUVpSCxJQUFJLEVBQUU7SUFBYyxDQUFDLEVBQUU1RCxRQUFRLENBQUMsRUFBRXNELElBQUksS0FBSyxJQUFJLElBQUkzRyxxREFBQyxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxDQUFFLENBQUM7RUFDdnBCO0VBQ0EsSUFBSThGLEVBQUVBLENBQUEsRUFBRztJQUFFLE9BQU8xRixxREFBVSxDQUFDLElBQUksQ0FBQztFQUFFO0FBQ3RDLENBQUM7QUFDRHlCLGNBQWMsQ0FBQ3FGLEtBQUssR0FBRztFQUNyQkMsR0FBRyxFQUFFeEYsb0JBQW9CO0VBQ3pCeUYsRUFBRSxFQUFFeEY7QUFDTixDQUFDIiwic291cmNlcyI6WyIuL25vZGVfbW9kdWxlcy9AaW9uaWMvY29yZS9kaXN0L2VzbS9pb24tZGF0ZXRpbWUtYnV0dG9uLmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGgsIEggYXMgSG9zdCwgZiBhcyBnZXRFbGVtZW50IH0gZnJvbSAnLi9pbmRleC1iZTIxOGQ3MC5qcyc7XG5pbXBvcnQgeyBiIGFzIGdldElvbk1vZGUgfSBmcm9tICcuL2lvbmljLWdsb2JhbC0zYjI4YTIyNS5qcyc7XG5pbXBvcnQgeyBhIGFzIGFkZEV2ZW50TGlzdGVuZXIsIGMgYXMgY29tcG9uZW50T25SZWFkeSB9IGZyb20gJy4vaGVscGVycy01ZWI2MzY0ZC5qcyc7XG5pbXBvcnQgeyBhIGFzIHByaW50SW9uRXJyb3IgfSBmcm9tICcuL2luZGV4LWU4NmYwMTE3LmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQ29sb3JDbGFzc2VzIH0gZnJvbSAnLi90aGVtZS03NjcwMzQxYy5qcyc7XG5pbXBvcnQgeyBxIGFzIHBhcnNlRGF0ZSwgdCBhcyBnZXRUb2RheSwgSiBhcyBpczI0SG91ciwgUyBhcyBnZXRMb2NhbGl6ZWREYXRlVGltZSwgRyBhcyBnZXRNb250aEFuZFllYXIsIEsgYXMgZ2V0TG9jYWxpemVkVGltZSwgVCBhcyBnZXRNb250aERheUFuZFllYXIgfSBmcm9tICcuL2RhdGEtYTZmYzIxOGYuanMnO1xuXG5jb25zdCBpb3NEYXRldGltZUJ1dHRvbkNzcyA9IFwiOmhvc3R7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXg7LW1zLWZsZXgtYWxpZ246Y2VudGVyO2FsaWduLWl0ZW1zOmNlbnRlcjstbXMtZmxleC1wYWNrOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfTpob3N0IGJ1dHRvbntib3JkZXItcmFkaXVzOjhweDtwYWRkaW5nLWxlZnQ6MTJweDtwYWRkaW5nLXJpZ2h0OjEycHg7cGFkZGluZy10b3A6NnB4O3BhZGRpbmctYm90dG9tOjZweDttYXJnaW4tbGVmdDoycHg7bWFyZ2luLXJpZ2h0OjJweDttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjBweDtwb3NpdGlvbjpyZWxhdGl2ZTstd2Via2l0LXRyYW5zaXRpb246MTUwbXMgY29sb3IgZWFzZS1pbi1vdXQ7dHJhbnNpdGlvbjoxNTBtcyBjb2xvciBlYXNlLWluLW91dDtib3JkZXI6bm9uZTtiYWNrZ3JvdW5kOnZhcigtLWlvbi1jb2xvci1zdGVwLTMwMCwgI2VkZWVmMCk7Y29sb3I6dmFyKC0taW9uLXRleHQtY29sb3IsICMwMDApO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Zm9udC1zaXplOmluaGVyaXQ7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmU7YXBwZWFyYW5jZTpub25lO292ZXJmbG93OmhpZGRlbn1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezpob3N0IGJ1dHRvbntwYWRkaW5nLWxlZnQ6dW5zZXQ7cGFkZGluZy1yaWdodDp1bnNldDstd2Via2l0LXBhZGRpbmctc3RhcnQ6MTJweDtwYWRkaW5nLWlubGluZS1zdGFydDoxMnB4Oy13ZWJraXQtcGFkZGluZy1lbmQ6MTJweDtwYWRkaW5nLWlubGluZS1lbmQ6MTJweH19QHN1cHBvcnRzICgoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApIG9yIChtYXJnaW4taW5saW5lLXN0YXJ0OiAwKSkgb3IgKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKXs6aG9zdCBidXR0b257bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luLXJpZ2h0OnVuc2V0Oy13ZWJraXQtbWFyZ2luLXN0YXJ0OjJweDttYXJnaW4taW5saW5lLXN0YXJ0OjJweDstd2Via2l0LW1hcmdpbi1lbmQ6MnB4O21hcmdpbi1pbmxpbmUtZW5kOjJweH19Omhvc3QoLnRpbWUtYWN0aXZlKSAjdGltZS1idXR0b24sOmhvc3QoLmRhdGUtYWN0aXZlKSAjZGF0ZS1idXR0b257Y29sb3I6dmFyKC0taW9uLWNvbG9yLWJhc2UpfTpob3N0KC5kYXRldGltZS1idXR0b24tZGlzYWJsZWQpe3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QoLmRhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCkgYnV0dG9ue29wYWNpdHk6MC40fVwiO1xuXG5jb25zdCBtZERhdGV0aW1lQnV0dG9uQ3NzID0gXCI6aG9zdHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Omhvc3QgYnV0dG9ue2JvcmRlci1yYWRpdXM6OHB4O3BhZGRpbmctbGVmdDoxMnB4O3BhZGRpbmctcmlnaHQ6MTJweDtwYWRkaW5nLXRvcDo2cHg7cGFkZGluZy1ib3R0b206NnB4O21hcmdpbi1sZWZ0OjJweDttYXJnaW4tcmlnaHQ6MnB4O21hcmdpbi10b3A6MHB4O21hcmdpbi1ib3R0b206MHB4O3Bvc2l0aW9uOnJlbGF0aXZlOy13ZWJraXQtdHJhbnNpdGlvbjoxNTBtcyBjb2xvciBlYXNlLWluLW91dDt0cmFuc2l0aW9uOjE1MG1zIGNvbG9yIGVhc2UtaW4tb3V0O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dmFyKC0taW9uLWNvbG9yLXN0ZXAtMzAwLCAjZWRlZWYwKTtjb2xvcjp2YXIoLS1pb24tdGV4dC1jb2xvciwgIzAwMCk7Zm9udC1mYW1pbHk6aW5oZXJpdDtmb250LXNpemU6aW5oZXJpdDtjdXJzb3I6cG9pbnRlcjstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstbW96LWFwcGVhcmFuY2U6bm9uZTthcHBlYXJhbmNlOm5vbmU7b3ZlcmZsb3c6aGlkZGVufUBzdXBwb3J0cyAoKC13ZWJraXQtbWFyZ2luLXN0YXJ0OiAwKSBvciAobWFyZ2luLWlubGluZS1zdGFydDogMCkpIG9yICgtd2Via2l0LW1hcmdpbi1zdGFydDogMCl7Omhvc3QgYnV0dG9ue3BhZGRpbmctbGVmdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0Oy13ZWJraXQtcGFkZGluZy1zdGFydDoxMnB4O3BhZGRpbmctaW5saW5lLXN0YXJ0OjEycHg7LXdlYmtpdC1wYWRkaW5nLWVuZDoxMnB4O3BhZGRpbmctaW5saW5lLWVuZDoxMnB4fX1Ac3VwcG9ydHMgKCgtd2Via2l0LW1hcmdpbi1zdGFydDogMCkgb3IgKG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDApKSBvciAoLXdlYmtpdC1tYXJnaW4tc3RhcnQ6IDApezpob3N0IGJ1dHRvbnttYXJnaW4tbGVmdDp1bnNldDttYXJnaW4tcmlnaHQ6dW5zZXQ7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6MnB4O21hcmdpbi1pbmxpbmUtc3RhcnQ6MnB4Oy13ZWJraXQtbWFyZ2luLWVuZDoycHg7bWFyZ2luLWlubGluZS1lbmQ6MnB4fX06aG9zdCgudGltZS1hY3RpdmUpICN0aW1lLWJ1dHRvbiw6aG9zdCguZGF0ZS1hY3RpdmUpICNkYXRlLWJ1dHRvbntjb2xvcjp2YXIoLS1pb24tY29sb3ItYmFzZSl9Omhvc3QoLmRhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCl7cG9pbnRlci1ldmVudHM6bm9uZX06aG9zdCguZGF0ZXRpbWUtYnV0dG9uLWRpc2FibGVkKSBidXR0b257b3BhY2l0eTowLjR9XCI7XG5cbmNvbnN0IERhdGV0aW1lQnV0dG9uID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihob3N0UmVmKSB7XG4gICAgcmVnaXN0ZXJJbnN0YW5jZSh0aGlzLCBob3N0UmVmKTtcbiAgICB0aGlzLmRhdGV0aW1lRWwgPSBudWxsO1xuICAgIHRoaXMub3ZlcmxheUVsID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBBY2NlcHRzIG9uZSBvciBtb3JlIHN0cmluZyB2YWx1ZXMgYW5kIGNvbnZlcnRzXG4gICAgICogdGhlbSB0byBEYXRldGltZVBhcnRzLiBUaGlzIGlzIGRvbmUgc28gZGF0ZXRpbWUtYnV0dG9uXG4gICAgICogY2FuIHdvcmsgd2l0aCBhbiBhcnJheSBpbnRlcm5hbGx5IGFuZCBub3QgbmVlZFxuICAgICAqIHRvIGtlZXAgY2hlY2tpbmcgaWYgdGhlIGRhdGV0aW1lIHZhbHVlIGlzIGBzdHJpbmdgIG9yIGBzdHJpbmdbXWAuXG4gICAgICovXG4gICAgdGhpcy5nZXRQYXJzZWREYXRlVmFsdWVzID0gKHZhbHVlKSA9PiB7XG4gICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFt2YWx1ZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGUgdmFsdWUgcHJvcGVydHkgb24gdGhlIGxpbmtlZFxuICAgICAqIGlvbi1kYXRldGltZSBhbmQgdGhlbiBmb3JtYXQgaXQgYWNjb3JkaW5nXG4gICAgICogdG8gdGhlIGxvY2FsZSBzcGVjaWZpZWQgb24gaW9uLWRhdGV0aW1lLlxuICAgICAqL1xuICAgIHRoaXMuc2V0RGF0ZVRpbWVUZXh0ID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRldGltZUVsLCBkYXRldGltZVByZXNlbnRhdGlvbiB9ID0gdGhpcztcbiAgICAgIGlmICghZGF0ZXRpbWVFbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZhbHVlLCBsb2NhbGUsIGhvdXJDeWNsZSwgcHJlZmVyV2hlZWwsIG11bHRpcGxlLCB0aXRsZVNlbGVjdGVkRGF0ZXNGb3JtYXR0ZXIgfSA9IGRhdGV0aW1lRWw7XG4gICAgICBjb25zdCBwYXJzZWRWYWx1ZXMgPSB0aGlzLmdldFBhcnNlZERhdGVWYWx1ZXModmFsdWUpO1xuICAgICAgLyoqXG4gICAgICAgKiBCb3RoIGlvbi1kYXRldGltZSBhbmQgaW9uLWRhdGV0aW1lLWJ1dHRvbiBkZWZhdWx0XG4gICAgICAgKiB0byB0b2RheSdzIGRhdGUgYW5kIHRpbWUgaWYgbm8gdmFsdWUgaXMgc2V0LlxuICAgICAgICovXG4gICAgICBjb25zdCBwYXJzZWREYXRldGltZXMgPSBwYXJzZURhdGUocGFyc2VkVmFsdWVzLmxlbmd0aCA+IDAgPyBwYXJzZWRWYWx1ZXMgOiBbZ2V0VG9kYXkoKV0pO1xuICAgICAgLyoqXG4gICAgICAgKiBJZiBkZXZlbG9wZXJzIGluY29ycmVjdGx5IHVzZSBtdWx0aXBsZT1cInRydWVcIlxuICAgICAgICogd2l0aCBub24gXCJkYXRlXCIgZGF0ZXRpbWVzLCB0aGVuIGp1c3Qgc2VsZWN0XG4gICAgICAgKiB0aGUgZmlyc3QgdmFsdWUgc28gdGhlIGludGVyZmFjZSBkb2VzXG4gICAgICAgKiBub3QgYXBwZWFyIGJyb2tlbi4gRGF0ZXRpbWUgd2lsbCBwcm92aWRlIGFcbiAgICAgICAqIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGZpcnN0UGFyc2VkRGF0ZXRpbWUgPSBwYXJzZWREYXRldGltZXNbMF07XG4gICAgICBjb25zdCB1c2UyNEhvdXIgPSBpczI0SG91cihsb2NhbGUsIGhvdXJDeWNsZSk7XG4gICAgICB0aGlzLmRhdGVUZXh0ID0gdGhpcy50aW1lVGV4dCA9IHVuZGVmaW5lZDtcbiAgICAgIHN3aXRjaCAoZGF0ZXRpbWVQcmVzZW50YXRpb24pIHtcbiAgICAgICAgY2FzZSAnZGF0ZS10aW1lJzpcbiAgICAgICAgY2FzZSAndGltZS1kYXRlJzpcbiAgICAgICAgICBjb25zdCBkYXRlVGV4dCA9IGdldE1vbnRoRGF5QW5kWWVhcihsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUpO1xuICAgICAgICAgIGNvbnN0IHRpbWVUZXh0ID0gZ2V0TG9jYWxpemVkVGltZShsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUsIHVzZTI0SG91cik7XG4gICAgICAgICAgaWYgKHByZWZlcldoZWVsKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gYCR7ZGF0ZVRleHR9ICR7dGltZVRleHR9YDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gZGF0ZVRleHQ7XG4gICAgICAgICAgICB0aGlzLnRpbWVUZXh0ID0gdGltZVRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICBpZiAobXVsdGlwbGUgJiYgcGFyc2VkVmFsdWVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgbGV0IGhlYWRlclRleHQgPSBgJHtwYXJzZWRWYWx1ZXMubGVuZ3RofSBkYXlzYDsgLy8gZGVmYXVsdC9mYWxsYmFjayBmb3IgbXVsdGlwbGUgc2VsZWN0aW9uXG4gICAgICAgICAgICBpZiAodGl0bGVTZWxlY3RlZERhdGVzRm9ybWF0dGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJUZXh0ID0gdGl0bGVTZWxlY3RlZERhdGVzRm9ybWF0dGVyKHBhcnNlZFZhbHVlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBwcmludElvbkVycm9yKCdFeGNlcHRpb24gaW4gcHJvdmlkZWQgYHRpdGxlU2VsZWN0ZWREYXRlc0Zvcm1hdHRlcmA6ICcsIGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gaGVhZGVyVGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGVUZXh0ID0gZ2V0TW9udGhEYXlBbmRZZWFyKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aW1lJzpcbiAgICAgICAgICB0aGlzLnRpbWVUZXh0ID0gZ2V0TG9jYWxpemVkVGltZShsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUsIHVzZTI0SG91cik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ21vbnRoLXllYXInOlxuICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBnZXRNb250aEFuZFllYXIobG9jYWxlLCBmaXJzdFBhcnNlZERhdGV0aW1lKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgIHRoaXMuZGF0ZVRleHQgPSBnZXRMb2NhbGl6ZWREYXRlVGltZShsb2NhbGUsIGZpcnN0UGFyc2VkRGF0ZXRpbWUsIHsgbW9udGg6ICdsb25nJyB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgdGhpcy5kYXRlVGV4dCA9IGdldExvY2FsaXplZERhdGVUaW1lKGxvY2FsZSwgZmlyc3RQYXJzZWREYXRldGltZSwgeyB5ZWFyOiAnbnVtZXJpYycgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXYWl0cyBmb3IgdGhlIGlvbi1kYXRldGltZSB0byByZS1yZW5kZXIuXG4gICAgICogVGhpcyBpcyBuZWVkZWQgaW4gb3JkZXIgdG8gY29ycmVjdGx5IHBvc2l0aW9uXG4gICAgICogYSBwb3BvdmVyIHJlbGF0aXZlIHRvIHRoZSB0cmlnZ2VyIGVsZW1lbnQuXG4gICAgICovXG4gICAgdGhpcy53YWl0Rm9yRGF0ZXRpbWVDaGFuZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyBkYXRldGltZUVsIH0gPSB0aGlzO1xuICAgICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBhZGRFdmVudExpc3RlbmVyKGRhdGV0aW1lRWwsICdpb25SZW5kZXInLCByZXNvbHZlLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHRoaXMuaGFuZGxlRGF0ZUNsaWNrID0gYXN5bmMgKGV2KSA9PiB7XG4gICAgICBjb25zdCB7IGRhdGV0aW1lRWwsIGRhdGV0aW1lUHJlc2VudGF0aW9uIH0gPSB0aGlzO1xuICAgICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSA9IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIGNsaWNraW5nIHRoZSBkYXRlIGJ1dHRvbixcbiAgICAgICAqIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgb25seSBhIGRhdGVcbiAgICAgICAqIHBpY2tlciBpcyBkaXNwbGF5ZWQuIEZvciBwcmVzZW50YXRpb24gc3R5bGVzXG4gICAgICAgKiB0aGF0IGRpc3BsYXkgY29udGVudCBvdGhlciB0aGFuIGEgZGF0ZSBwaWNrZXIsXG4gICAgICAgKiB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgcHJlc2VudGF0aW9uIHN0eWxlLlxuICAgICAgICovXG4gICAgICBzd2l0Y2ggKGRhdGV0aW1lUHJlc2VudGF0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2RhdGUtdGltZSc6XG4gICAgICAgIGNhc2UgJ3RpbWUtZGF0ZSc6XG4gICAgICAgICAgY29uc3QgbmVlZHNDaGFuZ2UgPSBkYXRldGltZUVsLnByZXNlbnRhdGlvbiAhPT0gJ2RhdGUnO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFRoZSBkYXRlK3RpbWUgd2hlZWwgcGlja2VyXG4gICAgICAgICAgICogc2hvd3MgZGF0ZSBhbmQgdGltZSB0b2dldGhlcixcbiAgICAgICAgICAgKiBzbyBkbyBub3QgYWRqdXN0IHRoZSBwcmVzZW50YXRpb25cbiAgICAgICAgICAgKiBpbiB0aGF0IGNhc2UuXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKCFkYXRldGltZUVsLnByZWZlcldoZWVsICYmIG5lZWRzQ2hhbmdlKSB7XG4gICAgICAgICAgICBkYXRldGltZUVsLnByZXNlbnRhdGlvbiA9ICdkYXRlJztcbiAgICAgICAgICAgIG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRyYWNrIHdoaWNoIGJ1dHRvbiB3YXMgY2xpY2tlZFxuICAgICAgICogc28gdGhhdCBpdCBjYW4gaGF2ZSB0aGUgY29ycmVjdFxuICAgICAgICogYWN0aXZhdGVkIHN0eWxlcyBhcHBsaWVkIHdoZW5cbiAgICAgICAqIHRoZSBtb2RhbC9wb3BvdmVyIGNvbnRhaW5pbmdcbiAgICAgICAqIHRoZSBkYXRldGltZSBpcyBvcGVuZWQuXG4gICAgICAgKi9cbiAgICAgIHRoaXMuc2VsZWN0ZWRCdXR0b24gPSAnZGF0ZSc7XG4gICAgICB0aGlzLnByZXNlbnRPdmVybGF5KGV2LCBuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSwgdGhpcy5kYXRlVGFyZ2V0RWwpO1xuICAgIH07XG4gICAgdGhpcy5oYW5kbGVUaW1lQ2xpY2sgPSAoZXYpID0+IHtcbiAgICAgIGNvbnN0IHsgZGF0ZXRpbWVFbCwgZGF0ZXRpbWVQcmVzZW50YXRpb24gfSA9IHRoaXM7XG4gICAgICBpZiAoIWRhdGV0aW1lRWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlID0gZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gY2xpY2tpbmcgdGhlIHRpbWUgYnV0dG9uLFxuICAgICAgICogd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBvbmx5IGEgdGltZVxuICAgICAgICogcGlja2VyIGlzIGRpc3BsYXllZC4gRm9yIHByZXNlbnRhdGlvbiBzdHlsZXNcbiAgICAgICAqIHRoYXQgZGlzcGxheSBjb250ZW50IG90aGVyIHRoYW4gYSB0aW1lIHBpY2tlcixcbiAgICAgICAqIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSBwcmVzZW50YXRpb24gc3R5bGUuXG4gICAgICAgKi9cbiAgICAgIHN3aXRjaCAoZGF0ZXRpbWVQcmVzZW50YXRpb24pIHtcbiAgICAgICAgY2FzZSAnZGF0ZS10aW1lJzpcbiAgICAgICAgY2FzZSAndGltZS1kYXRlJzpcbiAgICAgICAgICBjb25zdCBuZWVkc0NoYW5nZSA9IGRhdGV0aW1lRWwucHJlc2VudGF0aW9uICE9PSAndGltZSc7XG4gICAgICAgICAgaWYgKG5lZWRzQ2hhbmdlKSB7XG4gICAgICAgICAgICBkYXRldGltZUVsLnByZXNlbnRhdGlvbiA9ICd0aW1lJztcbiAgICAgICAgICAgIG5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIFRyYWNrIHdoaWNoIGJ1dHRvbiB3YXMgY2xpY2tlZFxuICAgICAgICogc28gdGhhdCBpdCBjYW4gaGF2ZSB0aGUgY29ycmVjdFxuICAgICAgICogYWN0aXZhdGVkIHN0eWxlcyBhcHBsaWVkIHdoZW5cbiAgICAgICAqIHRoZSBtb2RhbC9wb3BvdmVyIGNvbnRhaW5pbmdcbiAgICAgICAqIHRoZSBkYXRldGltZSBpcyBvcGVuZWQuXG4gICAgICAgKi9cbiAgICAgIHRoaXMuc2VsZWN0ZWRCdXR0b24gPSAndGltZSc7XG4gICAgICB0aGlzLnByZXNlbnRPdmVybGF5KGV2LCBuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSwgdGhpcy50aW1lVGFyZ2V0RWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGRhdGV0aW1lIGlzIHByZXNlbnRlZCBpbiBhblxuICAgICAqIG92ZXJsYXksIHRoZSBkYXRldGltZSBhbmQgb3ZlcmxheVxuICAgICAqIHNob3VsZCBiZSBhcHByb3ByaWF0ZWx5IHNpemVkLlxuICAgICAqIFRoZXNlIGNsYXNzZXMgcHJvdmlkZSBkZWZhdWx0IHNpemluZyB2YWx1ZXNcbiAgICAgKiB0aGF0IGRldmVsb3BlcnMgY2FuIGN1c3RvbWl6ZS5cbiAgICAgKiBUaGUgZ29hbCBpcyB0byBwcm92aWRlIGFuIG92ZXJsYXkgdGhhdCBpc1xuICAgICAqIHJlYXNvbmFibHkgc2l6ZWQgd2l0aCBhIGRhdGV0aW1lIHRoYXRcbiAgICAgKiBmaWxscyB0aGUgZW50aXJlIGNvbnRhaW5lci5cbiAgICAgKi9cbiAgICB0aGlzLnByZXNlbnRPdmVybGF5ID0gYXN5bmMgKGV2LCBuZWVkc1ByZXNlbnRhdGlvbkNoYW5nZSwgdHJpZ2dlckVsKSA9PiB7XG4gICAgICBjb25zdCB7IG92ZXJsYXlFbCB9ID0gdGhpcztcbiAgICAgIGlmICghb3ZlcmxheUVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChvdmVybGF5RWwudGFnTmFtZSA9PT0gJ0lPTi1QT1BPVkVSJykge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcHJlc2VudGF0aW9uIG9uIGRhdGV0aW1lIGNoYW5nZXMsXG4gICAgICAgICAqIHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGNvbXBvbmVudCB0byByZS1yZW5kZXJcbiAgICAgICAgICogb3RoZXJ3aXNlIHRoZSBjb21wdXRlZCB3aWR0aC9oZWlnaHQgb2YgdGhlXG4gICAgICAgICAqIHBvcG92ZXIgY29udGVudCB3aWxsIGJlIHdyb25nLCBjYXVzaW5nXG4gICAgICAgICAqIHRoZSBwb3BvdmVyIHRvIG5vdCBhbGlnbiB3aXRoIHRoZSB0cmlnZ2VyIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAobmVlZHNQcmVzZW50YXRpb25DaGFuZ2UpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JEYXRldGltZUNoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogV2UgcGFzcyB0aGUgdHJpZ2dlciBidXR0b24gZWxlbWVudFxuICAgICAgICAgKiBzbyB0aGF0IHRoZSBwb3BvdmVyIGFsaWducyB3aXRoIHRoZSBpbmRpdmlkdWFsXG4gICAgICAgICAqIGJ1dHRvbiB0aGF0IHdhcyBjbGlja2VkLCBub3QgdGhlIGNvbXBvbmVudCBjb250YWluZXIuXG4gICAgICAgICAqL1xuICAgICAgICBvdmVybGF5RWwucHJlc2VudChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGV2KSwgeyBkZXRhaWw6IHtcbiAgICAgICAgICAgIGlvblNoYWRvd1RhcmdldDogdHJpZ2dlckVsLFxuICAgICAgICAgIH0gfSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG92ZXJsYXlFbC5wcmVzZW50KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmRhdGV0aW1lUHJlc2VudGF0aW9uID0gJ2RhdGUtdGltZSc7XG4gICAgdGhpcy5kYXRlVGV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRpbWVUZXh0ID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGF0ZXRpbWVBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuY29sb3IgPSAncHJpbWFyeSc7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuZGF0ZXRpbWUgPSB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgY29uc3QgeyBkYXRldGltZSB9ID0gdGhpcztcbiAgICBpZiAoIWRhdGV0aW1lKSB7XG4gICAgICBwcmludElvbkVycm9yKCdBbiBJRCBhc3NvY2lhdGVkIHdpdGggYW4gaW9uLWRhdGV0aW1lIGluc3RhbmNlIGlzIHJlcXVpcmVkIGZvciBpb24tZGF0ZXRpbWUtYnV0dG9uIHRvIGZ1bmN0aW9uIHByb3Blcmx5LicsIHRoaXMuZWwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkYXRldGltZUVsID0gKHRoaXMuZGF0ZXRpbWVFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGV0aW1lKSk7XG4gICAgaWYgKCFkYXRldGltZUVsKSB7XG4gICAgICBwcmludElvbkVycm9yKGBObyBpb24tZGF0ZXRpbWUgaW5zdGFuY2UgZm91bmQgZm9yIElEICcke2RhdGV0aW1lfScuYCwgdGhpcy5lbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbmNlIHRoZSBkYXRldGltZSBjYW4gYmUgdXNlZCBpbiBhbnkgY29udGV4dCAob3ZlcmxheXMsIGFjY29yZGlvbiwgZXRjKVxuICAgICAqIHdlIHRyYWNrIHdoZW4gaXQgaXMgdmlzaWJsZSB0byBkZXRlcm1pbmUgd2hlbiBpdCBpcyBhY3RpdmUuXG4gICAgICogVGhpcyBpbmZvcm1zIHdoaWNoIGJ1dHRvbiBpcyBoaWdobGlnaHRlZCBhcyB3ZWxsIGFzIHRoZVxuICAgICAqIGFyaWEtZXhwYW5kZWQgc3RhdGUuXG4gICAgICovXG4gICAgY29uc3QgaW8gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgIGNvbnN0IGV2ID0gZW50cmllc1swXTtcbiAgICAgIHRoaXMuZGF0ZXRpbWVBY3RpdmUgPSBldi5pc0ludGVyc2VjdGluZztcbiAgICB9LCB7XG4gICAgICB0aHJlc2hvbGQ6IDAuMDEsXG4gICAgfSk7XG4gICAgaW8ub2JzZXJ2ZShkYXRldGltZUVsKTtcbiAgICAvKipcbiAgICAgKiBHZXQgYSByZWZlcmVuY2UgdG8gYW55IG1vZGFsL3BvcG92ZXJcbiAgICAgKiB0aGUgZGF0ZXRpbWUgaXMgYmVpbmcgdXNlZCBpbiBzbyB3ZSBjYW5cbiAgICAgKiBjb3JyZWN0bHkgc2l6ZSBpdCB3aGVuIGl0IGlzIHByZXNlbnRlZC5cbiAgICAgKi9cbiAgICBjb25zdCBvdmVybGF5RWwgPSAodGhpcy5vdmVybGF5RWwgPSBkYXRldGltZUVsLmNsb3Nlc3QoJ2lvbi1tb2RhbCwgaW9uLXBvcG92ZXInKSk7XG4gICAgLyoqXG4gICAgICogVGhlIC5pb24tZGF0ZXRpbWUtYnV0dG9uLW92ZXJsYXkgY2xhc3MgY29udGFpbnNcbiAgICAgKiBzdHlsZXMgdGhhdCBhbGxvdyBhbnkgbW9kYWwvcG9wb3ZlciB0byBiZVxuICAgICAqIHNpemVkIGFjY29yZGluZyB0byB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGF0ZXRpbWUuXG4gICAgICogSWYgZGV2ZWxvcGVycyB3YW50IGEgc21hbGxlci9sYXJnZXIgb3ZlcmxheSBhbGwgdGhleSBuZWVkXG4gICAgICogdG8gZG8gaXMgY2hhbmdlIHRoZSB3aWR0aC9oZWlnaHQgb2YgdGhlIGRhdGV0aW1lLlxuICAgICAqIEFkZGl0aW9uYWxseSwgdGhpcyBsZXRzIHVzIGF2b2lkIGhhdmluZyB0byBzZXRcbiAgICAgKiBleHBsaWNpdCB3aWR0aHMgb24gZWFjaCB2YXJpYW50IG9mIGRhdGV0aW1lLlxuICAgICAqL1xuICAgIGlmIChvdmVybGF5RWwpIHtcbiAgICAgIG92ZXJsYXlFbC5jbGFzc0xpc3QuYWRkKCdpb24tZGF0ZXRpbWUtYnV0dG9uLW92ZXJsYXknKTtcbiAgICB9XG4gICAgY29tcG9uZW50T25SZWFkeShkYXRldGltZUVsLCAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRldGltZVByZXNlbnRhdGlvbiA9ICh0aGlzLmRhdGV0aW1lUHJlc2VudGF0aW9uID0gZGF0ZXRpbWVFbC5wcmVzZW50YXRpb24gfHwgJ2RhdGUtdGltZScpO1xuICAgICAgLyoqXG4gICAgICAgKiBTZXQgdGhlIGluaXRpYWwgZGlzcGxheVxuICAgICAgICogaW4gdGhlIHJlbmRlcmVkIGJ1dHRvbnMuXG4gICAgICAgKlxuICAgICAgICogRnJvbSB0aGVyZSwgd2UgbmVlZCB0byBsaXN0ZW5cbiAgICAgICAqIGZvciBpb25DaGFuZ2UgdG8gYmUgZW1pdHRlZFxuICAgICAgICogZnJvbSBkYXRldGltZSBzbyB3ZSBrbm93IHdoZW5cbiAgICAgICAqIHRvIHJlLXJlbmRlciB0aGUgZGlzcGxheWVkXG4gICAgICAgKiB0ZXh0IGluIHRoZSBidXR0b25zLlxuICAgICAgICovXG4gICAgICB0aGlzLnNldERhdGVUaW1lVGV4dCgpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihkYXRldGltZUVsLCAnaW9uVmFsdWVDaGFuZ2UnLCB0aGlzLnNldERhdGVUaW1lVGV4dCk7XG4gICAgICAvKipcbiAgICAgICAqIENvbmZpZ3VyZSB0aGUgaW5pdGlhbCBzZWxlY3RlZCBidXR0b25cbiAgICAgICAqIGluIHRoZSBldmVudCB0aGF0IHRoZSBkYXRldGltZSBpcyBkaXNwbGF5ZWRcbiAgICAgICAqIHdpdGhvdXQgY2xpY2tpbmcgb25lIG9mIHRoZSBkYXRldGltZSBidXR0b25zLlxuICAgICAgICogRm9yIGV4YW1wbGUsIGEgZGF0ZXRpbWUgY291bGQgYmUgZXhwYW5kZWRcbiAgICAgICAqIGluIGFuIGFjY29yZGlvbi4gSW4gdGhpcyBjYXNlIHVzZXJzIG9ubHlcbiAgICAgICAqIG5lZWQgdG8gY2xpY2sgdGhlIGFjY29yZGlvbiBoZWFkZXIgdG8gc2hvd1xuICAgICAgICogdGhlIGRhdGV0aW1lLlxuICAgICAgICovXG4gICAgICBzd2l0Y2ggKGRhdGV0aW1lUHJlc2VudGF0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2RhdGUtdGltZSc6XG4gICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICBjYXNlICdtb250aC15ZWFyJzpcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gJ2RhdGUnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aW1lLWRhdGUnOlxuICAgICAgICBjYXNlICd0aW1lJzpcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkQnV0dG9uID0gJ3RpbWUnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGNvbG9yLCBkYXRlVGV4dCwgdGltZVRleHQsIHNlbGVjdGVkQnV0dG9uLCBkYXRldGltZUFjdGl2ZSwgZGlzYWJsZWQgfSA9IHRoaXM7XG4gICAgY29uc3QgbW9kZSA9IGdldElvbk1vZGUodGhpcyk7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgY2xhc3M6IGNyZWF0ZUNvbG9yQ2xhc3Nlcyhjb2xvciwge1xuICAgICAgICBbbW9kZV06IHRydWUsXG4gICAgICAgIFtgJHtzZWxlY3RlZEJ1dHRvbn0tYWN0aXZlYF06IGRhdGV0aW1lQWN0aXZlLFxuICAgICAgICBbJ2RhdGV0aW1lLWJ1dHRvbi1kaXNhYmxlZCddOiBkaXNhYmxlZCxcbiAgICAgIH0pIH0sIGRhdGVUZXh0ICYmIChoKFwiYnV0dG9uXCIsIHsgY2xhc3M6IFwiaW9uLWFjdGl2YXRhYmxlXCIsIGlkOiBcImRhdGUtYnV0dG9uXCIsIFwiYXJpYS1leHBhbmRlZFwiOiBkYXRldGltZUFjdGl2ZSA/ICd0cnVlJyA6ICdmYWxzZScsIG9uQ2xpY2s6IHRoaXMuaGFuZGxlRGF0ZUNsaWNrLCBkaXNhYmxlZDogZGlzYWJsZWQsIHBhcnQ6IFwibmF0aXZlXCIsIHJlZjogKGVsKSA9PiAodGhpcy5kYXRlVGFyZ2V0RWwgPSBlbCkgfSwgaChcInNsb3RcIiwgeyBuYW1lOiBcImRhdGUtdGFyZ2V0XCIgfSwgZGF0ZVRleHQpLCBtb2RlID09PSAnbWQnICYmIGgoXCJpb24tcmlwcGxlLWVmZmVjdFwiLCBudWxsKSkpLCB0aW1lVGV4dCAmJiAoaChcImJ1dHRvblwiLCB7IGNsYXNzOiBcImlvbi1hY3RpdmF0YWJsZVwiLCBpZDogXCJ0aW1lLWJ1dHRvblwiLCBcImFyaWEtZXhwYW5kZWRcIjogZGF0ZXRpbWVBY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnLCBvbkNsaWNrOiB0aGlzLmhhbmRsZVRpbWVDbGljaywgZGlzYWJsZWQ6IGRpc2FibGVkLCBwYXJ0OiBcIm5hdGl2ZVwiLCByZWY6IChlbCkgPT4gKHRoaXMudGltZVRhcmdldEVsID0gZWwpIH0sIGgoXCJzbG90XCIsIHsgbmFtZTogXCJ0aW1lLXRhcmdldFwiIH0sIHRpbWVUZXh0KSwgbW9kZSA9PT0gJ21kJyAmJiBoKFwiaW9uLXJpcHBsZS1lZmZlY3RcIiwgbnVsbCkpKSkpO1xuICB9XG4gIGdldCBlbCgpIHsgcmV0dXJuIGdldEVsZW1lbnQodGhpcyk7IH1cbn07XG5EYXRldGltZUJ1dHRvbi5zdHlsZSA9IHtcbiAgaW9zOiBpb3NEYXRldGltZUJ1dHRvbkNzcyxcbiAgbWQ6IG1kRGF0ZXRpbWVCdXR0b25Dc3Ncbn07XG5cbmV4cG9ydCB7IERhdGV0aW1lQnV0dG9uIGFzIGlvbl9kYXRldGltZV9idXR0b24gfTtcbiJdLCJuYW1lcyI6WyJyIiwicmVnaXN0ZXJJbnN0YW5jZSIsImgiLCJIIiwiSG9zdCIsImYiLCJnZXRFbGVtZW50IiwiYiIsImdldElvbk1vZGUiLCJhIiwiYWRkRXZlbnRMaXN0ZW5lciIsImMiLCJjb21wb25lbnRPblJlYWR5IiwicHJpbnRJb25FcnJvciIsImNyZWF0ZUNvbG9yQ2xhc3NlcyIsInEiLCJwYXJzZURhdGUiLCJ0IiwiZ2V0VG9kYXkiLCJKIiwiaXMyNEhvdXIiLCJTIiwiZ2V0TG9jYWxpemVkRGF0ZVRpbWUiLCJHIiwiZ2V0TW9udGhBbmRZZWFyIiwiSyIsImdldExvY2FsaXplZFRpbWUiLCJUIiwiZ2V0TW9udGhEYXlBbmRZZWFyIiwiaW9zRGF0ZXRpbWVCdXR0b25Dc3MiLCJtZERhdGV0aW1lQnV0dG9uQ3NzIiwiRGF0ZXRpbWVCdXR0b24iLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJfdGhpcyIsImRhdGV0aW1lRWwiLCJvdmVybGF5RWwiLCJnZXRQYXJzZWREYXRlVmFsdWVzIiwidmFsdWUiLCJ1bmRlZmluZWQiLCJBcnJheSIsImlzQXJyYXkiLCJzZXREYXRlVGltZVRleHQiLCJkYXRldGltZVByZXNlbnRhdGlvbiIsImxvY2FsZSIsImhvdXJDeWNsZSIsInByZWZlcldoZWVsIiwibXVsdGlwbGUiLCJ0aXRsZVNlbGVjdGVkRGF0ZXNGb3JtYXR0ZXIiLCJwYXJzZWRWYWx1ZXMiLCJwYXJzZWREYXRldGltZXMiLCJsZW5ndGgiLCJmaXJzdFBhcnNlZERhdGV0aW1lIiwidXNlMjRIb3VyIiwiZGF0ZVRleHQiLCJ0aW1lVGV4dCIsImhlYWRlclRleHQiLCJlIiwibW9udGgiLCJ5ZWFyIiwid2FpdEZvckRhdGV0aW1lQ2hhbmdlcyIsIl9hc3luY1RvR2VuZXJhdG9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvbmNlIiwiaGFuZGxlRGF0ZUNsaWNrIiwiX3JlZjIiLCJldiIsIm5lZWRzUHJlc2VudGF0aW9uQ2hhbmdlIiwibmVlZHNDaGFuZ2UiLCJwcmVzZW50YXRpb24iLCJzZWxlY3RlZEJ1dHRvbiIsInByZXNlbnRPdmVybGF5IiwiZGF0ZVRhcmdldEVsIiwiX3giLCJhcHBseSIsImFyZ3VtZW50cyIsImhhbmRsZVRpbWVDbGljayIsInRpbWVUYXJnZXRFbCIsIl9yZWYzIiwidHJpZ2dlckVsIiwidGFnTmFtZSIsInByZXNlbnQiLCJPYmplY3QiLCJhc3NpZ24iLCJkZXRhaWwiLCJpb25TaGFkb3dUYXJnZXQiLCJfeDIiLCJfeDMiLCJfeDQiLCJkYXRldGltZUFjdGl2ZSIsImNvbG9yIiwiZGlzYWJsZWQiLCJkYXRldGltZSIsImNvbXBvbmVudFdpbGxMb2FkIiwiX3RoaXMyIiwiZWwiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW8iLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJpc0ludGVyc2VjdGluZyIsInRocmVzaG9sZCIsIm9ic2VydmUiLCJjbG9zZXN0IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVuZGVyIiwibW9kZSIsImNsYXNzIiwiaWQiLCJvbkNsaWNrIiwicGFydCIsInJlZiIsIm5hbWUiLCJzdHlsZSIsImlvcyIsIm1kIiwiaW9uX2RhdGV0aW1lX2J1dHRvbiJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19