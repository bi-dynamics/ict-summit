"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-tab_2_entry_js"],{

/***/ 199:
/*!**************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-tab_2.entry.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ion_tab": () => (/* binding */ Tab),
/* harmony export */   "ion_tabs": () => (/* binding */ Tabs)
/* harmony export */ });
/* harmony import */ var _Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-be218d70.js */ 9866);
/* harmony import */ var _framework_delegate_28f7ea29_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./framework-delegate-28f7ea29.js */ 6425);
/* harmony import */ var _helpers_5eb6364d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-5eb6364d.js */ 9364);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */



const tabCss = ":host(.tab-hidden){display:none !important}";
const Tab = class {
  constructor(hostRef) {
    (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.loaded = false;
    this.active = false;
    this.delegate = undefined;
    this.tab = undefined;
    this.component = undefined;
  }
  componentWillLoad() {
    var _this = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this.active) {
        yield _this.setActive();
      }
    })();
  }
  /** Set the active component for the tab */
  setActive() {
    var _this2 = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this2.prepareLazyLoaded();
      _this2.active = true;
    })();
  }
  changeActive(isActive) {
    if (isActive) {
      this.prepareLazyLoaded();
    }
  }
  prepareLazyLoaded() {
    if (!this.loaded && this.component != null) {
      this.loaded = true;
      try {
        return (0,_framework_delegate_28f7ea29_js__WEBPACK_IMPORTED_MODULE_2__.a)(this.delegate, this.el, this.component, ['ion-page']);
      } catch (e) {
        console.error(e);
      }
    }
    return Promise.resolve(undefined);
  }
  render() {
    const {
      tab,
      active,
      component
    } = this;
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      role: "tabpanel",
      "aria-hidden": !active ? 'true' : null,
      "aria-labelledby": `tab-button-${tab}`,
      class: {
        'ion-page': component === undefined,
        'tab-hidden': !active
      }
    }, (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null));
  }
  get el() {
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
  static get watchers() {
    return {
      "active": ["changeActive"]
    };
  }
};
Tab.style = tabCss;
const tabsCss = ":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}";
const Tabs = class {
  constructor(hostRef) {
    (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionNavWillLoad = (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionNavWillLoad", 7);
    this.ionTabsWillChange = (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionTabsWillChange", 3);
    this.ionTabsDidChange = (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionTabsDidChange", 3);
    this.transitioning = false;
    this.onTabClicked = ev => {
      const {
        href,
        tab
      } = ev.detail;
      if (this.useRouter && href !== undefined) {
        const router = document.querySelector('ion-router');
        if (router) {
          router.push(href);
        }
      } else {
        this.select(tab);
      }
    };
    this.selectedTab = undefined;
    this.useRouter = false;
  }
  componentWillLoad() {
    var _this3 = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!_this3.useRouter) {
        _this3.useRouter = !!document.querySelector('ion-router') && !_this3.el.closest('[no-router]');
      }
      if (!_this3.useRouter) {
        const tabs = _this3.tabs;
        if (tabs.length > 0) {
          yield _this3.select(tabs[0]);
        }
      }
      _this3.ionNavWillLoad.emit();
    })();
  }
  componentWillRender() {
    const tabBar = this.el.querySelector('ion-tab-bar');
    if (tabBar) {
      const tab = this.selectedTab ? this.selectedTab.tab : undefined;
      tabBar.selectedTab = tab;
    }
  }
  /**
   * Select a tab by the value of its `tab` property or an element reference.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */
  select(tab) {
    var _this4 = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this4.tabs, tab);
      if (!_this4.shouldSwitch(selectedTab)) {
        return false;
      }
      yield _this4.setActive(selectedTab);
      yield _this4.notifyRouter();
      _this4.tabSwitch();
      return true;
    })();
  }
  /**
   * Get a specific tab by the value of its `tab` property or an element reference.
   *
   * @param tab The tab instance to select. If passed a string, it should be the value of the tab's `tab` property.
   */
  getTab(tab) {
    var _this5 = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return getTab(_this5.tabs, tab);
    })();
  }
  /**
   * Get the currently selected tab.
   */
  getSelected() {
    return Promise.resolve(this.selectedTab ? this.selectedTab.tab : undefined);
  }
  /** @internal */
  setRouteId(id) {
    var _this6 = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const selectedTab = getTab(_this6.tabs, id);
      if (!_this6.shouldSwitch(selectedTab)) {
        return {
          changed: false,
          element: _this6.selectedTab
        };
      }
      yield _this6.setActive(selectedTab);
      return {
        changed: true,
        element: _this6.selectedTab,
        markVisible: () => _this6.tabSwitch()
      };
    })();
  }
  /** @internal */
  getRouteId() {
    var _this7 = this;
    return (0,_Users_ohrionmartin_dev_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      var _a;
      const tabId = (_a = _this7.selectedTab) === null || _a === void 0 ? void 0 : _a.tab;
      return tabId !== undefined ? {
        id: tabId,
        element: _this7.selectedTab
      } : undefined;
    })();
  }
  setActive(selectedTab) {
    if (this.transitioning) {
      return Promise.reject('transitioning already happening');
    }
    this.transitioning = true;
    this.leavingTab = this.selectedTab;
    this.selectedTab = selectedTab;
    this.ionTabsWillChange.emit({
      tab: selectedTab.tab
    });
    selectedTab.active = true;
    return Promise.resolve();
  }
  tabSwitch() {
    const selectedTab = this.selectedTab;
    const leavingTab = this.leavingTab;
    this.leavingTab = undefined;
    this.transitioning = false;
    if (!selectedTab) {
      return;
    }
    if (leavingTab !== selectedTab) {
      if (leavingTab) {
        leavingTab.active = false;
      }
      this.ionTabsDidChange.emit({
        tab: selectedTab.tab
      });
    }
  }
  notifyRouter() {
    if (this.useRouter) {
      const router = document.querySelector('ion-router');
      if (router) {
        return router.navChanged('forward');
      }
    }
    return Promise.resolve(false);
  }
  shouldSwitch(selectedTab) {
    const leavingTab = this.selectedTab;
    return selectedTab !== undefined && selectedTab !== leavingTab && !this.transitioning;
  }
  get tabs() {
    return Array.from(this.el.querySelectorAll('ion-tab'));
  }
  render() {
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      onIonTabButtonClick: this.onTabClicked
    }, (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "top"
    }), (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "tabs-inner"
    }, (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null)), (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", {
      name: "bottom"
    }));
  }
  get el() {
    return (0,_index_be218d70_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
const getTab = (tabs, tab) => {
  const tabEl = typeof tab === 'string' ? tabs.find(t => t.tab === tab) : tab;
  if (!tabEl) {
    console.error(`tab with id: "${tabEl}" does not exist`);
  }
  return tabEl;
};
Tabs.style = tabsCss;


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXRhYl8yX2VudHJ5X2pzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDNkc7QUFDckM7QUFDekM7QUFFL0IsTUFBTVcsTUFBTSxHQUFHLDZDQUE2QztBQUU1RCxNQUFNQyxHQUFHLEdBQUcsTUFBTTtFQUNoQkMsV0FBV0EsQ0FBQ0MsT0FBTyxFQUFFO0lBQ25CYixxREFBZ0IsQ0FBQyxJQUFJLEVBQUVhLE9BQU8sQ0FBQztJQUMvQixJQUFJLENBQUNDLE1BQU0sR0FBRyxLQUFLO0lBQ25CLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEtBQUs7SUFDbkIsSUFBSSxDQUFDQyxRQUFRLEdBQUdDLFNBQVM7SUFDekIsSUFBSSxDQUFDQyxHQUFHLEdBQUdELFNBQVM7SUFDcEIsSUFBSSxDQUFDRSxTQUFTLEdBQUdGLFNBQVM7RUFDNUI7RUFDTUcsaUJBQWlCQSxDQUFBLEVBQUc7SUFBQSxJQUFBQyxLQUFBO0lBQUEsT0FBQUMsMElBQUE7TUFDeEIsSUFBSUQsS0FBSSxDQUFDTixNQUFNLEVBQUU7UUFDZixNQUFNTSxLQUFJLENBQUNFLFNBQVMsRUFBRTtNQUN4QjtJQUFDO0VBQ0g7RUFDQTtFQUNNQSxTQUFTQSxDQUFBLEVBQUc7SUFBQSxJQUFBQyxNQUFBO0lBQUEsT0FBQUYsMElBQUE7TUFDaEIsTUFBTUUsTUFBSSxDQUFDQyxpQkFBaUIsRUFBRTtNQUM5QkQsTUFBSSxDQUFDVCxNQUFNLEdBQUcsSUFBSTtJQUFDO0VBQ3JCO0VBQ0FXLFlBQVlBLENBQUNDLFFBQVEsRUFBRTtJQUNyQixJQUFJQSxRQUFRLEVBQUU7TUFDWixJQUFJLENBQUNGLGlCQUFpQixFQUFFO0lBQzFCO0VBQ0Y7RUFDQUEsaUJBQWlCQSxDQUFBLEVBQUc7SUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQ1gsTUFBTSxJQUFJLElBQUksQ0FBQ0ssU0FBUyxJQUFJLElBQUksRUFBRTtNQUMxQyxJ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STNELEVBQUVBLENBQUEsRUFBRztJQUFFLE9BQU92QixxREFBVSxDQUFDLElBQUksQ0FBQztFQUFFO0FBQ3RDLENBQUM7QUFDRCxNQUFNMkQsTUFBTSxHQUFHQSxDQUFDTixJQUFJLEVBQUV4QyxHQUFHLEtBQUs7RUFDNUIsTUFBTXNFLEtBQUssR0FBRyxPQUFPdEUsR0FBRyxLQUFLLFFBQVEsR0FBR3dDLElBQUksQ0FBQytCLElBQUksQ0FBRUMsQ0FBQyxJQUFLQSxDQUFDLENBQUN4RSxHQUFHLEtBQUtBLEdBQUcsQ0FBQyxHQUFHQSxHQUFHO0VBQzdFLElBQUksQ0FBQ3NFLEtBQUssRUFBRTtJQUNWMUQsT0FBTyxDQUFDQyxLQUFLLENBQUUsaUJBQWdCeUQsS0FBTSxrQkFBaUIsQ0FBQztFQUN6RDtFQUNBLE9BQU9BLEtBQUs7QUFDZCxDQUFDO0FBQ0RoRCxJQUFJLENBQUNGLEtBQUssR0FBR0MsT0FBTyIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXRhYl8yLmVudHJ5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogKEMpIElvbmljIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20gLSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyByIGFzIHJlZ2lzdGVySW5zdGFuY2UsIGgsIEggYXMgSG9zdCwgZiBhcyBnZXRFbGVtZW50LCBkIGFzIGNyZWF0ZUV2ZW50IH0gZnJvbSAnLi9pbmRleC1iZTIxOGQ3MC5qcyc7XG5pbXBvcnQgeyBhIGFzIGF0dGFjaENvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrLWRlbGVnYXRlLTI4ZjdlYTI5LmpzJztcbmltcG9ydCAnLi9oZWxwZXJzLTVlYjYzNjRkLmpzJztcblxuY29uc3QgdGFiQ3NzID0gXCI6aG9zdCgudGFiLWhpZGRlbil7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9XCI7XG5cbmNvbnN0IFRhYiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaG9zdFJlZikge1xuICAgIHJlZ2lzdGVySW5zdGFuY2UodGhpcywgaG9zdFJlZik7XG4gICAgdGhpcy5sb2FkZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHRoaXMuZGVsZWdhdGUgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50YWIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5jb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gIH1cbiAgYXN5bmMgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgICBhd2FpdCB0aGlzLnNldEFjdGl2ZSgpO1xuICAgIH1cbiAgfVxuICAvKiogU2V0IHRoZSBhY3RpdmUgY29tcG9uZW50IGZvciB0aGUgdGFiICovXG4gIGFzeW5jIHNldEFjdGl2ZSgpIHtcbiAgICBhd2FpdCB0aGlzLnByZXBhcmVMYXp5TG9hZGVkKCk7XG4gICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICB9XG4gIGNoYW5nZUFjdGl2ZShpc0FjdGl2ZSkge1xuICAgIGlmIChpc0FjdGl2ZSkge1xuICAgICAgdGhpcy5wcmVwYXJlTGF6eUxvYWRlZCgpO1xuICAgIH1cbiAgfVxuICBwcmVwYXJlTGF6eUxvYWRlZCgpIHtcbiAgICBpZiAoIXRoaXMubG9hZGVkICYmIHRoaXMuY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhdHRhY2hDb21wb25lbnQodGhpcy5kZWxlZ2F0ZSwgdGhpcy5lbCwgdGhpcy5jb21wb25lbnQsIFsnaW9uLXBhZ2UnXSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgdGFiLCBhY3RpdmUsIGNvbXBvbmVudCB9ID0gdGhpcztcbiAgICByZXR1cm4gKGgoSG9zdCwgeyByb2xlOiBcInRhYnBhbmVsXCIsIFwiYXJpYS1oaWRkZW5cIjogIWFjdGl2ZSA/ICd0cnVlJyA6IG51bGwsIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGB0YWItYnV0dG9uLSR7dGFifWAsIGNsYXNzOiB7XG4gICAgICAgICdpb24tcGFnZSc6IGNvbXBvbmVudCA9PT0gdW5kZWZpbmVkLFxuICAgICAgICAndGFiLWhpZGRlbic6ICFhY3RpdmUsXG4gICAgICB9IH0sIGgoXCJzbG90XCIsIG51bGwpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxuICBzdGF0aWMgZ2V0IHdhdGNoZXJzKCkgeyByZXR1cm4ge1xuICAgIFwiYWN0aXZlXCI6IFtcImNoYW5nZUFjdGl2ZVwiXVxuICB9OyB9XG59O1xuVGFiLnN0eWxlID0gdGFiQ3NzO1xuXG5jb25zdCB0YWJzQ3NzID0gXCI6aG9zdHtsZWZ0OjA7cmlnaHQ6MDt0b3A6MDtib3R0b206MDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjphYnNvbHV0ZTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2NvbnRhaW46bGF5b3V0IHNpemUgc3R5bGU7ei1pbmRleDowfS50YWJzLWlubmVye3Bvc2l0aW9uOnJlbGF0aXZlOy1tcy1mbGV4OjE7ZmxleDoxO2NvbnRhaW46bGF5b3V0IHNpemUgc3R5bGV9XCI7XG5cbmNvbnN0IFRhYnMgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuaW9uTmF2V2lsbExvYWQgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvbk5hdldpbGxMb2FkXCIsIDcpO1xuICAgIHRoaXMuaW9uVGFic1dpbGxDaGFuZ2UgPSBjcmVhdGVFdmVudCh0aGlzLCBcImlvblRhYnNXaWxsQ2hhbmdlXCIsIDMpO1xuICAgIHRoaXMuaW9uVGFic0RpZENoYW5nZSA9IGNyZWF0ZUV2ZW50KHRoaXMsIFwiaW9uVGFic0RpZENoYW5nZVwiLCAzKTtcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICB0aGlzLm9uVGFiQ2xpY2tlZCA9IChldikgPT4ge1xuICAgICAgY29uc3QgeyBocmVmLCB0YWIgfSA9IGV2LmRldGFpbDtcbiAgICAgIGlmICh0aGlzLnVzZVJvdXRlciAmJiBocmVmICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qgcm91dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW9uLXJvdXRlcicpO1xuICAgICAgICBpZiAocm91dGVyKSB7XG4gICAgICAgICAgcm91dGVyLnB1c2goaHJlZik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnNlbGVjdCh0YWIpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZWxlY3RlZFRhYiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnVzZVJvdXRlciA9IGZhbHNlO1xuICB9XG4gIGFzeW5jIGNvbXBvbmVudFdpbGxMb2FkKCkge1xuICAgIGlmICghdGhpcy51c2VSb3V0ZXIpIHtcbiAgICAgIHRoaXMudXNlUm91dGVyID0gISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpb24tcm91dGVyJykgJiYgIXRoaXMuZWwuY2xvc2VzdCgnW25vLXJvdXRlcl0nKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnVzZVJvdXRlcikge1xuICAgICAgY29uc3QgdGFicyA9IHRoaXMudGFicztcbiAgICAgIGlmICh0YWJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZWxlY3QodGFic1swXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaW9uTmF2V2lsbExvYWQuZW1pdCgpO1xuICB9XG4gIGNvbXBvbmVudFdpbGxSZW5kZXIoKSB7XG4gICAgY29uc3QgdGFiQmFyID0gdGhpcy5lbC5xdWVyeVNlbGVjdG9yKCdpb24tdGFiLWJhcicpO1xuICAgIGlmICh0YWJCYXIpIHtcbiAgICAgIGNvbnN0IHRhYiA9IHRoaXMuc2VsZWN0ZWRUYWIgPyB0aGlzLnNlbGVjdGVkVGFiLnRhYiA6IHVuZGVmaW5lZDtcbiAgICAgIHRhYkJhci5zZWxlY3RlZFRhYiA9IHRhYjtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNlbGVjdCBhIHRhYiBieSB0aGUgdmFsdWUgb2YgaXRzIGB0YWJgIHByb3BlcnR5IG9yIGFuIGVsZW1lbnQgcmVmZXJlbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gdGFiIFRoZSB0YWIgaW5zdGFuY2UgdG8gc2VsZWN0LiBJZiBwYXNzZWQgYSBzdHJpbmcsIGl0IHNob3VsZCBiZSB0aGUgdmFsdWUgb2YgdGhlIHRhYidzIGB0YWJgIHByb3BlcnR5LlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0KHRhYikge1xuICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gZ2V0VGFiKHRoaXMudGFicywgdGFiKTtcbiAgICBpZiAoIXRoaXMuc2hvdWxkU3dpdGNoKHNlbGVjdGVkVGFiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnNldEFjdGl2ZShzZWxlY3RlZFRhYik7XG4gICAgYXdhaXQgdGhpcy5ub3RpZnlSb3V0ZXIoKTtcbiAgICB0aGlzLnRhYlN3aXRjaCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzcGVjaWZpYyB0YWIgYnkgdGhlIHZhbHVlIG9mIGl0cyBgdGFiYCBwcm9wZXJ0eSBvciBhbiBlbGVtZW50IHJlZmVyZW5jZS5cbiAgICpcbiAgICogQHBhcmFtIHRhYiBUaGUgdGFiIGluc3RhbmNlIHRvIHNlbGVjdC4gSWYgcGFzc2VkIGEgc3RyaW5nLCBpdCBzaG91bGQgYmUgdGhlIHZhbHVlIG9mIHRoZSB0YWIncyBgdGFiYCBwcm9wZXJ0eS5cbiAgICovXG4gIGFzeW5jIGdldFRhYih0YWIpIHtcbiAgICByZXR1cm4gZ2V0VGFiKHRoaXMudGFicywgdGFiKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGFiLlxuICAgKi9cbiAgZ2V0U2VsZWN0ZWQoKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnNlbGVjdGVkVGFiID8gdGhpcy5zZWxlY3RlZFRhYi50YWIgOiB1bmRlZmluZWQpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXN5bmMgc2V0Um91dGVJZChpZCkge1xuICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gZ2V0VGFiKHRoaXMudGFicywgaWQpO1xuICAgIGlmICghdGhpcy5zaG91bGRTd2l0Y2goc2VsZWN0ZWRUYWIpKSB7XG4gICAgICByZXR1cm4geyBjaGFuZ2VkOiBmYWxzZSwgZWxlbWVudDogdGhpcy5zZWxlY3RlZFRhYiB9O1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnNldEFjdGl2ZShzZWxlY3RlZFRhYik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNoYW5nZWQ6IHRydWUsXG4gICAgICBlbGVtZW50OiB0aGlzLnNlbGVjdGVkVGFiLFxuICAgICAgbWFya1Zpc2libGU6ICgpID0+IHRoaXMudGFiU3dpdGNoKCksXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzeW5jIGdldFJvdXRlSWQoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHRhYklkID0gKF9hID0gdGhpcy5zZWxlY3RlZFRhYikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhYjtcbiAgICByZXR1cm4gdGFiSWQgIT09IHVuZGVmaW5lZCA/IHsgaWQ6IHRhYklkLCBlbGVtZW50OiB0aGlzLnNlbGVjdGVkVGFiIH0gOiB1bmRlZmluZWQ7XG4gIH1cbiAgc2V0QWN0aXZlKHNlbGVjdGVkVGFiKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCd0cmFuc2l0aW9uaW5nIGFscmVhZHkgaGFwcGVuaW5nJyk7XG4gICAgfVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgdGhpcy5sZWF2aW5nVGFiID0gdGhpcy5zZWxlY3RlZFRhYjtcbiAgICB0aGlzLnNlbGVjdGVkVGFiID0gc2VsZWN0ZWRUYWI7XG4gICAgdGhpcy5pb25UYWJzV2lsbENoYW5nZS5lbWl0KHsgdGFiOiBzZWxlY3RlZFRhYi50YWIgfSk7XG4gICAgc2VsZWN0ZWRUYWIuYWN0aXZlID0gdHJ1ZTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cbiAgdGFiU3dpdGNoKCkge1xuICAgIGNvbnN0IHNlbGVjdGVkVGFiID0gdGhpcy5zZWxlY3RlZFRhYjtcbiAgICBjb25zdCBsZWF2aW5nVGFiID0gdGhpcy5sZWF2aW5nVGFiO1xuICAgIHRoaXMubGVhdmluZ1RhYiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICBpZiAoIXNlbGVjdGVkVGFiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChsZWF2aW5nVGFiICE9PSBzZWxlY3RlZFRhYikge1xuICAgICAgaWYgKGxlYXZpbmdUYWIpIHtcbiAgICAgICAgbGVhdmluZ1RhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaW9uVGFic0RpZENoYW5nZS5lbWl0KHsgdGFiOiBzZWxlY3RlZFRhYi50YWIgfSk7XG4gICAgfVxuICB9XG4gIG5vdGlmeVJvdXRlcigpIHtcbiAgICBpZiAodGhpcy51c2VSb3V0ZXIpIHtcbiAgICAgIGNvbnN0IHJvdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lvbi1yb3V0ZXInKTtcbiAgICAgIGlmIChyb3V0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHJvdXRlci5uYXZDaGFuZ2VkKCdmb3J3YXJkJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpO1xuICB9XG4gIHNob3VsZFN3aXRjaChzZWxlY3RlZFRhYikge1xuICAgIGNvbnN0IGxlYXZpbmdUYWIgPSB0aGlzLnNlbGVjdGVkVGFiO1xuICAgIHJldHVybiBzZWxlY3RlZFRhYiAhPT0gdW5kZWZpbmVkICYmIHNlbGVjdGVkVGFiICE9PSBsZWF2aW5nVGFiICYmICF0aGlzLnRyYW5zaXRpb25pbmc7XG4gIH1cbiAgZ2V0IHRhYnMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5lbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tdGFiJykpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKGgoSG9zdCwgeyBvbklvblRhYkJ1dHRvbkNsaWNrOiB0aGlzLm9uVGFiQ2xpY2tlZCB9LCBoKFwic2xvdFwiLCB7IG5hbWU6IFwidG9wXCIgfSksIGgoXCJkaXZcIiwgeyBjbGFzczogXCJ0YWJzLWlubmVyXCIgfSwgaChcInNsb3RcIiwgbnVsbCkpLCBoKFwic2xvdFwiLCB7IG5hbWU6IFwiYm90dG9tXCIgfSkpKTtcbiAgfVxuICBnZXQgZWwoKSB7IHJldHVybiBnZXRFbGVtZW50KHRoaXMpOyB9XG59O1xuY29uc3QgZ2V0VGFiID0gKHRhYnMsIHRhYikgPT4ge1xuICBjb25zdCB0YWJFbCA9IHR5cGVvZiB0YWIgPT09ICdzdHJpbmcnID8gdGFicy5maW5kKCh0KSA9PiB0LnRhYiA9PT0gdGFiKSA6IHRhYjtcbiAgaWYgKCF0YWJFbCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYHRhYiB3aXRoIGlkOiBcIiR7dGFiRWx9XCIgZG9lcyBub3QgZXhpc3RgKTtcbiAgfVxuICByZXR1cm4gdGFiRWw7XG59O1xuVGFicy5zdHlsZSA9IHRhYnNDc3M7XG5cbmV4cG9ydCB7IFRhYiBhcyBpb25fdGFiLCBUYWJzIGFzIGlvbl90YWJzIH07XG4iXSwibmFtZXMiOlsiciIsInJlZ2lzdGVySW5zdGFuY2UiLCJoIiwiSCIsIkhvc3QiLCJmIiwiZ2V0RWxlbWVudCIsImQiLCJjcmVhdGVFdmVudCIsImEiLCJhdHRhY2hDb21wb25lbnQiLCJ0YWJDc3MiLCJUYWIiLCJjb25zdHJ1Y3RvciIsImhvc3RSZWYiLCJsb2FkZWQiLCJhY3RpdmUiLCJkZWxlZ2F0ZSIsInVuZGVmaW5lZCIsInRhYiIsImNvbXBvbmVudCIsImNvbXBvbmVudFdpbGxMb2FkIiwiX3RoaXMiLCJfYXN5bmNUb0dlbmVyYXRvciIsInNldEFjdGl2ZSIsIl90aGlzMiIsInByZXBhcmVMYXp5TG9hZGVkIiwiY2hhbmdlQWN0aXZlIiwiaXNBY3RpdmUiLCJlbCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlbmRlciIsInJvbGUiLCJjbGFzcyIsIndhdGNoZXJzIiwic3R5bGUiLCJ0YWJzQ3NzIiwiVGFicyIsImlvbk5hdldpbGxMb2FkIiwiaW9uVGFic1dpbGxDaGFuZ2UiLCJpb25UYWJzRGlkQ2hhbmdlIiwidHJhbnNpdGlvbmluZyIsIm9uVGFiQ2xpY2tlZCIsImV2IiwiaHJlZiIsImRldGFpbCIsInVzZVJvdXRlciIsInJvdXRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInB1c2giLCJzZWxlY3QiLCJzZWxlY3RlZFRhYiIsIl90aGlzMyIsImNsb3Nlc3QiLCJ0YWJzIiwibGVuZ3RoIiwiZW1pdCIsImNvbXBvbmVudFdpbGxSZW5kZXIiLCJ0YWJCYXIiLCJfdGhpczQiLCJnZXRUYWIiLCJzaG91bGRTd2l0Y2giLCJub3RpZnlSb3V0ZXIiLCJ0YWJTd2l0Y2giLCJfdGhpczUiLCJnZXRTZWxlY3RlZCIsInNldFJvdXRlSWQiLCJpZCIsIl90aGlzNiIsImNoYW5nZWQiLCJlbGVtZW50IiwibWFya1Zpc2libGUiLCJnZXRSb3V0ZUlkIiwiX3RoaXM3IiwiX2EiLCJ0YWJJZCIsInJlamVjdCIsImxlYXZpbmdUYWIiLCJuYXZDaGFuZ2VkIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm9uSW9uVGFiQnV0dG9uQ2xpY2siLCJuYW1lIiwidGFiRWwiLCJmaW5kIiwidCIsImlvbl90YWIiLCJpb25fdGFicyJdLCJzb3VyY2VSb290Ijoid2VicGFjazovLy8iLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMF19