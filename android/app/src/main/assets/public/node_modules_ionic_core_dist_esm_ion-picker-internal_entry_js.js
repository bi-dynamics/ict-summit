"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_ionic_core_dist_esm_ion-picker-internal_entry_js"],{

/***/ 93068:
/*!************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm/ion-picker-internal.entry.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ion_picker_internal: () => (/* binding */ PickerInternal)
/* harmony export */ });
/* harmony import */ var C_Users_Blessing_Kunaka_Desktop_mining_expo_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 71670);
/* harmony import */ var _index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index-36a5fd75.js */ 78705);
/* harmony import */ var _helpers_f586db1c_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helpers-f586db1c.js */ 75272);

/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */


const pickerInternalIosCss = ":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}@supports (inset-inline-start: 0){:host .picker-before{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-before{left:0}:host-context([dir=rtl]) .picker-before{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host .picker-before:dir(rtl){left:unset;right:unset;right:0}}}:host .picker-after{top:116px;height:84px}@supports (inset-inline-start: 0){:host .picker-after{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-after{left:0}:host-context([dir=rtl]) .picker-after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host .picker-after:dir(rtl){left:unset;right:unset;right:0}}}:host .picker-highlight{border-radius:8px;left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:var(--wheel-highlight-background);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column-internal:first-of-type){text-align:start}:host ::slotted(ion-picker-column-internal:last-of-type){text-align:end}:host ::slotted(ion-picker-column-internal:only-child){text-align:center}:host .picker-before{background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), to(rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8)));background:linear-gradient(to bottom, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8) 100%)}:host .picker-after{background:-webkit-gradient(linear, left bottom, left top, color-stop(20%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), to(rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8)));background:linear-gradient(to top, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0.8) 100%)}:host .picker-highlight{background:var(--wheel-highlight-background, var(--ion-color-step-150, #eeeeef))}";
const pickerInternalMdCss = ":host{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}@supports (inset-inline-start: 0){:host .picker-before{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-before{left:0}:host-context([dir=rtl]) .picker-before{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host .picker-before:dir(rtl){left:unset;right:unset;right:0}}}:host .picker-after{top:116px;height:84px}@supports (inset-inline-start: 0){:host .picker-after{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-after{left:0}:host-context([dir=rtl]) .picker-after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host .picker-after:dir(rtl){left:unset;right:unset;right:0}}}:host .picker-highlight{border-radius:8px;left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;-webkit-transform:translateY(-50%);transform:translateY(-50%);background:var(--wheel-highlight-background);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column-internal:first-of-type){text-align:start}:host ::slotted(ion-picker-column-internal:last-of-type){text-align:end}:host ::slotted(ion-picker-column-internal:only-child){text-align:center}:host .picker-before{background:-webkit-gradient(linear, left top, left bottom, color-stop(20%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), color-stop(90%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0)));background:linear-gradient(to bottom, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 20%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0) 90%)}:host .picker-after{background:-webkit-gradient(linear, left bottom, left top, color-stop(30%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1)), color-stop(90%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0)));background:linear-gradient(to top, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 1) 30%, rgba(var(--wheel-fade-background-rgb, var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255))), 0) 90%)}";
const PickerInternal = class {
  constructor(hostRef) {
    (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.r)(this, hostRef);
    this.ionInputModeChange = (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.d)(this, "ionInputModeChange", 7);
    this.useInputMode = false;
    this.isInHighlightBounds = ev => {
      const {
        highlightEl
      } = this;
      if (!highlightEl) {
        return false;
      }
      const bbox = highlightEl.getBoundingClientRect();
      /**
       * Check to see if the user clicked
       * outside the bounds of the highlight.
       */
      const outsideX = ev.clientX < bbox.left || ev.clientX > bbox.right;
      const outsideY = ev.clientY < bbox.top || ev.clientY > bbox.bottom;
      if (outsideX || outsideY) {
        return false;
      }
      return true;
    };
    /**
     * If we are no longer focused
     * on a picker column, then we should
     * exit input mode. An exception is made
     * for the input in the picker since having
     * that focused means we are still in input mode.
     */
    this.onFocusOut = ev => {
      // TODO(FW-2832): type
      const {
        relatedTarget
      } = ev;
      if (!relatedTarget || relatedTarget.tagName !== 'ION-PICKER-COLUMN-INTERNAL' && relatedTarget !== this.inputEl) {
        this.exitInputMode();
      }
    };
    /**
     * When picker columns receive focus
     * the parent picker needs to determine
     * whether to enter/exit input mode.
     */
    this.onFocusIn = ev => {
      // TODO(FW-2832): type
      const {
        target
      } = ev;
      /**
       * Due to browser differences in how/when focus
       * is dispatched on certain elements, we need to
       * make sure that this function only ever runs when
       * focusing a picker column.
       */
      if (target.tagName !== 'ION-PICKER-COLUMN-INTERNAL') {
        return;
      }
      /**
       * If we have actionOnClick
       * then this means the user focused
       * a picker column via mouse or
       * touch (i.e. a PointerEvent). As a result,
       * we should not enter/exit input mode
       * until the click event has fired, which happens
       * after the `focusin` event.
       *
       * Otherwise, the user likely focused
       * the column using their keyboard and
       * we should enter/exit input mode automatically.
       */
      if (!this.actionOnClick) {
        const columnEl = target;
        const allowInput = columnEl.numericInput;
        if (allowInput) {
          this.enterInputMode(columnEl, false);
        } else {
          this.exitInputMode();
        }
      }
    };
    /**
     * On click we need to run an actionOnClick
     * function that has been set in onPointerDown
     * so that we enter/exit input mode correctly.
     */
    this.onClick = () => {
      const {
        actionOnClick
      } = this;
      if (actionOnClick) {
        actionOnClick();
        this.actionOnClick = undefined;
      }
    };
    /**
     * Clicking a column also focuses the column on
     * certain browsers, so we use onPointerDown
     * to tell the onFocusIn function that users
     * are trying to click the column rather than
     * focus the column using the keyboard. When the
     * user completes the click, the onClick function
     * runs and runs the actionOnClick callback.
     */
    this.onPointerDown = ev => {
      const {
        useInputMode,
        inputModeColumn,
        el
      } = this;
      if (this.isInHighlightBounds(ev)) {
        /**
         * If we were already in
         * input mode, then we should determine
         * if we tapped a particular column and
         * should switch to input mode for
         * that specific column.
         */
        if (useInputMode) {
          /**
           * If we tapped a picker column
           * then we should either switch to input
           * mode for that column or all columns.
           * Otherwise we should exit input mode
           * since we just tapped the highlight and
           * not a column.
           */
          if (ev.target.tagName === 'ION-PICKER-COLUMN-INTERNAL') {
            /**
             * If user taps 2 different columns
             * then we should just switch to input mode
             * for the new column rather than switching to
             * input mode for all columns.
             */
            if (inputModeColumn && inputModeColumn === ev.target) {
              this.actionOnClick = () => {
                this.enterInputMode();
              };
            } else {
              this.actionOnClick = () => {
                this.enterInputMode(ev.target);
              };
            }
          } else {
            this.actionOnClick = () => {
              this.exitInputMode();
            };
          }
          /**
           * If we were not already in
           * input mode, then we should
           * enter input mode for all columns.
           */
        } else {
          /**
           * If there is only 1 numeric input column
           * then we should skip multi column input.
           */
          const columns = el.querySelectorAll('ion-picker-column-internal.picker-column-numeric-input');
          const columnEl = columns.length === 1 ? ev.target : undefined;
          this.actionOnClick = () => {
            this.enterInputMode(columnEl);
          };
        }
        return;
      }
      this.actionOnClick = () => {
        this.exitInputMode();
      };
    };
    /**
     * Enters input mode to allow
     * for text entry of numeric values.
     * If on mobile, we focus a hidden input
     * field so that the on screen keyboard
     * is brought up. When tabbing using a
     * keyboard, picker columns receive an outline
     * to indicate they are focused. As a result,
     * we should not focus the hidden input as it
     * would cause the outline to go away, preventing
     * users from having any visual indication of which
     * column is focused.
     */
    this.enterInputMode = (columnEl, focusInput = true) => {
      const {
        inputEl,
        el
      } = this;
      if (!inputEl) {
        return;
      }
      /**
       * Only active input mode if there is at
       * least one column that accepts numeric input.
       */
      const hasInputColumn = el.querySelector('ion-picker-column-internal.picker-column-numeric-input');
      if (!hasInputColumn) {
        return;
      }
      /**
       * If columnEl is undefined then
       * it is assumed that all numeric pickers
       * are eligible for text entry.
       * (i.e. hour and minute columns)
       */
      this.useInputMode = true;
      this.inputModeColumn = columnEl;
      /**
       * Users with a keyboard and mouse can
       * activate input mode where the input is
       * focused as well as when it is not focused,
       * so we need to make sure we clean up any
       * old listeners.
       */
      if (focusInput) {
        if (this.destroyKeypressListener) {
          this.destroyKeypressListener();
          this.destroyKeypressListener = undefined;
        }
        inputEl.focus();
      } else {
        el.addEventListener('keypress', this.onKeyPress);
        this.destroyKeypressListener = () => {
          el.removeEventListener('keypress', this.onKeyPress);
        };
      }
      this.emitInputModeChange();
    };
    this.onKeyPress = ev => {
      const {
        inputEl
      } = this;
      if (!inputEl) {
        return;
      }
      const parsedValue = parseInt(ev.key, 10);
      /**
       * Only numbers should be allowed
       */
      if (!Number.isNaN(parsedValue)) {
        inputEl.value += ev.key;
        this.onInputChange();
      }
    };
    this.selectSingleColumn = () => {
      const {
        inputEl,
        inputModeColumn,
        singleColumnSearchTimeout
      } = this;
      if (!inputEl || !inputModeColumn) {
        return;
      }
      const values = inputModeColumn.items.filter(item => item.disabled !== true);
      /**
       * If users pause for a bit, the search
       * value should be reset similar to how a
       * <select> behaves. So typing "34", waiting,
       * then typing "5" should select "05".
       */
      if (singleColumnSearchTimeout) {
        clearTimeout(singleColumnSearchTimeout);
      }
      this.singleColumnSearchTimeout = setTimeout(() => {
        inputEl.value = '';
        this.singleColumnSearchTimeout = undefined;
      }, 1000);
      /**
       * For values that are longer than 2 digits long
       * we should shift the value over 1 character
       * to the left. So typing "456" would result in "56".
       * TODO: If we want to support more than just
       * time entry, we should update this value to be
       * the max length of all of the picker items.
       */
      if (inputEl.value.length >= 3) {
        const startIndex = inputEl.value.length - 2;
        const newString = inputEl.value.substring(startIndex);
        inputEl.value = newString;
        this.selectSingleColumn();
        return;
      }
      /**
       * Checking the value of the input gets priority
       * first. For example, if the value of the input
       * is "1" and we entered "2", then the complete value
       * is "12" and we should select hour 12.
       *
       * Regex removes any leading zeros from values like "02",
       * but it keeps a single zero if there are only zeros in the string.
       * 0+(?=[1-9]) --> Match 1 or more zeros that are followed by 1-9
       * 0+(?=0$) --> Match 1 or more zeros that must be followed by one 0 and end.
       */
      const findItemFromCompleteValue = values.find(({
        text
      }) => {
        const parsedText = text.replace(/^0+(?=[1-9])|0+(?=0$)/, '');
        return parsedText === inputEl.value;
      });
      if (findItemFromCompleteValue) {
        inputModeColumn.setValue(findItemFromCompleteValue.value);
        return;
      }
      /**
       * If we typed "56" to get minute 56, then typed "7",
       * we should select "07" as "567" is not a valid minute.
       */
      if (inputEl.value.length === 2) {
        const changedCharacter = inputEl.value.substring(inputEl.value.length - 1);
        inputEl.value = changedCharacter;
        this.selectSingleColumn();
      }
    };
    /**
     * Searches a list of column items for a particular
     * value. This is currently used for numeric values.
     * The zeroBehavior can be set to account for leading
     * or trailing zeros when looking at the item text.
     */
    this.searchColumn = (colEl, value, zeroBehavior = 'start') => {
      const behavior = zeroBehavior === 'start' ? /^0+/ : /0$/;
      const item = colEl.items.find(({
        text,
        disabled
      }) => disabled !== true && text.replace(behavior, '') === value);
      if (item) {
        colEl.setValue(item.value);
      }
    };
    this.selectMultiColumn = () => {
      const {
        inputEl,
        el
      } = this;
      if (!inputEl) {
        return;
      }
      const numericPickers = Array.from(el.querySelectorAll('ion-picker-column-internal')).filter(col => col.numericInput);
      const firstColumn = numericPickers[0];
      const lastColumn = numericPickers[1];
      let value = inputEl.value;
      let minuteValue;
      switch (value.length) {
        case 1:
          this.searchColumn(firstColumn, value);
          break;
        case 2:
          /**
           * If the first character is `0` or `1` it is
           * possible that users are trying to type `09`
           * or `11` into the hour field, so we should look
           * at that first.
           */
          const firstCharacter = inputEl.value.substring(0, 1);
          value = firstCharacter === '0' || firstCharacter === '1' ? inputEl.value : firstCharacter;
          this.searchColumn(firstColumn, value);
          /**
           * If only checked the first value,
           * we can check the second value
           * for a match in the minutes column
           */
          if (value.length === 1) {
            minuteValue = inputEl.value.substring(inputEl.value.length - 1);
            this.searchColumn(lastColumn, minuteValue, 'end');
          }
          break;
        case 3:
          /**
           * If the first character is `0` or `1` it is
           * possible that users are trying to type `09`
           * or `11` into the hour field, so we should look
           * at that first.
           */
          const firstCharacterAgain = inputEl.value.substring(0, 1);
          value = firstCharacterAgain === '0' || firstCharacterAgain === '1' ? inputEl.value.substring(0, 2) : firstCharacterAgain;
          this.searchColumn(firstColumn, value);
          /**
           * If only checked the first value,
           * we can check the second value
           * for a match in the minutes column
           */
          minuteValue = value.length === 1 ? inputEl.value.substring(1) : inputEl.value.substring(2);
          this.searchColumn(lastColumn, minuteValue, 'end');
          break;
        case 4:
          /**
           * If the first character is `0` or `1` it is
           * possible that users are trying to type `09`
           * or `11` into the hour field, so we should look
           * at that first.
           */
          const firstCharacterAgainAgain = inputEl.value.substring(0, 1);
          value = firstCharacterAgainAgain === '0' || firstCharacterAgainAgain === '1' ? inputEl.value.substring(0, 2) : firstCharacterAgainAgain;
          this.searchColumn(firstColumn, value);
          /**
           * If only checked the first value,
           * we can check the second value
           * for a match in the minutes column
           */
          const minuteValueAgain = value.length === 1 ? inputEl.value.substring(1, inputEl.value.length) : inputEl.value.substring(2, inputEl.value.length);
          this.searchColumn(lastColumn, minuteValueAgain, 'end');
          break;
        default:
          const startIndex = inputEl.value.length - 4;
          const newString = inputEl.value.substring(startIndex);
          inputEl.value = newString;
          this.selectMultiColumn();
          break;
      }
    };
    /**
     * Searches the value of the active column
     * to determine which value users are trying
     * to select
     */
    this.onInputChange = () => {
      const {
        useInputMode,
        inputEl,
        inputModeColumn
      } = this;
      if (!useInputMode || !inputEl) {
        return;
      }
      if (inputModeColumn) {
        this.selectSingleColumn();
      } else {
        this.selectMultiColumn();
      }
    };
    /**
     * Emit ionInputModeChange. Picker columns
     * listen for this event to determine whether
     * or not their column is "active" for text input.
     */
    this.emitInputModeChange = () => {
      const {
        useInputMode,
        inputModeColumn
      } = this;
      this.ionInputModeChange.emit({
        useInputMode,
        inputModeColumn
      });
    };
  }
  /**
   * When the picker is interacted with
   * we need to prevent touchstart so other
   * gestures do not fire. For example,
   * scrolling on the wheel picker
   * in ion-datetime should not cause
   * a card modal to swipe to close.
   */
  preventTouchStartPropagation(ev) {
    ev.stopPropagation();
  }
  componentWillLoad() {
    (0,_helpers_f586db1c_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.el).addEventListener('focusin', this.onFocusIn);
    (0,_helpers_f586db1c_js__WEBPACK_IMPORTED_MODULE_2__.g)(this.el).addEventListener('focusout', this.onFocusOut);
  }
  /**
   * @internal
   * Exits text entry mode for the picker
   * This method blurs the hidden input
   * and cause the keyboard to dismiss.
   */
  exitInputMode() {
    var _this = this;
    return (0,C_Users_Blessing_Kunaka_Desktop_mining_expo_mining_expo_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const {
        inputEl,
        useInputMode
      } = _this;
      if (!useInputMode || !inputEl) {
        return;
      }
      _this.useInputMode = false;
      _this.inputModeColumn = undefined;
      inputEl.blur();
      inputEl.value = '';
      if (_this.destroyKeypressListener) {
        _this.destroyKeypressListener();
        _this.destroyKeypressListener = undefined;
      }
      _this.emitInputModeChange();
    })();
  }
  render() {
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)(_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.H, {
      onPointerDown: ev => this.onPointerDown(ev),
      onClick: () => this.onClick()
    }, (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("input", {
      "aria-hidden": "true",
      tabindex: -1,
      inputmode: "numeric",
      type: "number",
      ref: el => this.inputEl = el,
      onInput: () => this.onInputChange(),
      onBlur: () => this.exitInputMode()
    }), (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-before"
    }), (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-after"
    }), (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("div", {
      class: "picker-highlight",
      ref: el => this.highlightEl = el
    }), (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.h)("slot", null));
  }
  get el() {
    return (0,_index_36a5fd75_js__WEBPACK_IMPORTED_MODULE_1__.f)(this);
  }
};
PickerInternal.style = {
  ios: pickerInternalIosCss,
  md: pickerInternalMdCss
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2lvbmljX2NvcmVfZGlzdF9lc21faW9uLXBpY2tlci1pbnRlcm5hbF9lbnRyeV9qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUM2RztBQUNqRDtBQUU1RCxNQUFNVyxvQkFBb0IsR0FBRyx3bEdBQXdsRztBQUVybkcsTUFBTUMsbUJBQW1CLEdBQUcsKy9GQUErL0Y7QUFFM2hHLE1BQU1DLGNBQWMsR0FBRyxNQUFNO0VBQzNCQyxXQUFXQSxDQUFDQyxPQUFPLEVBQUU7SUFDbkJkLHFEQUFnQixDQUFDLElBQUksRUFBRWMsT0FBTyxDQUFDO0lBQy9CLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUdiLHFEQUFXLENBQUMsSUFBSSxFQUFFLG9CQUFvQixFQUFFLENBQUMsQ0FBQztJQUNwRSxJQUFJLENBQUNjLFlBQVksR0FBRyxLQUFLO0lBQ3pCLElBQUksQ0FBQ0MsbUJBQW1CLEdBQUlDLEVBQUUsSUFBSztNQUNqQyxNQUFNO1FBQUVDO01BQVksQ0FBQyxHQUFHLElBQUk7TUFDNUIsSUFBSSxDQUFDQSxXQUFXLEVBQUU7UUFDaEIsT0FBTyxLQUFLO01BQ2Q7TUFDQSxNQUFNQyxJQUFJLEdBQUdELFdBQVcsQ0FBQ0UscUJBQXFCLENBQUMsQ0FBQztNQUNoRDtBQUNOO0FBQ0E7QUFDQTtNQUNNLE1BQU1DLFFBQVEsR0FBR0osRUFBRSxDQUFDSyxPQUFPLEdBQUdILElBQUksQ0FBQ0ksSUFBSSxJQUFJTixFQUFFLENBQUNLLE9BQU8sR0FBR0gsSUFBSSxDQUFDSyxLQUFLO01BQ2xFLE1BQU1DLFFBQVEsR0FBR1IsRUFBRSxDQUFDUyxPQUFPLEdBQUdQLElBQUksQ0FBQ1EsR0FBRyxJQUFJVixFQUFFLENBQUNTLE9BQU8sR0FBR1AsSUFBSSxDQUFDUyxNQUFNO01BQ2xFLElBQUlQLFFBQVEsSUFBSUksUUFBUSxFQUFFO1FBQ3hCLE9BQU8sS0FBSztNQUNkO01BQ0EsT0FBTyxJQUFJO0lBQ2IsQ0FBQztJQUNE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RSxNQUFNO01BQUUwRyxRQUFRLEVBQUUsQ0FBQyxDQUFDO01BQUVDLFNBQVMsRUFBRSxTQUFTO01BQUVDLElBQUksRUFBRSxRQUFRO01BQUVDLEdBQUcsRUFBR2xFLEVBQUUsSUFBTSxJQUFJLENBQUNiLE9BQU8sR0FBR2EsRUFBRztNQUFFbUUsT0FBTyxFQUFFQSxDQUFBLEtBQU0sSUFBSSxDQUFDaEQsYUFBYSxDQUFDLENBQUM7TUFBRWlELE1BQU0sRUFBRUEsQ0FBQSxLQUFNLElBQUksQ0FBQ2hGLGFBQWEsQ0FBQztJQUFFLENBQUMsQ0FBQyxFQUFFL0IscURBQUMsQ0FBQyxLQUFLLEVBQUU7TUFBRWdILEtBQUssRUFBRTtJQUFnQixDQUFDLENBQUMsRUFBRWhILHFEQUFDLENBQUMsS0FBSyxFQUFFO01BQUVnSCxLQUFLLEVBQUU7SUFBZSxDQUFDLENBQUMsRUFBRWhILHFEQUFDLENBQUMsS0FBSyxFQUFFO01BQUVnSCxLQUFLLEVBQUUsa0JBQWtCO01BQUVILEdBQUcsRUFBR2xFLEVBQUUsSUFBTSxJQUFJLENBQUMzQixXQUFXLEdBQUcyQjtJQUFJLENBQUMsQ0FBQyxFQUFFM0MscURBQUMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7RUFDcGQ7RUFDQSxJQUFJMkMsRUFBRUEsQ0FBQSxFQUFHO0lBQUUsT0FBT3ZDLHFEQUFVLENBQUMsSUFBSSxDQUFDO0VBQUU7QUFDdEMsQ0FBQztBQUNESyxjQUFjLENBQUN3RyxLQUFLLEdBQUc7RUFDckJDLEdBQUcsRUFBRTNHLG9CQUFvQjtFQUN6QjRHLEVBQUUsRUFBRTNHO0FBQ04sQ0FBQyIsInNvdXJjZXMiOlsiLi9ub2RlX21vZHVsZXMvQGlvbmljL2NvcmUvZGlzdC9lc20vaW9uLXBpY2tlci1pbnRlcm5hbC5lbnRyeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIChDKSBJb25pYyBodHRwOi8vaW9uaWNmcmFtZXdvcmsuY29tIC0gTUlUIExpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgciBhcyByZWdpc3Rlckluc3RhbmNlLCBkIGFzIGNyZWF0ZUV2ZW50LCBoLCBIIGFzIEhvc3QsIGYgYXMgZ2V0RWxlbWVudCB9IGZyb20gJy4vaW5kZXgtMzZhNWZkNzUuanMnO1xuaW1wb3J0IHsgZyBhcyBnZXRFbGVtZW50Um9vdCB9IGZyb20gJy4vaGVscGVycy1mNTg2ZGIxYy5qcyc7XG5cbmNvbnN0IHBpY2tlckludGVybmFsSW9zQ3NzID0gXCI6aG9zdHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJTtoZWlnaHQ6MjAwcHg7ZGlyZWN0aW9uOmx0cjt6LWluZGV4OjB9Omhvc3QgLnBpY2tlci1iZWZvcmUsOmhvc3QgLnBpY2tlci1hZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7ei1pbmRleDoxO3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QgLnBpY2tlci1iZWZvcmV7dG9wOjA7aGVpZ2h0OjgzcHh9QHN1cHBvcnRzIChpbnNldC1pbmxpbmUtc3RhcnQ6IDApezpob3N0IC5waWNrZXItYmVmb3Jle2luc2V0LWlubGluZS1zdGFydDowfX1Ac3VwcG9ydHMgbm90IChpbnNldC1pbmxpbmUtc3RhcnQ6IDApezpob3N0IC5waWNrZXItYmVmb3Jle2xlZnQ6MH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnBpY2tlci1iZWZvcmV7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfUBzdXBwb3J0cyBzZWxlY3Rvcig6ZGlyKHJ0bCkpezpob3N0IC5waWNrZXItYmVmb3JlOmRpcihydGwpe2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH19fTpob3N0IC5waWNrZXItYWZ0ZXJ7dG9wOjExNnB4O2hlaWdodDo4NHB4fUBzdXBwb3J0cyAoaW5zZXQtaW5saW5lLXN0YXJ0OiAwKXs6aG9zdCAucGlja2VyLWFmdGVye2luc2V0LWlubGluZS1zdGFydDowfX1Ac3VwcG9ydHMgbm90IChpbnNldC1pbmxpbmUtc3RhcnQ6IDApezpob3N0IC5waWNrZXItYWZ0ZXJ7bGVmdDowfTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucGlja2VyLWFmdGVye2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH1Ac3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKXs6aG9zdCAucGlja2VyLWFmdGVyOmRpcihydGwpe2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH19fTpob3N0IC5waWNrZXItaGlnaGxpZ2h0e2JvcmRlci1yYWRpdXM6OHB4O2xlZnQ6MDtyaWdodDowO3RvcDo1MCU7Ym90dG9tOjA7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0bzttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOmNhbGMoMTAwJSAtIDE2cHgpO2hlaWdodDozNHB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7YmFja2dyb3VuZDp2YXIoLS13aGVlbC1oaWdobGlnaHQtYmFja2dyb3VuZCk7ei1pbmRleDotMX06aG9zdCBpbnB1dHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO21hcmdpbjowO3BhZGRpbmc6MDtib3JkZXI6MDtvdXRsaW5lOjA7Y2xpcDpyZWN0KDAgMCAwIDApO29wYWNpdHk6MDtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmV9Omhvc3QgOjpzbG90dGVkKGlvbi1waWNrZXItY29sdW1uLWludGVybmFsOmZpcnN0LW9mLXR5cGUpe3RleHQtYWxpZ246c3RhcnR9Omhvc3QgOjpzbG90dGVkKGlvbi1waWNrZXItY29sdW1uLWludGVybmFsOmxhc3Qtb2YtdHlwZSl7dGV4dC1hbGlnbjplbmR9Omhvc3QgOjpzbG90dGVkKGlvbi1waWNrZXItY29sdW1uLWludGVybmFsOm9ubHktY2hpbGQpe3RleHQtYWxpZ246Y2VudGVyfTpob3N0IC5waWNrZXItYmVmb3Jle2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgY29sb3Itc3RvcCgyMCUsIHJnYmEodmFyKC0td2hlZWwtZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMSkpLCB0byhyZ2JhKHZhcigtLXdoZWVsLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDAuOCkpKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20sIHJnYmEodmFyKC0td2hlZWwtZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMSkgMjAlLCByZ2JhKHZhcigtLXdoZWVsLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDAuOCkgMTAwJSl9Omhvc3QgLnBpY2tlci1hZnRlcntiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IGJvdHRvbSwgbGVmdCB0b3AsIGNvbG9yLXN0b3AoMjAlLCByZ2JhKHZhcigtLXdoZWVsLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDEpKSwgdG8ocmdiYSh2YXIoLS13aGVlbC1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAwLjgpKSk7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gdG9wLCByZ2JhKHZhcigtLXdoZWVsLWZhZGUtYmFja2dyb3VuZC1yZ2IsIHZhcigtLWJhY2tncm91bmQtcmdiLCB2YXIoLS1pb24tYmFja2dyb3VuZC1jb2xvci1yZ2IsIDI1NSwgMjU1LCAyNTUpKSksIDEpIDIwJSwgcmdiYSh2YXIoLS13aGVlbC1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAwLjgpIDEwMCUpfTpob3N0IC5waWNrZXItaGlnaGxpZ2h0e2JhY2tncm91bmQ6dmFyKC0td2hlZWwtaGlnaGxpZ2h0LWJhY2tncm91bmQsIHZhcigtLWlvbi1jb2xvci1zdGVwLTE1MCwgI2VlZWVlZikpfVwiO1xuXG5jb25zdCBwaWNrZXJJbnRlcm5hbE1kQ3NzID0gXCI6aG9zdHtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtwb3NpdGlvbjpyZWxhdGl2ZTstbXMtZmxleC1hbGlnbjpjZW50ZXI7YWxpZ24taXRlbXM6Y2VudGVyOy1tcy1mbGV4LXBhY2s6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7d2lkdGg6MTAwJTtoZWlnaHQ6MjAwcHg7ZGlyZWN0aW9uOmx0cjt6LWluZGV4OjB9Omhvc3QgLnBpY2tlci1iZWZvcmUsOmhvc3QgLnBpY2tlci1hZnRlcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7ei1pbmRleDoxO3BvaW50ZXItZXZlbnRzOm5vbmV9Omhvc3QgLnBpY2tlci1iZWZvcmV7dG9wOjA7aGVpZ2h0OjgzcHh9QHN1cHBvcnRzIChpbnNldC1pbmxpbmUtc3RhcnQ6IDApezpob3N0IC5waWNrZXItYmVmb3Jle2luc2V0LWlubGluZS1zdGFydDowfX1Ac3VwcG9ydHMgbm90IChpbnNldC1pbmxpbmUtc3RhcnQ6IDApezpob3N0IC5waWNrZXItYmVmb3Jle2xlZnQ6MH06aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgLnBpY2tlci1iZWZvcmV7bGVmdDp1bnNldDtyaWdodDp1bnNldDtyaWdodDowfUBzdXBwb3J0cyBzZWxlY3Rvcig6ZGlyKHJ0bCkpezpob3N0IC5waWNrZXItYmVmb3JlOmRpcihydGwpe2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH19fTpob3N0IC5waWNrZXItYWZ0ZXJ7dG9wOjExNnB4O2hlaWdodDo4NHB4fUBzdXBwb3J0cyAoaW5zZXQtaW5saW5lLXN0YXJ0OiAwKXs6aG9zdCAucGlja2VyLWFmdGVye2luc2V0LWlubGluZS1zdGFydDowfX1Ac3VwcG9ydHMgbm90IChpbnNldC1pbmxpbmUtc3RhcnQ6IDApezpob3N0IC5waWNrZXItYWZ0ZXJ7bGVmdDowfTpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSAucGlja2VyLWFmdGVye2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH1Ac3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKXs6aG9zdCAucGlja2VyLWFmdGVyOmRpcihydGwpe2xlZnQ6dW5zZXQ7cmlnaHQ6dW5zZXQ7cmlnaHQ6MH19fTpob3N0IC5waWNrZXItaGlnaGxpZ2h0e2JvcmRlci1yYWRpdXM6OHB4O2xlZnQ6MDtyaWdodDowO3RvcDo1MCU7Ym90dG9tOjA7LXdlYmtpdC1tYXJnaW4tc3RhcnQ6YXV0bzttYXJnaW4taW5saW5lLXN0YXJ0OmF1dG87LXdlYmtpdC1tYXJnaW4tZW5kOmF1dG87bWFyZ2luLWlubGluZS1lbmQ6YXV0bzttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbTowO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOmNhbGMoMTAwJSAtIDE2cHgpO2hlaWdodDozNHB4Oy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7YmFja2dyb3VuZDp2YXIoLS13aGVlbC1oaWdobGlnaHQtYmFja2dyb3VuZCk7ei1pbmRleDotMX06aG9zdCBpbnB1dHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7cmlnaHQ6MDtib3R0b206MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO21hcmdpbjowO3BhZGRpbmc6MDtib3JkZXI6MDtvdXRsaW5lOjA7Y2xpcDpyZWN0KDAgMCAwIDApO29wYWNpdHk6MDtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7LW1vei1hcHBlYXJhbmNlOm5vbmV9Omhvc3QgOjpzbG90dGVkKGlvbi1waWNrZXItY29sdW1uLWludGVybmFsOmZpcnN0LW9mLXR5cGUpe3RleHQtYWxpZ246c3RhcnR9Omhvc3QgOjpzbG90dGVkKGlvbi1waWNrZXItY29sdW1uLWludGVybmFsOmxhc3Qtb2YtdHlwZSl7dGV4dC1hbGlnbjplbmR9Omhvc3QgOjpzbG90dGVkKGlvbi1waWNrZXItY29sdW1uLWludGVybmFsOm9ubHktY2hpbGQpe3RleHQtYWxpZ246Y2VudGVyfTpob3N0IC5waWNrZXItYmVmb3Jle2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgY29sb3Itc3RvcCgyMCUsIHJnYmEodmFyKC0td2hlZWwtZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMSkpLCBjb2xvci1zdG9wKDkwJSwgcmdiYSh2YXIoLS13aGVlbC1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAwKSkpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSh2YXIoLS13aGVlbC1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAxKSAyMCUsIHJnYmEodmFyKC0td2hlZWwtZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMCkgOTAlKX06aG9zdCAucGlja2VyLWFmdGVye2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgYm90dG9tLCBsZWZ0IHRvcCwgY29sb3Itc3RvcCgzMCUsIHJnYmEodmFyKC0td2hlZWwtZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMSkpLCBjb2xvci1zdG9wKDkwJSwgcmdiYSh2YXIoLS13aGVlbC1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAwKSkpO2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KHRvIHRvcCwgcmdiYSh2YXIoLS13aGVlbC1mYWRlLWJhY2tncm91bmQtcmdiLCB2YXIoLS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3ItcmdiLCAyNTUsIDI1NSwgMjU1KSkpLCAxKSAzMCUsIHJnYmEodmFyKC0td2hlZWwtZmFkZS1iYWNrZ3JvdW5kLXJnYiwgdmFyKC0tYmFja2dyb3VuZC1yZ2IsIHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yLXJnYiwgMjU1LCAyNTUsIDI1NSkpKSwgMCkgOTAlKX1cIjtcblxuY29uc3QgUGlja2VySW50ZXJuYWwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGhvc3RSZWYpIHtcbiAgICByZWdpc3Rlckluc3RhbmNlKHRoaXMsIGhvc3RSZWYpO1xuICAgIHRoaXMuaW9uSW5wdXRNb2RlQ2hhbmdlID0gY3JlYXRlRXZlbnQodGhpcywgXCJpb25JbnB1dE1vZGVDaGFuZ2VcIiwgNyk7XG4gICAgdGhpcy51c2VJbnB1dE1vZGUgPSBmYWxzZTtcbiAgICB0aGlzLmlzSW5IaWdobGlnaHRCb3VuZHMgPSAoZXYpID0+IHtcbiAgICAgIGNvbnN0IHsgaGlnaGxpZ2h0RWwgfSA9IHRoaXM7XG4gICAgICBpZiAoIWhpZ2hsaWdodEVsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJib3ggPSBoaWdobGlnaHRFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIC8qKlxuICAgICAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSB1c2VyIGNsaWNrZWRcbiAgICAgICAqIG91dHNpZGUgdGhlIGJvdW5kcyBvZiB0aGUgaGlnaGxpZ2h0LlxuICAgICAgICovXG4gICAgICBjb25zdCBvdXRzaWRlWCA9IGV2LmNsaWVudFggPCBiYm94LmxlZnQgfHwgZXYuY2xpZW50WCA+IGJib3gucmlnaHQ7XG4gICAgICBjb25zdCBvdXRzaWRlWSA9IGV2LmNsaWVudFkgPCBiYm94LnRvcCB8fCBldi5jbGllbnRZID4gYmJveC5ib3R0b207XG4gICAgICBpZiAob3V0c2lkZVggfHwgb3V0c2lkZVkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSBhcmUgbm8gbG9uZ2VyIGZvY3VzZWRcbiAgICAgKiBvbiBhIHBpY2tlciBjb2x1bW4sIHRoZW4gd2Ugc2hvdWxkXG4gICAgICogZXhpdCBpbnB1dCBtb2RlLiBBbiBleGNlcHRpb24gaXMgbWFkZVxuICAgICAqIGZvciB0aGUgaW5wdXQgaW4gdGhlIHBpY2tlciBzaW5jZSBoYXZpbmdcbiAgICAgKiB0aGF0IGZvY3VzZWQgbWVhbnMgd2UgYXJlIHN0aWxsIGluIGlucHV0IG1vZGUuXG4gICAgICovXG4gICAgdGhpcy5vbkZvY3VzT3V0ID0gKGV2KSA9PiB7XG4gICAgICAvLyBUT0RPKEZXLTI4MzIpOiB0eXBlXG4gICAgICBjb25zdCB7IHJlbGF0ZWRUYXJnZXQgfSA9IGV2O1xuICAgICAgaWYgKCFyZWxhdGVkVGFyZ2V0IHx8IChyZWxhdGVkVGFyZ2V0LnRhZ05hbWUgIT09ICdJT04tUElDS0VSLUNPTFVNTi1JTlRFUk5BTCcgJiYgcmVsYXRlZFRhcmdldCAhPT0gdGhpcy5pbnB1dEVsKSkge1xuICAgICAgICB0aGlzLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZW4gcGlja2VyIGNvbHVtbnMgcmVjZWl2ZSBmb2N1c1xuICAgICAqIHRoZSBwYXJlbnQgcGlja2VyIG5lZWRzIHRvIGRldGVybWluZVxuICAgICAqIHdoZXRoZXIgdG8gZW50ZXIvZXhpdCBpbnB1dCBtb2RlLlxuICAgICAqL1xuICAgIHRoaXMub25Gb2N1c0luID0gKGV2KSA9PiB7XG4gICAgICAvLyBUT0RPKEZXLTI4MzIpOiB0eXBlXG4gICAgICBjb25zdCB7IHRhcmdldCB9ID0gZXY7XG4gICAgICAvKipcbiAgICAgICAqIER1ZSB0byBicm93c2VyIGRpZmZlcmVuY2VzIGluIGhvdy93aGVuIGZvY3VzXG4gICAgICAgKiBpcyBkaXNwYXRjaGVkIG9uIGNlcnRhaW4gZWxlbWVudHMsIHdlIG5lZWQgdG9cbiAgICAgICAqIG1ha2Ugc3VyZSB0aGF0IHRoaXMgZnVuY3Rpb24gb25seSBldmVyIHJ1bnMgd2hlblxuICAgICAgICogZm9jdXNpbmcgYSBwaWNrZXIgY29sdW1uLlxuICAgICAgICovXG4gICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgIT09ICdJT04tUElDS0VSLUNPTFVNTi1JTlRFUk5BTCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBJZiB3ZSBoYXZlIGFjdGlvbk9uQ2xpY2tcbiAgICAgICAqIHRoZW4gdGhpcyBtZWFucyB0aGUgdXNlciBmb2N1c2VkXG4gICAgICAgKiBhIHBpY2tlciBjb2x1bW4gdmlhIG1vdXNlIG9yXG4gICAgICAgKiB0b3VjaCAoaS5lLiBhIFBvaW50ZXJFdmVudCkuIEFzIGEgcmVzdWx0LFxuICAgICAgICogd2Ugc2hvdWxkIG5vdCBlbnRlci9leGl0IGlucHV0IG1vZGVcbiAgICAgICAqIHVudGlsIHRoZSBjbGljayBldmVudCBoYXMgZmlyZWQsIHdoaWNoIGhhcHBlbnNcbiAgICAgICAqIGFmdGVyIHRoZSBgZm9jdXNpbmAgZXZlbnQuXG4gICAgICAgKlxuICAgICAgICogT3RoZXJ3aXNlLCB0aGUgdXNlciBsaWtlbHkgZm9jdXNlZFxuICAgICAgICogdGhlIGNvbHVtbiB1c2luZyB0aGVpciBrZXlib2FyZCBhbmRcbiAgICAgICAqIHdlIHNob3VsZCBlbnRlci9leGl0IGlucHV0IG1vZGUgYXV0b21hdGljYWxseS5cbiAgICAgICAqL1xuICAgICAgaWYgKCF0aGlzLmFjdGlvbk9uQ2xpY2spIHtcbiAgICAgICAgY29uc3QgY29sdW1uRWwgPSB0YXJnZXQ7XG4gICAgICAgIGNvbnN0IGFsbG93SW5wdXQgPSBjb2x1bW5FbC5udW1lcmljSW5wdXQ7XG4gICAgICAgIGlmIChhbGxvd0lucHV0KSB7XG4gICAgICAgICAgdGhpcy5lbnRlcklucHV0TW9kZShjb2x1bW5FbCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuZXhpdElucHV0TW9kZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBPbiBjbGljayB3ZSBuZWVkIHRvIHJ1biBhbiBhY3Rpb25PbkNsaWNrXG4gICAgICogZnVuY3Rpb24gdGhhdCBoYXMgYmVlbiBzZXQgaW4gb25Qb2ludGVyRG93blxuICAgICAqIHNvIHRoYXQgd2UgZW50ZXIvZXhpdCBpbnB1dCBtb2RlIGNvcnJlY3RseS5cbiAgICAgKi9cbiAgICB0aGlzLm9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGFjdGlvbk9uQ2xpY2sgfSA9IHRoaXM7XG4gICAgICBpZiAoYWN0aW9uT25DbGljaykge1xuICAgICAgICBhY3Rpb25PbkNsaWNrKCk7XG4gICAgICAgIHRoaXMuYWN0aW9uT25DbGljayA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENsaWNraW5nIGEgY29sdW1uIGFsc28gZm9jdXNlcyB0aGUgY29sdW1uIG9uXG4gICAgICogY2VydGFpbiBicm93c2Vycywgc28gd2UgdXNlIG9uUG9pbnRlckRvd25cbiAgICAgKiB0byB0ZWxsIHRoZSBvbkZvY3VzSW4gZnVuY3Rpb24gdGhhdCB1c2Vyc1xuICAgICAqIGFyZSB0cnlpbmcgdG8gY2xpY2sgdGhlIGNvbHVtbiByYXRoZXIgdGhhblxuICAgICAqIGZvY3VzIHRoZSBjb2x1bW4gdXNpbmcgdGhlIGtleWJvYXJkLiBXaGVuIHRoZVxuICAgICAqIHVzZXIgY29tcGxldGVzIHRoZSBjbGljaywgdGhlIG9uQ2xpY2sgZnVuY3Rpb25cbiAgICAgKiBydW5zIGFuZCBydW5zIHRoZSBhY3Rpb25PbkNsaWNrIGNhbGxiYWNrLlxuICAgICAqL1xuICAgIHRoaXMub25Qb2ludGVyRG93biA9IChldikgPT4ge1xuICAgICAgY29uc3QgeyB1c2VJbnB1dE1vZGUsIGlucHV0TW9kZUNvbHVtbiwgZWwgfSA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5pc0luSGlnaGxpZ2h0Qm91bmRzKGV2KSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgd2Ugd2VyZSBhbHJlYWR5IGluXG4gICAgICAgICAqIGlucHV0IG1vZGUsIHRoZW4gd2Ugc2hvdWxkIGRldGVybWluZVxuICAgICAgICAgKiBpZiB3ZSB0YXBwZWQgYSBwYXJ0aWN1bGFyIGNvbHVtbiBhbmRcbiAgICAgICAgICogc2hvdWxkIHN3aXRjaCB0byBpbnB1dCBtb2RlIGZvclxuICAgICAgICAgKiB0aGF0IHNwZWNpZmljIGNvbHVtbi5cbiAgICAgICAgICovXG4gICAgICAgIGlmICh1c2VJbnB1dE1vZGUpIHtcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBJZiB3ZSB0YXBwZWQgYSBwaWNrZXIgY29sdW1uXG4gICAgICAgICAgICogdGhlbiB3ZSBzaG91bGQgZWl0aGVyIHN3aXRjaCB0byBpbnB1dFxuICAgICAgICAgICAqIG1vZGUgZm9yIHRoYXQgY29sdW1uIG9yIGFsbCBjb2x1bW5zLlxuICAgICAgICAgICAqIE90aGVyd2lzZSB3ZSBzaG91bGQgZXhpdCBpbnB1dCBtb2RlXG4gICAgICAgICAgICogc2luY2Ugd2UganVzdCB0YXBwZWQgdGhlIGhpZ2hsaWdodCBhbmRcbiAgICAgICAgICAgKiBub3QgYSBjb2x1bW4uXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKGV2LnRhcmdldC50YWdOYW1lID09PSAnSU9OLVBJQ0tFUi1DT0xVTU4tSU5URVJOQUwnKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHVzZXIgdGFwcyAyIGRpZmZlcmVudCBjb2x1bW5zXG4gICAgICAgICAgICAgKiB0aGVuIHdlIHNob3VsZCBqdXN0IHN3aXRjaCB0byBpbnB1dCBtb2RlXG4gICAgICAgICAgICAgKiBmb3IgdGhlIG5ldyBjb2x1bW4gcmF0aGVyIHRoYW4gc3dpdGNoaW5nIHRvXG4gICAgICAgICAgICAgKiBpbnB1dCBtb2RlIGZvciBhbGwgY29sdW1ucy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGlucHV0TW9kZUNvbHVtbiAmJiBpbnB1dE1vZGVDb2x1bW4gPT09IGV2LnRhcmdldCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbk9uQ2xpY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRlcklucHV0TW9kZSgpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9uT25DbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGVySW5wdXRNb2RlKGV2LnRhcmdldCk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25PbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIHdlIHdlcmUgbm90IGFscmVhZHkgaW5cbiAgICAgICAgICAgKiBpbnB1dCBtb2RlLCB0aGVuIHdlIHNob3VsZFxuICAgICAgICAgICAqIGVudGVyIGlucHV0IG1vZGUgZm9yIGFsbCBjb2x1bW5zLlxuICAgICAgICAgICAqL1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIHRoZXJlIGlzIG9ubHkgMSBudW1lcmljIGlucHV0IGNvbHVtblxuICAgICAgICAgICAqIHRoZW4gd2Ugc2hvdWxkIHNraXAgbXVsdGkgY29sdW1uIGlucHV0LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IGNvbHVtbnMgPSBlbC5xdWVyeVNlbGVjdG9yQWxsKCdpb24tcGlja2VyLWNvbHVtbi1pbnRlcm5hbC5waWNrZXItY29sdW1uLW51bWVyaWMtaW5wdXQnKTtcbiAgICAgICAgICBjb25zdCBjb2x1bW5FbCA9IGNvbHVtbnMubGVuZ3RoID09PSAxID8gZXYudGFyZ2V0IDogdW5kZWZpbmVkO1xuICAgICAgICAgIHRoaXMuYWN0aW9uT25DbGljayA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZW50ZXJJbnB1dE1vZGUoY29sdW1uRWwpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5hY3Rpb25PbkNsaWNrID0gKCkgPT4ge1xuICAgICAgICB0aGlzLmV4aXRJbnB1dE1vZGUoKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbnRlcnMgaW5wdXQgbW9kZSB0byBhbGxvd1xuICAgICAqIGZvciB0ZXh0IGVudHJ5IG9mIG51bWVyaWMgdmFsdWVzLlxuICAgICAqIElmIG9uIG1vYmlsZSwgd2UgZm9jdXMgYSBoaWRkZW4gaW5wdXRcbiAgICAgKiBmaWVsZCBzbyB0aGF0IHRoZSBvbiBzY3JlZW4ga2V5Ym9hcmRcbiAgICAgKiBpcyBicm91Z2h0IHVwLiBXaGVuIHRhYmJpbmcgdXNpbmcgYVxuICAgICAqIGtleWJvYXJkLCBwaWNrZXIgY29sdW1ucyByZWNlaXZlIGFuIG91dGxpbmVcbiAgICAgKiB0byBpbmRpY2F0ZSB0aGV5IGFyZSBmb2N1c2VkLiBBcyBhIHJlc3VsdCxcbiAgICAgKiB3ZSBzaG91bGQgbm90IGZvY3VzIHRoZSBoaWRkZW4gaW5wdXQgYXMgaXRcbiAgICAgKiB3b3VsZCBjYXVzZSB0aGUgb3V0bGluZSB0byBnbyBhd2F5LCBwcmV2ZW50aW5nXG4gICAgICogdXNlcnMgZnJvbSBoYXZpbmcgYW55IHZpc3VhbCBpbmRpY2F0aW9uIG9mIHdoaWNoXG4gICAgICogY29sdW1uIGlzIGZvY3VzZWQuXG4gICAgICovXG4gICAgdGhpcy5lbnRlcklucHV0TW9kZSA9IChjb2x1bW5FbCwgZm9jdXNJbnB1dCA9IHRydWUpID0+IHtcbiAgICAgIGNvbnN0IHsgaW5wdXRFbCwgZWwgfSA9IHRoaXM7XG4gICAgICBpZiAoIWlucHV0RWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLyoqXG4gICAgICAgKiBPbmx5IGFjdGl2ZSBpbnB1dCBtb2RlIGlmIHRoZXJlIGlzIGF0XG4gICAgICAgKiBsZWFzdCBvbmUgY29sdW1uIHRoYXQgYWNjZXB0cyBudW1lcmljIGlucHV0LlxuICAgICAgICovXG4gICAgICBjb25zdCBoYXNJbnB1dENvbHVtbiA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2lvbi1waWNrZXItY29sdW1uLWludGVybmFsLnBpY2tlci1jb2x1bW4tbnVtZXJpYy1pbnB1dCcpO1xuICAgICAgaWYgKCFoYXNJbnB1dENvbHVtbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIElmIGNvbHVtbkVsIGlzIHVuZGVmaW5lZCB0aGVuXG4gICAgICAgKiBpdCBpcyBhc3N1bWVkIHRoYXQgYWxsIG51bWVyaWMgcGlja2Vyc1xuICAgICAgICogYXJlIGVsaWdpYmxlIGZvciB0ZXh0IGVudHJ5LlxuICAgICAgICogKGkuZS4gaG91ciBhbmQgbWludXRlIGNvbHVtbnMpXG4gICAgICAgKi9cbiAgICAgIHRoaXMudXNlSW5wdXRNb2RlID0gdHJ1ZTtcbiAgICAgIHRoaXMuaW5wdXRNb2RlQ29sdW1uID0gY29sdW1uRWw7XG4gICAgICAvKipcbiAgICAgICAqIFVzZXJzIHdpdGggYSBrZXlib2FyZCBhbmQgbW91c2UgY2FuXG4gICAgICAgKiBhY3RpdmF0ZSBpbnB1dCBtb2RlIHdoZXJlIHRoZSBpbnB1dCBpc1xuICAgICAgICogZm9jdXNlZCBhcyB3ZWxsIGFzIHdoZW4gaXQgaXMgbm90IGZvY3VzZWQsXG4gICAgICAgKiBzbyB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB3ZSBjbGVhbiB1cCBhbnlcbiAgICAgICAqIG9sZCBsaXN0ZW5lcnMuXG4gICAgICAgKi9cbiAgICAgIGlmIChmb2N1c0lucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyKSB7XG4gICAgICAgICAgdGhpcy5kZXN0cm95S2V5cHJlc3NMaXN0ZW5lcigpO1xuICAgICAgICAgIHRoaXMuZGVzdHJveUtleXByZXNzTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaW5wdXRFbC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy5vbktleVByZXNzKTtcbiAgICAgICAgdGhpcy5kZXN0cm95S2V5cHJlc3NMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMub25LZXlQcmVzcyk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB0aGlzLmVtaXRJbnB1dE1vZGVDaGFuZ2UoKTtcbiAgICB9O1xuICAgIHRoaXMub25LZXlQcmVzcyA9IChldikgPT4ge1xuICAgICAgY29uc3QgeyBpbnB1dEVsIH0gPSB0aGlzO1xuICAgICAgaWYgKCFpbnB1dEVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gcGFyc2VJbnQoZXYua2V5LCAxMCk7XG4gICAgICAvKipcbiAgICAgICAqIE9ubHkgbnVtYmVycyBzaG91bGQgYmUgYWxsb3dlZFxuICAgICAgICovXG4gICAgICBpZiAoIU51bWJlci5pc05hTihwYXJzZWRWYWx1ZSkpIHtcbiAgICAgICAgaW5wdXRFbC52YWx1ZSArPSBldi5rZXk7XG4gICAgICAgIHRoaXMub25JbnB1dENoYW5nZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZWxlY3RTaW5nbGVDb2x1bW4gPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IGlucHV0RWwsIGlucHV0TW9kZUNvbHVtbiwgc2luZ2xlQ29sdW1uU2VhcmNoVGltZW91dCB9ID0gdGhpcztcbiAgICAgIGlmICghaW5wdXRFbCB8fCAhaW5wdXRNb2RlQ29sdW1uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlcyA9IGlucHV0TW9kZUNvbHVtbi5pdGVtcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uZGlzYWJsZWQgIT09IHRydWUpO1xuICAgICAgLyoqXG4gICAgICAgKiBJZiB1c2VycyBwYXVzZSBmb3IgYSBiaXQsIHRoZSBzZWFyY2hcbiAgICAgICAqIHZhbHVlIHNob3VsZCBiZSByZXNldCBzaW1pbGFyIHRvIGhvdyBhXG4gICAgICAgKiA8c2VsZWN0PiBiZWhhdmVzLiBTbyB0eXBpbmcgXCIzNFwiLCB3YWl0aW5nLFxuICAgICAgICogdGhlbiB0eXBpbmcgXCI1XCIgc2hvdWxkIHNlbGVjdCBcIjA1XCIuXG4gICAgICAgKi9cbiAgICAgIGlmIChzaW5nbGVDb2x1bW5TZWFyY2hUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChzaW5nbGVDb2x1bW5TZWFyY2hUaW1lb3V0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2luZ2xlQ29sdW1uU2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpbnB1dEVsLnZhbHVlID0gJyc7XG4gICAgICAgIHRoaXMuc2luZ2xlQ29sdW1uU2VhcmNoVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgIH0sIDEwMDApO1xuICAgICAgLyoqXG4gICAgICAgKiBGb3IgdmFsdWVzIHRoYXQgYXJlIGxvbmdlciB0aGFuIDIgZGlnaXRzIGxvbmdcbiAgICAgICAqIHdlIHNob3VsZCBzaGlmdCB0aGUgdmFsdWUgb3ZlciAxIGNoYXJhY3RlclxuICAgICAgICogdG8gdGhlIGxlZnQuIFNvIHR5cGluZyBcIjQ1NlwiIHdvdWxkIHJlc3VsdCBpbiBcIjU2XCIuXG4gICAgICAgKiBUT0RPOiBJZiB3ZSB3YW50IHRvIHN1cHBvcnQgbW9yZSB0aGFuIGp1c3RcbiAgICAgICAqIHRpbWUgZW50cnksIHdlIHNob3VsZCB1cGRhdGUgdGhpcyB2YWx1ZSB0byBiZVxuICAgICAgICogdGhlIG1heCBsZW5ndGggb2YgYWxsIG9mIHRoZSBwaWNrZXIgaXRlbXMuXG4gICAgICAgKi9cbiAgICAgIGlmIChpbnB1dEVsLnZhbHVlLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBpbnB1dEVsLnZhbHVlLmxlbmd0aCAtIDI7XG4gICAgICAgIGNvbnN0IG5ld1N0cmluZyA9IGlucHV0RWwudmFsdWUuc3Vic3RyaW5nKHN0YXJ0SW5kZXgpO1xuICAgICAgICBpbnB1dEVsLnZhbHVlID0gbmV3U3RyaW5nO1xuICAgICAgICB0aGlzLnNlbGVjdFNpbmdsZUNvbHVtbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIENoZWNraW5nIHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgZ2V0cyBwcmlvcml0eVxuICAgICAgICogZmlyc3QuIEZvciBleGFtcGxlLCBpZiB0aGUgdmFsdWUgb2YgdGhlIGlucHV0XG4gICAgICAgKiBpcyBcIjFcIiBhbmQgd2UgZW50ZXJlZCBcIjJcIiwgdGhlbiB0aGUgY29tcGxldGUgdmFsdWVcbiAgICAgICAqIGlzIFwiMTJcIiBhbmQgd2Ugc2hvdWxkIHNlbGVjdCBob3VyIDEyLlxuICAgICAgICpcbiAgICAgICAqIFJlZ2V4IHJlbW92ZXMgYW55IGxlYWRpbmcgemVyb3MgZnJvbSB2YWx1ZXMgbGlrZSBcIjAyXCIsXG4gICAgICAgKiBidXQgaXQga2VlcHMgYSBzaW5nbGUgemVybyBpZiB0aGVyZSBhcmUgb25seSB6ZXJvcyBpbiB0aGUgc3RyaW5nLlxuICAgICAgICogMCsoPz1bMS05XSkgLS0+IE1hdGNoIDEgb3IgbW9yZSB6ZXJvcyB0aGF0IGFyZSBmb2xsb3dlZCBieSAxLTlcbiAgICAgICAqIDArKD89MCQpIC0tPiBNYXRjaCAxIG9yIG1vcmUgemVyb3MgdGhhdCBtdXN0IGJlIGZvbGxvd2VkIGJ5IG9uZSAwIGFuZCBlbmQuXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGZpbmRJdGVtRnJvbUNvbXBsZXRlVmFsdWUgPSB2YWx1ZXMuZmluZCgoeyB0ZXh0IH0pID0+IHtcbiAgICAgICAgY29uc3QgcGFyc2VkVGV4dCA9IHRleHQucmVwbGFjZSgvXjArKD89WzEtOV0pfDArKD89MCQpLywgJycpO1xuICAgICAgICByZXR1cm4gcGFyc2VkVGV4dCA9PT0gaW5wdXRFbC52YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGZpbmRJdGVtRnJvbUNvbXBsZXRlVmFsdWUpIHtcbiAgICAgICAgaW5wdXRNb2RlQ29sdW1uLnNldFZhbHVlKGZpbmRJdGVtRnJvbUNvbXBsZXRlVmFsdWUudmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIElmIHdlIHR5cGVkIFwiNTZcIiB0byBnZXQgbWludXRlIDU2LCB0aGVuIHR5cGVkIFwiN1wiLFxuICAgICAgICogd2Ugc2hvdWxkIHNlbGVjdCBcIjA3XCIgYXMgXCI1NjdcIiBpcyBub3QgYSB2YWxpZCBtaW51dGUuXG4gICAgICAgKi9cbiAgICAgIGlmIChpbnB1dEVsLnZhbHVlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBjb25zdCBjaGFuZ2VkQ2hhcmFjdGVyID0gaW5wdXRFbC52YWx1ZS5zdWJzdHJpbmcoaW5wdXRFbC52YWx1ZS5sZW5ndGggLSAxKTtcbiAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGNoYW5nZWRDaGFyYWN0ZXI7XG4gICAgICAgIHRoaXMuc2VsZWN0U2luZ2xlQ29sdW1uKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBhIGxpc3Qgb2YgY29sdW1uIGl0ZW1zIGZvciBhIHBhcnRpY3VsYXJcbiAgICAgKiB2YWx1ZS4gVGhpcyBpcyBjdXJyZW50bHkgdXNlZCBmb3IgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICogVGhlIHplcm9CZWhhdmlvciBjYW4gYmUgc2V0IHRvIGFjY291bnQgZm9yIGxlYWRpbmdcbiAgICAgKiBvciB0cmFpbGluZyB6ZXJvcyB3aGVuIGxvb2tpbmcgYXQgdGhlIGl0ZW0gdGV4dC5cbiAgICAgKi9cbiAgICB0aGlzLnNlYXJjaENvbHVtbiA9IChjb2xFbCwgdmFsdWUsIHplcm9CZWhhdmlvciA9ICdzdGFydCcpID0+IHtcbiAgICAgIGNvbnN0IGJlaGF2aW9yID0gemVyb0JlaGF2aW9yID09PSAnc3RhcnQnID8gL14wKy8gOiAvMCQvO1xuICAgICAgY29uc3QgaXRlbSA9IGNvbEVsLml0ZW1zLmZpbmQoKHsgdGV4dCwgZGlzYWJsZWQgfSkgPT4gZGlzYWJsZWQgIT09IHRydWUgJiYgdGV4dC5yZXBsYWNlKGJlaGF2aW9yLCAnJykgPT09IHZhbHVlKTtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGNvbEVsLnNldFZhbHVlKGl0ZW0udmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5zZWxlY3RNdWx0aUNvbHVtbiA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHsgaW5wdXRFbCwgZWwgfSA9IHRoaXM7XG4gICAgICBpZiAoIWlucHV0RWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbnVtZXJpY1BpY2tlcnMgPSBBcnJheS5mcm9tKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lvbi1waWNrZXItY29sdW1uLWludGVybmFsJykpLmZpbHRlcigoY29sKSA9PiBjb2wubnVtZXJpY0lucHV0KTtcbiAgICAgIGNvbnN0IGZpcnN0Q29sdW1uID0gbnVtZXJpY1BpY2tlcnNbMF07XG4gICAgICBjb25zdCBsYXN0Q29sdW1uID0gbnVtZXJpY1BpY2tlcnNbMV07XG4gICAgICBsZXQgdmFsdWUgPSBpbnB1dEVsLnZhbHVlO1xuICAgICAgbGV0IG1pbnV0ZVZhbHVlO1xuICAgICAgc3dpdGNoICh2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHRoaXMuc2VhcmNoQ29sdW1uKGZpcnN0Q29sdW1uLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBJZiB0aGUgZmlyc3QgY2hhcmFjdGVyIGlzIGAwYCBvciBgMWAgaXQgaXNcbiAgICAgICAgICAgKiBwb3NzaWJsZSB0aGF0IHVzZXJzIGFyZSB0cnlpbmcgdG8gdHlwZSBgMDlgXG4gICAgICAgICAgICogb3IgYDExYCBpbnRvIHRoZSBob3VyIGZpZWxkLCBzbyB3ZSBzaG91bGQgbG9va1xuICAgICAgICAgICAqIGF0IHRoYXQgZmlyc3QuXG4gICAgICAgICAgICovXG4gICAgICAgICAgY29uc3QgZmlyc3RDaGFyYWN0ZXIgPSBpbnB1dEVsLnZhbHVlLnN1YnN0cmluZygwLCAxKTtcbiAgICAgICAgICB2YWx1ZSA9IGZpcnN0Q2hhcmFjdGVyID09PSAnMCcgfHwgZmlyc3RDaGFyYWN0ZXIgPT09ICcxJyA/IGlucHV0RWwudmFsdWUgOiBmaXJzdENoYXJhY3RlcjtcbiAgICAgICAgICB0aGlzLnNlYXJjaENvbHVtbihmaXJzdENvbHVtbiwgdmFsdWUpO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIG9ubHkgY2hlY2tlZCB0aGUgZmlyc3QgdmFsdWUsXG4gICAgICAgICAgICogd2UgY2FuIGNoZWNrIHRoZSBzZWNvbmQgdmFsdWVcbiAgICAgICAgICAgKiBmb3IgYSBtYXRjaCBpbiB0aGUgbWludXRlcyBjb2x1bW5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBtaW51dGVWYWx1ZSA9IGlucHV0RWwudmFsdWUuc3Vic3RyaW5nKGlucHV0RWwudmFsdWUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaENvbHVtbihsYXN0Q29sdW1uLCBtaW51dGVWYWx1ZSwgJ2VuZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaXMgYDBgIG9yIGAxYCBpdCBpc1xuICAgICAgICAgICAqIHBvc3NpYmxlIHRoYXQgdXNlcnMgYXJlIHRyeWluZyB0byB0eXBlIGAwOWBcbiAgICAgICAgICAgKiBvciBgMTFgIGludG8gdGhlIGhvdXIgZmllbGQsIHNvIHdlIHNob3VsZCBsb29rXG4gICAgICAgICAgICogYXQgdGhhdCBmaXJzdC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBmaXJzdENoYXJhY3RlckFnYWluID0gaW5wdXRFbC52YWx1ZS5zdWJzdHJpbmcoMCwgMSk7XG4gICAgICAgICAgdmFsdWUgPVxuICAgICAgICAgICAgZmlyc3RDaGFyYWN0ZXJBZ2FpbiA9PT0gJzAnIHx8IGZpcnN0Q2hhcmFjdGVyQWdhaW4gPT09ICcxJ1xuICAgICAgICAgICAgICA/IGlucHV0RWwudmFsdWUuc3Vic3RyaW5nKDAsIDIpXG4gICAgICAgICAgICAgIDogZmlyc3RDaGFyYWN0ZXJBZ2FpbjtcbiAgICAgICAgICB0aGlzLnNlYXJjaENvbHVtbihmaXJzdENvbHVtbiwgdmFsdWUpO1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIG9ubHkgY2hlY2tlZCB0aGUgZmlyc3QgdmFsdWUsXG4gICAgICAgICAgICogd2UgY2FuIGNoZWNrIHRoZSBzZWNvbmQgdmFsdWVcbiAgICAgICAgICAgKiBmb3IgYSBtYXRjaCBpbiB0aGUgbWludXRlcyBjb2x1bW5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBtaW51dGVWYWx1ZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IGlucHV0RWwudmFsdWUuc3Vic3RyaW5nKDEpIDogaW5wdXRFbC52YWx1ZS5zdWJzdHJpbmcoMik7XG4gICAgICAgICAgdGhpcy5zZWFyY2hDb2x1bW4obGFzdENvbHVtbiwgbWludXRlVmFsdWUsICdlbmQnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIElmIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaXMgYDBgIG9yIGAxYCBpdCBpc1xuICAgICAgICAgICAqIHBvc3NpYmxlIHRoYXQgdXNlcnMgYXJlIHRyeWluZyB0byB0eXBlIGAwOWBcbiAgICAgICAgICAgKiBvciBgMTFgIGludG8gdGhlIGhvdXIgZmllbGQsIHNvIHdlIHNob3VsZCBsb29rXG4gICAgICAgICAgICogYXQgdGhhdCBmaXJzdC5cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBjb25zdCBmaXJzdENoYXJhY3RlckFnYWluQWdhaW4gPSBpbnB1dEVsLnZhbHVlLnN1YnN0cmluZygwLCAxKTtcbiAgICAgICAgICB2YWx1ZSA9XG4gICAgICAgICAgICBmaXJzdENoYXJhY3RlckFnYWluQWdhaW4gPT09ICcwJyB8fCBmaXJzdENoYXJhY3RlckFnYWluQWdhaW4gPT09ICcxJ1xuICAgICAgICAgICAgICA/IGlucHV0RWwudmFsdWUuc3Vic3RyaW5nKDAsIDIpXG4gICAgICAgICAgICAgIDogZmlyc3RDaGFyYWN0ZXJBZ2FpbkFnYWluO1xuICAgICAgICAgIHRoaXMuc2VhcmNoQ29sdW1uKGZpcnN0Q29sdW1uLCB2YWx1ZSk7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogSWYgb25seSBjaGVja2VkIHRoZSBmaXJzdCB2YWx1ZSxcbiAgICAgICAgICAgKiB3ZSBjYW4gY2hlY2sgdGhlIHNlY29uZCB2YWx1ZVxuICAgICAgICAgICAqIGZvciBhIG1hdGNoIGluIHRoZSBtaW51dGVzIGNvbHVtblxuICAgICAgICAgICAqL1xuICAgICAgICAgIGNvbnN0IG1pbnV0ZVZhbHVlQWdhaW4gPSB2YWx1ZS5sZW5ndGggPT09IDFcbiAgICAgICAgICAgID8gaW5wdXRFbC52YWx1ZS5zdWJzdHJpbmcoMSwgaW5wdXRFbC52YWx1ZS5sZW5ndGgpXG4gICAgICAgICAgICA6IGlucHV0RWwudmFsdWUuc3Vic3RyaW5nKDIsIGlucHV0RWwudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICB0aGlzLnNlYXJjaENvbHVtbihsYXN0Q29sdW1uLCBtaW51dGVWYWx1ZUFnYWluLCAnZW5kJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGlucHV0RWwudmFsdWUubGVuZ3RoIC0gNDtcbiAgICAgICAgICBjb25zdCBuZXdTdHJpbmcgPSBpbnB1dEVsLnZhbHVlLnN1YnN0cmluZyhzdGFydEluZGV4KTtcbiAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gbmV3U3RyaW5nO1xuICAgICAgICAgIHRoaXMuc2VsZWN0TXVsdGlDb2x1bW4oKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIHRoZSB2YWx1ZSBvZiB0aGUgYWN0aXZlIGNvbHVtblxuICAgICAqIHRvIGRldGVybWluZSB3aGljaCB2YWx1ZSB1c2VycyBhcmUgdHJ5aW5nXG4gICAgICogdG8gc2VsZWN0XG4gICAgICovXG4gICAgdGhpcy5vbklucHV0Q2hhbmdlID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyB1c2VJbnB1dE1vZGUsIGlucHV0RWwsIGlucHV0TW9kZUNvbHVtbiB9ID0gdGhpcztcbiAgICAgIGlmICghdXNlSW5wdXRNb2RlIHx8ICFpbnB1dEVsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dE1vZGVDb2x1bW4pIHtcbiAgICAgICAgdGhpcy5zZWxlY3RTaW5nbGVDb2x1bW4oKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnNlbGVjdE11bHRpQ29sdW1uKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFbWl0IGlvbklucHV0TW9kZUNoYW5nZS4gUGlja2VyIGNvbHVtbnNcbiAgICAgKiBsaXN0ZW4gZm9yIHRoaXMgZXZlbnQgdG8gZGV0ZXJtaW5lIHdoZXRoZXJcbiAgICAgKiBvciBub3QgdGhlaXIgY29sdW1uIGlzIFwiYWN0aXZlXCIgZm9yIHRleHQgaW5wdXQuXG4gICAgICovXG4gICAgdGhpcy5lbWl0SW5wdXRNb2RlQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgY29uc3QgeyB1c2VJbnB1dE1vZGUsIGlucHV0TW9kZUNvbHVtbiB9ID0gdGhpcztcbiAgICAgIHRoaXMuaW9uSW5wdXRNb2RlQ2hhbmdlLmVtaXQoe1xuICAgICAgICB1c2VJbnB1dE1vZGUsXG4gICAgICAgIGlucHV0TW9kZUNvbHVtbixcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdGhlIHBpY2tlciBpcyBpbnRlcmFjdGVkIHdpdGhcbiAgICogd2UgbmVlZCB0byBwcmV2ZW50IHRvdWNoc3RhcnQgc28gb3RoZXJcbiAgICogZ2VzdHVyZXMgZG8gbm90IGZpcmUuIEZvciBleGFtcGxlLFxuICAgKiBzY3JvbGxpbmcgb24gdGhlIHdoZWVsIHBpY2tlclxuICAgKiBpbiBpb24tZGF0ZXRpbWUgc2hvdWxkIG5vdCBjYXVzZVxuICAgKiBhIGNhcmQgbW9kYWwgdG8gc3dpcGUgdG8gY2xvc2UuXG4gICAqL1xuICBwcmV2ZW50VG91Y2hTdGFydFByb3BhZ2F0aW9uKGV2KSB7XG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH1cbiAgY29tcG9uZW50V2lsbExvYWQoKSB7XG4gICAgZ2V0RWxlbWVudFJvb3QodGhpcy5lbCkuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMub25Gb2N1c0luKTtcbiAgICBnZXRFbGVtZW50Um9vdCh0aGlzLmVsKS5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMub25Gb2N1c091dCk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBFeGl0cyB0ZXh0IGVudHJ5IG1vZGUgZm9yIHRoZSBwaWNrZXJcbiAgICogVGhpcyBtZXRob2QgYmx1cnMgdGhlIGhpZGRlbiBpbnB1dFxuICAgKiBhbmQgY2F1c2UgdGhlIGtleWJvYXJkIHRvIGRpc21pc3MuXG4gICAqL1xuICBhc3luYyBleGl0SW5wdXRNb2RlKCkge1xuICAgIGNvbnN0IHsgaW5wdXRFbCwgdXNlSW5wdXRNb2RlIH0gPSB0aGlzO1xuICAgIGlmICghdXNlSW5wdXRNb2RlIHx8ICFpbnB1dEVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudXNlSW5wdXRNb2RlID0gZmFsc2U7XG4gICAgdGhpcy5pbnB1dE1vZGVDb2x1bW4gPSB1bmRlZmluZWQ7XG4gICAgaW5wdXRFbC5ibHVyKCk7XG4gICAgaW5wdXRFbC52YWx1ZSA9ICcnO1xuICAgIGlmICh0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyKSB7XG4gICAgICB0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyKCk7XG4gICAgICB0aGlzLmRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLmVtaXRJbnB1dE1vZGVDaGFuZ2UoKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChoKEhvc3QsIHsgb25Qb2ludGVyRG93bjogKGV2KSA9PiB0aGlzLm9uUG9pbnRlckRvd24oZXYpLCBvbkNsaWNrOiAoKSA9PiB0aGlzLm9uQ2xpY2soKSB9LCBoKFwiaW5wdXRcIiwgeyBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCB0YWJpbmRleDogLTEsIGlucHV0bW9kZTogXCJudW1lcmljXCIsIHR5cGU6IFwibnVtYmVyXCIsIHJlZjogKGVsKSA9PiAodGhpcy5pbnB1dEVsID0gZWwpLCBvbklucHV0OiAoKSA9PiB0aGlzLm9uSW5wdXRDaGFuZ2UoKSwgb25CbHVyOiAoKSA9PiB0aGlzLmV4aXRJbnB1dE1vZGUoKSB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBpY2tlci1iZWZvcmVcIiB9KSwgaChcImRpdlwiLCB7IGNsYXNzOiBcInBpY2tlci1hZnRlclwiIH0pLCBoKFwiZGl2XCIsIHsgY2xhc3M6IFwicGlja2VyLWhpZ2hsaWdodFwiLCByZWY6IChlbCkgPT4gKHRoaXMuaGlnaGxpZ2h0RWwgPSBlbCkgfSksIGgoXCJzbG90XCIsIG51bGwpKSk7XG4gIH1cbiAgZ2V0IGVsKCkgeyByZXR1cm4gZ2V0RWxlbWVudCh0aGlzKTsgfVxufTtcblBpY2tlckludGVybmFsLnN0eWxlID0ge1xuICBpb3M6IHBpY2tlckludGVybmFsSW9zQ3NzLFxuICBtZDogcGlja2VySW50ZXJuYWxNZENzc1xufTtcblxuZXhwb3J0IHsgUGlja2VySW50ZXJuYWwgYXMgaW9uX3BpY2tlcl9pbnRlcm5hbCB9O1xuIl0sIm5hbWVzIjpbInIiLCJyZWdpc3Rlckluc3RhbmNlIiwiZCIsImNyZWF0ZUV2ZW50IiwiaCIsIkgiLCJIb3N0IiwiZiIsImdldEVsZW1lbnQiLCJnIiwiZ2V0RWxlbWVudFJvb3QiLCJwaWNrZXJJbnRlcm5hbElvc0NzcyIsInBpY2tlckludGVybmFsTWRDc3MiLCJQaWNrZXJJbnRlcm5hbCIsImNvbnN0cnVjdG9yIiwiaG9zdFJlZiIsImlvbklucHV0TW9kZUNoYW5nZSIsInVzZUlucHV0TW9kZSIsImlzSW5IaWdobGlnaHRCb3VuZHMiLCJldiIsImhpZ2hsaWdodEVsIiwiYmJveCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIm91dHNpZGVYIiwiY2xpZW50WCIsImxlZnQiLCJyaWdodCIsIm91dHNpZGVZIiwiY2xpZW50WSIsInRvcCIsImJvdHRvbSIsIm9uRm9jdXNPdXQiLCJyZWxhdGVkVGFyZ2V0IiwidGFnTmFtZSIsImlucHV0RWwiLCJleGl0SW5wdXRNb2RlIiwib25Gb2N1c0luIiwidGFyZ2V0IiwiYWN0aW9uT25DbGljayIsImNvbHVtbkVsIiwiYWxsb3dJbnB1dCIsIm51bWVyaWNJbnB1dCIsImVudGVySW5wdXRNb2RlIiwib25DbGljayIsInVuZGVmaW5lZCIsIm9uUG9pbnRlckRvd24iLCJpbnB1dE1vZGVDb2x1bW4iLCJlbCIsImNvbHVtbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ3RoIiwiZm9jdXNJbnB1dCIsImhhc0lucHV0Q29sdW1uIiwicXVlcnlTZWxlY3RvciIsImRlc3Ryb3lLZXlwcmVzc0xpc3RlbmVyIiwiZm9jdXMiLCJhZGRFdmVudExpc3RlbmVyIiwib25LZXlQcmVzcyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbWl0SW5wdXRNb2RlQ2hhbmdlIiwicGFyc2VkVmFsdWUiLCJwYXJzZUludCIsImtleSIsIk51bWJlciIsImlzTmFOIiwidmFsdWUiLCJvbklucHV0Q2hhbmdlIiwic2VsZWN0U2luZ2xlQ29sdW1uIiwic2luZ2xlQ29sdW1uU2VhcmNoVGltZW91dCIsInZhbHVlcyIsIml0ZW1zIiwiZmlsdGVyIiwiaXRlbSIsImRpc2FibGVkIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInN0YXJ0SW5kZXgiLCJuZXdTdHJpbmciLCJzdWJzdHJpbmciLCJmaW5kSXRlbUZyb21Db21wbGV0ZVZhbHVlIiwiZmluZCIsInRleHQiLCJwYXJzZWRUZXh0IiwicmVwbGFjZSIsInNldFZhbHVlIiwiY2hhbmdlZENoYXJhY3RlciIsInNlYXJjaENvbHVtbiIsImNvbEVsIiwiemVyb0JlaGF2aW9yIiwiYmVoYXZpb3IiLCJzZWxlY3RNdWx0aUNvbHVtbiIsIm51bWVyaWNQaWNrZXJzIiwiQXJyYXkiLCJmcm9tIiwiY29sIiwiZmlyc3RDb2x1bW4iLCJsYXN0Q29sdW1uIiwibWludXRlVmFsdWUiLCJmaXJzdENoYXJhY3RlciIsImZpcnN0Q2hhcmFjdGVyQWdhaW4iLCJmaXJzdENoYXJhY3RlckFnYWluQWdhaW4iLCJtaW51dGVWYWx1ZUFnYWluIiwiZW1pdCIsInByZXZlbnRUb3VjaFN0YXJ0UHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJjb21wb25lbnRXaWxsTG9hZCIsIl90aGlzIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJibHVyIiwicmVuZGVyIiwidGFiaW5kZXgiLCJpbnB1dG1vZGUiLCJ0eXBlIiwicmVmIiwib25JbnB1dCIsIm9uQmx1ciIsImNsYXNzIiwic3R5bGUiLCJpb3MiLCJtZCIsImlvbl9waWNrZXJfaW50ZXJuYWwiXSwic291cmNlUm9vdCI6IndlYnBhY2s6Ly8vIiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzBdfQ==